{
    "title": "Cache e redund\u00e2ncia em @favoritos",
    "description": "# Cache e redund\u00e2ncia em @favoritos\n\n<!-- toch -->\n[Intro](#intro) | [Shell](#shell) | [Guide](#guide) | [Esqueleto](#esqueleto)\n-- | -- | -- | --\n<!-- toch -->\n\n![cover](cover.jpg)\n\nAmpliando a atividade de agenda 2, vamos criar uma agenda que gerencia os nossos contatos.\n\n## Intro\n\nO sistema dever\u00e1:\n\n- Partida\n  - Voc\u00ea deve utilizar o c\u00f3digo constru\u00eddo na atividade busca.\n  - Voc\u00ea dever\u00e1 modificar o contato e a classe agenda para permitir a opera\u00e7\u00e3o de favoritar contatos.\n  - Para isso, o contato ganhar\u00e1 um atributo \"star\" que marca se ele est\u00e1 favoritado.\n  - A agenda ganhar\u00e1 os m\u00e9todos star e getStarred para favoritar e pegar os favoritos.\n- Mostrando\n  - Ordenar os contatos pelo idContato.\n  - Se o contato n\u00e3o for favorito (starred) use - antes do idContato.\n  - Marque os contatos que s\u00e3o favoritados com um @ antes do idContato.\n- Favoritando\n  - Favoritar contatos. (star)\n  - Desfavoritar contatos. (unstar)\n  - Mostrar apenas os favoritos. (starred)\n\n## Shell\n\n```bash\n#__case iniciando agenda\n$add eva oi:8585 claro:9999\n$add ana tim:3434 \n$add ana casa:4567 oi:8754\n$add bia vivo:5454\n$add rui casa:3233\n$add zac fixo:3131\n\n$show\n- ana [0:tim:3434] [1:casa:4567] [2:oi:8754]\n- bia [0:vivo:5454]\n- eva [0:oi:8585] [1:claro:9999]\n- rui [0:casa:3233]\n- zac [0:fixo:3131]\n\n#__case favoritando\n$star eva\n$star ana\n$star ana\n$star zac\n\n$show\n@ ana [0:tim:3434] [1:casa:4567] [2:oi:8754]\n- bia [0:vivo:5454]\n@ eva [0:oi:8585] [1:claro:9999]\n- rui [0:casa:3233]\n@ zac [0:fixo:3131]\n\n#__case lista de favoritos\n$starred\n@ ana [0:tim:3434] [1:casa:4567] [2:oi:8754]\n@ eva [0:oi:8585] [1:claro:9999]\n@ zac [0:fixo:3131]\n\n#__case removendo contato\n$rm zac\n\n$show\n@ ana [0:tim:3434] [1:casa:4567] [2:oi:8754]\n- bia [0:vivo:5454]\n@ eva [0:oi:8585] [1:claro:9999]\n- rui [0:casa:3233]\n\n$starred\n@ ana [0:tim:3434] [1:casa:4567] [2:oi:8754]\n@ eva [0:oi:8585] [1:claro:9999]\n\n#__case desfavoritando\n$unstar ana\n\n$starred\n@ eva [0:oi:8585] [1:claro:9999]\n\n$show\n- ana [0:tim:3434] [1:casa:4567] [2:oi:8754]\n- bia [0:vivo:5454]\n@ eva [0:oi:8585] [1:claro:9999]\n- rui [0:casa:3233]\n$end\n```\n\n***\n\n## Guide\n\n![diagrama](diagrama.png)\n\n## Esqueleto\n<!--FILTER Solver.java java-->\n```java\nclass Fone {\n    private String id;\n    private String number;\n    public Fone(String id, String number);\n    //verifica se o n\u00famero \u00e9 um n\u00famero de telefone v\u00e1lido\n    public static boolean validate(String number);\n    //O resultado deve ficar assim\n    //oi:1234\n    public String toString();\n    //GETS e SETS\n    String getId();\n    void setId(String id);\n    String getNumber();\n    void setNumber(String number);\n}\nclass Contact {\n    private String name;\n    private List<Fone> fones;\n    protected String prefix = \"-\"; //utilizado no toString\n    private boolean star;\n    //Crie um ArrayList para o ATRIBUTO fones\n    //Se a vari\u00e1vel fones n\u00e3o for null, adicione todos os fones usando o m\u00e9todo addFone\n    //Inicie star como false\n    public Contact(String name, List<Fone> fones);\n    //Se fone for v\u00e1lido, insira no atributo fones\n    //Se n\u00e3o, informe o erro\n    public void addFone(Fone fone);\n    //Se o \u00edndice existir no ArrayList, remova o telefone com esse \u00edndice\n    public void rmFone(int index);\n    //Use um contador para mostrar o \u00edndice do telefone\n    //Use o toString do fone para adicion\u00e1-lo \u00e0 sa\u00edda\n    //O resultado dever ficar assim:\n    //- david [0:oi:123] [1:tim:9081] [2:claro:5431]\n    public String toString();\n    //GETS e SETS\n    String getName();\n    void setName(String name);\n    List<Fone> getFones();\n    //muda o prefixo e o valor de star\n    void setStar(boolean value);\n    boolean getStar(); \n}\nclass Agenda {\n    private List<Contact> contacts;\n    public Agenda();\n    //retorna a posi\u00e7\u00e3o do contato com esse nome no vetor ou -1 se n\u00e3o existir.\n    private int findPos(String name);\n    //retorna o objeto contato com esse nome ou null se n\u00e3o existir\n    //utilize o m\u00e9todo findPos\n    public Contact getContact(String name);\n    //se nenhum contato existir com esse nome, adicione\n    //se ja existir, fa\u00e7a o merge adicionando os telefones\n    public void addContact(Contact contact);\n    //Utilize o m\u00e9todo findPos\n    public void rmContact(String name);\n    //Monte uma lista auxiliar procurando no .toString() de cada contato\n    //se ele possui a substring procurada.\n    public List<Contact> search(String pattern);\n    public String toString();\n    //se o contato existir, altere o atributo star dele\n    public void star(String name, boolean value); \n    //filtre em uma nova lista apenas os contatos que est\u00e3o favoritados\n    public List<Contact> getStarred();\n    List<Contact> getContacts();\n}\nclass Solver {\n    //cria um contato a partir do vetor de entrada tal como\n    //add joao oi:123 tim:432 claro:09123\n    static Contact parseContact(String[] ui) {\n        return new Contact(ui[1], Arrays.asList(ui).stream()\n            .skip(2).map(token -> new Fone(token.split(\":\")[0], token.split(\":\")[1]))\n            .collect(Collectors.toList()));\n    }\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        Agenda agenda = new Agenda();\n        while(true) {\n            String line = scanner.nextLine();\n            System.out.println(\"$\" + line);\n            String ui[] = line.split(\" \");\n            \n            if(ui[0].equals(\"end\")) {\n                break;\n            } else if(ui[0].equals(\"init\")) {\n                agenda = new Agenda();\n            } else if(ui[0].equals(\"add\")) { //name label:fone label:fone label:fone\n                agenda.addContact(Solver.parseContact(ui));\n            } else if(ui[0].equals(\"rm\")) { //name\n                agenda.rmContact(ui[1]);;\n            } else if(ui[0].equals(\"rmFone\")) { //name index\n                agenda.getContact(ui[1]).rmFone(Integer.parseInt(ui[2]));\n            } else if(ui[0].equals(\"show\")) {\n                System.out.println(agenda);\n            } else if(ui[0].equals(\"star\")) {\n                agenda.star(ui[1], true);\n            } else if(ui[0].equals(\"unstar\")) {\n                agenda.star(ui[1], false);\n            } else if(ui[0].equals(\"starred\")) {\n                System.out.println(agenda.getStarred().stream().map(c -> \"\" + c).collect(Collectors.joining(\"\\n\")));\n            } else if(ui[0].equals(\"search\")) {\n                System.out.println(agenda.search(ui[1]).stream().map(c -> \"\" + c).collect(Collectors.joining(\"\\n\")));\n            } else {\n                System.out.println(\"fail: invalid command\");\n            }\n        }\n        scanner.close();\n    }\n}\n\nclass Manual {\n    public static void main(String[] args) {\n        Agenda agenda = new Agenda();\n        agenda.addContact(new Contact(\"eva\", Arrays.asList(new Fone(\"oio\", \"8585\"), new Fone(\"cla\", \"9999\"))));\n        agenda.addContact(new Contact(\"ana\", Arrays.asList(new Fone(\"Tim\", \"3434\"))));\n        agenda.addContact(new Contact(\"bia\", Arrays.asList(new Fone(\"viv\", \"5454\"))));\n        agenda.addContact(new Contact(\"ana\", Arrays.asList(new Fone(\"cas\", \"4567\"), new Fone(\"oio\", \"8754\"))));\n        System.out.println(agenda);\n        /*\n        - ana [0:casa:4567][1:oi:8754]\n        - bia [0:vivo:5454]\n        - eva [0:oi:8585][1:claro:9999]\n        - rui [0:casa:3233]\n        - zac [0:fixo:3131]\n        */\n\n        //case favoritando\n        agenda.star(\"eva\", true);\n        agenda.star(\"ana\", true);\n        agenda.star(\"ana\", true);\n        agenda.star(\"zac\", true);\n        agenda.star(\"rex\", true);\n        //fail: contato rex nao existe\n        System.out.println(agenda);\n        /*\n        @ ana [0:casa:4567][1:oi:8754]\n        - bia [0:vivo:5454]\n        @ eva [0:oi:8585][1:claro:9999]\n        - rui [0:casa:3233]\n        @ zac [0:fixo:3131]\n        */\n\n        //case lista de favoritos\n        for(Contact fav : agenda.getStarred())\n            System.out.println(fav);\n        /*\n        @ ana [0:casa:4567][1:oi:8754]\n        @ eva [0:oi:8585][1:claro:9999]\n        @ zac [0:fixo:3131]\n        */\n\n        //case removendo contato\n        agenda.rmContact(\"zac\");\n        System.out.println(agenda);\n        /*\n        @ ana [0:casa:4567][1:oi:8754]\n        - bia [0:vivo:5454]\n        @ eva [0:oi:8585][1:claro:9999]\n        - rui [0:casa:3233]\n        */\n        for(Contact fav : agenda.getStarred())\n            System.out.println(fav);\n        /*\n        @ ana [0:casa:4567][1:oi:8754]\n        @ eva [0:oi:8585][1:claro:9999]\n        */\n\n        //case desfavoritando\n        agenda.star(\"ana\", false);\n        for(Contact fav : agenda.getStarred())\n            System.out.println(fav);\n        //@ eva [0:oi:8585][1:claro:9999]\n        System.out.println(agenda);\n        /*\n        - ana [0:casa:4567][1:oi:8754]\n        - bia [0:vivo:5454]\n        @ eva [0:oi:8585][1:claro:9999]\n        - rui [0:casa:3233]\n        */\n    }\n}\n```\n<!--FILTER_END-->\n",
    "upload": [
        {
            "name": "vpl_evaluate.cases",
            "contents": ">>>>>>>> iniciando agenda\nadd eva oi:8585 claro:9999\nadd ana tim:3434 \nadd ana casa:4567 oi:8754\nadd bia vivo:5454\nadd rui casa:3233\nadd zac fixo:3131\nshow\nend\n========\n$add eva oi:8585 claro:9999\n$add ana tim:3434 \n$add ana casa:4567 oi:8754\n$add bia vivo:5454\n$add rui casa:3233\n$add zac fixo:3131\n$show\n- ana [0:tim:3434] [1:casa:4567] [2:oi:8754]\n- bia [0:vivo:5454]\n- eva [0:oi:8585] [1:claro:9999]\n- rui [0:casa:3233]\n- zac [0:fixo:3131]\n$end\n<<<<<<<<\n\n>>>>>>>> favoritando\nadd eva oi:8585 claro:9999\nadd ana tim:3434 \nadd ana casa:4567 oi:8754\nadd bia vivo:5454\nadd rui casa:3233\nadd zac fixo:3131\nshow\nstar eva\nstar ana\nstar ana\nstar zac\nshow\nend\n========\n$add eva oi:8585 claro:9999\n$add ana tim:3434 \n$add ana casa:4567 oi:8754\n$add bia vivo:5454\n$add rui casa:3233\n$add zac fixo:3131\n$show\n- ana [0:tim:3434] [1:casa:4567] [2:oi:8754]\n- bia [0:vivo:5454]\n- eva [0:oi:8585] [1:claro:9999]\n- rui [0:casa:3233]\n- zac [0:fixo:3131]\n$star eva\n$star ana\n$star ana\n$star zac\n$show\n@ ana [0:tim:3434] [1:casa:4567] [2:oi:8754]\n- bia [0:vivo:5454]\n@ eva [0:oi:8585] [1:claro:9999]\n- rui [0:casa:3233]\n@ zac [0:fixo:3131]\n$end\n<<<<<<<<\n\n>>>>>>>> lista de favoritos\nadd eva oi:8585 claro:9999\nadd ana tim:3434 \nadd ana casa:4567 oi:8754\nadd bia vivo:5454\nadd rui casa:3233\nadd zac fixo:3131\nshow\nstar eva\nstar ana\nstar ana\nstar zac\nshow\nstarred\nend\n========\n$add eva oi:8585 claro:9999\n$add ana tim:3434 \n$add ana casa:4567 oi:8754\n$add bia vivo:5454\n$add rui casa:3233\n$add zac fixo:3131\n$show\n- ana [0:tim:3434] [1:casa:4567] [2:oi:8754]\n- bia [0:vivo:5454]\n- eva [0:oi:8585] [1:claro:9999]\n- rui [0:casa:3233]\n- zac [0:fixo:3131]\n$star eva\n$star ana\n$star ana\n$star zac\n$show\n@ ana [0:tim:3434] [1:casa:4567] [2:oi:8754]\n- bia [0:vivo:5454]\n@ eva [0:oi:8585] [1:claro:9999]\n- rui [0:casa:3233]\n@ zac [0:fixo:3131]\n$starred\n@ ana [0:tim:3434] [1:casa:4567] [2:oi:8754]\n@ eva [0:oi:8585] [1:claro:9999]\n@ zac [0:fixo:3131]\n$end\n<<<<<<<<\n\n>>>>>>>> removendo contato\nadd eva oi:8585 claro:9999\nadd ana tim:3434 \nadd ana casa:4567 oi:8754\nadd bia vivo:5454\nadd rui casa:3233\nadd zac fixo:3131\nshow\nstar eva\nstar ana\nstar ana\nstar zac\nshow\nstarred\nrm zac\nshow\nstarred\nend\n========\n$add eva oi:8585 claro:9999\n$add ana tim:3434 \n$add ana casa:4567 oi:8754\n$add bia vivo:5454\n$add rui casa:3233\n$add zac fixo:3131\n$show\n- ana [0:tim:3434] [1:casa:4567] [2:oi:8754]\n- bia [0:vivo:5454]\n- eva [0:oi:8585] [1:claro:9999]\n- rui [0:casa:3233]\n- zac [0:fixo:3131]\n$star eva\n$star ana\n$star ana\n$star zac\n$show\n@ ana [0:tim:3434] [1:casa:4567] [2:oi:8754]\n- bia [0:vivo:5454]\n@ eva [0:oi:8585] [1:claro:9999]\n- rui [0:casa:3233]\n@ zac [0:fixo:3131]\n$starred\n@ ana [0:tim:3434] [1:casa:4567] [2:oi:8754]\n@ eva [0:oi:8585] [1:claro:9999]\n@ zac [0:fixo:3131]\n$rm zac\n$show\n@ ana [0:tim:3434] [1:casa:4567] [2:oi:8754]\n- bia [0:vivo:5454]\n@ eva [0:oi:8585] [1:claro:9999]\n- rui [0:casa:3233]\n$starred\n@ ana [0:tim:3434] [1:casa:4567] [2:oi:8754]\n@ eva [0:oi:8585] [1:claro:9999]\n$end\n<<<<<<<<\n\n>>>>>>>> desfavoritando\nadd eva oi:8585 claro:9999\nadd ana tim:3434 \nadd ana casa:4567 oi:8754\nadd bia vivo:5454\nadd rui casa:3233\nadd zac fixo:3131\nshow\nstar eva\nstar ana\nstar ana\nstar zac\nshow\nstarred\nrm zac\nshow\nstarred\nunstar ana\nstarred\nshow\nend\n========\n$add eva oi:8585 claro:9999\n$add ana tim:3434 \n$add ana casa:4567 oi:8754\n$add bia vivo:5454\n$add rui casa:3233\n$add zac fixo:3131\n$show\n- ana [0:tim:3434] [1:casa:4567] [2:oi:8754]\n- bia [0:vivo:5454]\n- eva [0:oi:8585] [1:claro:9999]\n- rui [0:casa:3233]\n- zac [0:fixo:3131]\n$star eva\n$star ana\n$star ana\n$star zac\n$show\n@ ana [0:tim:3434] [1:casa:4567] [2:oi:8754]\n- bia [0:vivo:5454]\n@ eva [0:oi:8585] [1:claro:9999]\n- rui [0:casa:3233]\n@ zac [0:fixo:3131]\n$starred\n@ ana [0:tim:3434] [1:casa:4567] [2:oi:8754]\n@ eva [0:oi:8585] [1:claro:9999]\n@ zac [0:fixo:3131]\n$rm zac\n$show\n@ ana [0:tim:3434] [1:casa:4567] [2:oi:8754]\n- bia [0:vivo:5454]\n@ eva [0:oi:8585] [1:claro:9999]\n- rui [0:casa:3233]\n$starred\n@ ana [0:tim:3434] [1:casa:4567] [2:oi:8754]\n@ eva [0:oi:8585] [1:claro:9999]\n$unstar ana\n$starred\n@ eva [0:oi:8585] [1:claro:9999]\n$show\n- ana [0:tim:3434] [1:casa:4567] [2:oi:8754]\n- bia [0:vivo:5454]\n@ eva [0:oi:8585] [1:claro:9999]\n- rui [0:casa:3233]\n$end\n<<<<<<<<\n",
            "encoding": 0
        }
    ],
    "keep": [],
    "required": [],
    "draft": {}
}
