{
    "title": "Opera\u00e7\u00f5es de saque, dep\u00f3sito, extrato e @tarifas",
    "description": "# Opera\u00e7\u00f5es de saque, dep\u00f3sito, extrato e @tarifas\n\n<!-- toch -->\n[Intro](#intro) | [Draft](#draft) | [Guide](#guide) | [Shell](#shell)\n-- | -- | -- | --\n<!-- toch -->\n\n![cover](cover.jpg)\n\nO objetivo dessa atividade \u00e9 implementar uma classe respons\u00e1vel por gerenciar a account banc\u00e1ria de um \u00fanico cliente. Faremos opera\u00e7\u00f5es de withdraw, dep\u00f3sito e extrato.\n\n## Intro\n\n- **Iniciar**\n  - Iniciar a account passando n\u00famero da account.\n  - Se a account j\u00e1 existir, resete todos os valores para uma nova account.\n  - Inicia a account com a opera\u00e7\u00e3o de \"abertura\".\n  - Para facilitar a visualiza\u00e7\u00e3o dos dados, utilize inteiros para registrar as opera\u00e7\u00f5es financeiras.\n- **Saque, Dep\u00f3sito e Tarifas**\n  - Verifique se o valor \u00e9 v\u00e1lido.\n  - No caso da tarifa, o valor final de saldo poder\u00e1 ser negativo.\n  - No caso do saque, verifique se h\u00e1 saldo suficiente efetuar a opera\u00e7\u00e3o.\n- **Retornar o extrato**.\n  - Retornar todas as movimenta\u00e7\u00f5es da conta.\n  - A descri\u00e7\u00e3o pode ser \"opening\", \"withdraw\", \"deposit\", \"fee\", \"reverse\", \"error\".\n  - Os saques devem ter valor negativo e os dep\u00f3sitos positivos.\n  - Se a quantidade for fornecida, retorne apenas as \u00faltimas movimenta\u00e7\u00f5es.\n- **Extornar tarifas**.\n  - Deve ser poss\u00edvel extornar, pagando de volta, tarifas passando uma lista de \u00edndices.\n  - Apenas efetue a opera\u00e7\u00e3o de extorno dos \u00edndices v\u00e1lidos que forem tarifas.\n\n***\n\n## Draft\n\n- [draft.cpp](.cache/draft.cpp)\n- [draft.java](.cache/draft.java)\n- [draft.ts](.cache/draft.ts)\n\n## Guide\n\n![diagrama](diagrama.png)\n\n<!-- load diagrama.puml fenced=ts:filter -->\n\n```ts\n\nenum Label {\n  + DEPOSIT {static}\n  + FEE {static}\n  + OPENING {static}\n  + REVERSE {static}\n  + WITHDRAW {static}\n  + ERROR {static}\n\n  __\n  - label: String\n  - Label(label : String)\n  __\n  + getLabel() : String\n}\n\n' opera\u00e7\u00e3o guarda os dados de uma \u00fanica opera\u00e7\u00e3o\nclass Operation {\n  - index : int\n  - label : Label\n  ' valor em negativo se estiver diminuindo o saldo\n  - value : int\n  ' saldo residual apos opera\u00e7\u00e3o\n  - balance : int\n  __\n  + Operation(index : int, label : Label, value : int, balance : int)\n\n  + toString() : String\n  __\n  + getBalance() : int\n  + getIndex() : int\n  + getLabel() : Label\n  + getValue() : int\n}\n\n' nessa classe s\u00e3o efetivadas e registradas as altera\u00e7\u00f5es no saldo\nclass BalanceManager {\n\n  ' saldo do cliente\n  - balance : int \n\n  ' extrato\n  - extract : List<Operation>\n  \n  ' id da pr\u00f3xima opera\u00e7\u00e3o\n  - nextId : int\n  __\n  + BalanceManager()\n\n  ' adiciona value ao balance\n  ' crie opera\u00e7\u00e3o e adicione ao vetor de opera\u00e7\u00f5es\n  ' incrementa o nextId\n  + addOperation(label : Label, value : int)\n  '\n  ' retorna a opera\u00e7\u00e3o caso o \u00edndice seja v\u00e1lido\n  ' retorna uma opera\u00e7\u00e3o com label ERROR caso contr\u00e1rio\n  + getOperation(index : int) : Operation\n  '\n  + toString() : String\n  __\n  '\n  ' retorna o saldo atual\n  + getBalance() : int\n\n  ' se qtdOp for 0, retorne todas as opera\u00e7\u00f5es\n  ' se qtdOp for positivo, retorne as \u00faltimas qtdOp opera\u00e7\u00f5es\n  + getExtract(qtdOp : int) : List<Operation>\n}\n\nclass Account {\n  - balanceManager : BalanceManager\n  - id : int\n  __\n  + Account(id : int)\n\n  ' adiciona valor \u00e0 conta\n  + deposit(value : int) : void\n\n  ' retira o dinheiro, mesmo que o balance fique negativo\n  + fee(value : int) : void\n\n  ' se o \u00edndice for v\u00e1lido e representar uma opera\u00e7\u00e3o de tarifa\n  ' adicione o mesmo valor tarifado, mas com label de reverse(extorno)\n  + reverse(index : int) : void\n\n  ' s\u00f3 realiza a opera\u00e7\u00e3o se houver dinheiro suficiente na conta\n  + withdraw(value : int) : void\n  + toString() : String\n  __\n  ' em c++, retorne a referencia\n  + getBalanceManager() : BalanceManager\n}\n\n\n\n```\n\n<!-- load -->\n\n***\n\n## Shell\n\n```bash\n#__case iniciar\n$init 100\n$show\naccount:100 balance:0\n\n#__case depositar\n$deposit 100\n$show\naccount:100 balance:100\n\n#__case deposito invalido\n$deposit -10\nfail: invalid value\n$show\naccount:100 balance:100\n\n#__case saque\n$withdraw 20\n$show\naccount:100 balance:80\n\n#__case taxa\n$fee 10\n$show\naccount:100 balance:70\n\n#__case saque muito alto\n$withdraw 150\nfail: insufficient balance\n$show\naccount:100 balance:70\n\n$withdraw 30\n$show\naccount:100 balance:40\n\n#__case taxa\n$fee 5\n$show\naccount:100 balance:35\n\n#__deposito\n$deposit 5\n$fee 1\n$show\naccount:100 balance:39\n\n#__case extrato\n#extrato mostra todas as opera\u00e7\u00f5es desde a abertura da account\n$extract 0\n 0:  opening:    0:    0\n 1:  deposit:  100:  100\n 2: withdraw:  -20:   80\n 3:      fee:  -10:   70\n 4: withdraw:  -30:   40\n 5:      fee:   -5:   35\n 6:  deposit:    5:   40\n 7:      fee:   -1:   39\n\n#__case extrato n\n#extrato mostra as ultimas N operacoes\n$extract 2\n 6:  deposit:    5:   40\n 7:      fee:   -1:   39\n\n#__case extornar\n$reverse 1 5 7 50\nfail: index 1 is not a fee\nfail: index 50 invalid\n\n#__case novo extrato\n$extract 0\n 0:  opening:    0:    0\n 1:  deposit:  100:  100\n 2: withdraw:  -20:   80\n 3:      fee:  -10:   70\n 4: withdraw:  -30:   40\n 5:      fee:   -5:   35\n 6:  deposit:    5:   40\n 7:      fee:   -1:   39\n 8:  reverse:    5:   44\n 9:  reverse:    1:   45\n\n#__case extrato tarifa\n$fee 50\n$extract 2\n 9:  reverse:    1:   45\n10:      fee:  -50:   -5\n\n$end\n```\n\n***\n\n```bash\n#__case fee\n$init 107\n$fee 10\n$show\naccount:107 balance:-10\n$extract 0\n 0:  opening:    0:    0\n 1:      fee:  -10:  -10\n$end\n```\n",
    "upload": [
        {
            "name": "vpl_evaluate.cases",
            "contents": ">>>>>>>> iniciar\ninit 100\nshow\nend\n========\n$init 100\n$show\naccount:100 balance:0\n$end\n<<<<<<<<\n\n>>>>>>>> depositar\ninit 100\nshow\ndeposit 100\nshow\nend\n========\n$init 100\n$show\naccount:100 balance:0\n$deposit 100\n$show\naccount:100 balance:100\n$end\n<<<<<<<<\n\n>>>>>>>> deposito invalido\ninit 100\nshow\ndeposit 100\nshow\ndeposit -10\nshow\nend\n========\n$init 100\n$show\naccount:100 balance:0\n$deposit 100\n$show\naccount:100 balance:100\n$deposit -10\nfail: invalid value\n$show\naccount:100 balance:100\n$end\n<<<<<<<<\n\n>>>>>>>> saque\ninit 100\nshow\ndeposit 100\nshow\ndeposit -10\nshow\nwithdraw 20\nshow\nend\n========\n$init 100\n$show\naccount:100 balance:0\n$deposit 100\n$show\naccount:100 balance:100\n$deposit -10\nfail: invalid value\n$show\naccount:100 balance:100\n$withdraw 20\n$show\naccount:100 balance:80\n$end\n<<<<<<<<\n\n>>>>>>>> taxa\ninit 100\nshow\ndeposit 100\nshow\ndeposit -10\nshow\nwithdraw 20\nshow\nfee 10\nshow\nend\n========\n$init 100\n$show\naccount:100 balance:0\n$deposit 100\n$show\naccount:100 balance:100\n$deposit -10\nfail: invalid value\n$show\naccount:100 balance:100\n$withdraw 20\n$show\naccount:100 balance:80\n$fee 10\n$show\naccount:100 balance:70\n$end\n<<<<<<<<\n\n>>>>>>>> saque muito alto\ninit 100\nshow\ndeposit 100\nshow\ndeposit -10\nshow\nwithdraw 20\nshow\nfee 10\nshow\nwithdraw 150\nshow\nwithdraw 30\nshow\nend\n========\n$init 100\n$show\naccount:100 balance:0\n$deposit 100\n$show\naccount:100 balance:100\n$deposit -10\nfail: invalid value\n$show\naccount:100 balance:100\n$withdraw 20\n$show\naccount:100 balance:80\n$fee 10\n$show\naccount:100 balance:70\n$withdraw 150\nfail: insufficient balance\n$show\naccount:100 balance:70\n$withdraw 30\n$show\naccount:100 balance:40\n$end\n<<<<<<<<\n\n>>>>>>>> taxa\ninit 100\nshow\ndeposit 100\nshow\ndeposit -10\nshow\nwithdraw 20\nshow\nfee 10\nshow\nwithdraw 150\nshow\nwithdraw 30\nshow\nfee 5\nshow\ndeposit 5\nfee 1\nshow\nend\n========\n$init 100\n$show\naccount:100 balance:0\n$deposit 100\n$show\naccount:100 balance:100\n$deposit -10\nfail: invalid value\n$show\naccount:100 balance:100\n$withdraw 20\n$show\naccount:100 balance:80\n$fee 10\n$show\naccount:100 balance:70\n$withdraw 150\nfail: insufficient balance\n$show\naccount:100 balance:70\n$withdraw 30\n$show\naccount:100 balance:40\n$fee 5\n$show\naccount:100 balance:35\n$deposit 5\n$fee 1\n$show\naccount:100 balance:39\n$end\n<<<<<<<<\n\n>>>>>>>> extrato\ninit 100\nshow\ndeposit 100\nshow\ndeposit -10\nshow\nwithdraw 20\nshow\nfee 10\nshow\nwithdraw 150\nshow\nwithdraw 30\nshow\nfee 5\nshow\ndeposit 5\nfee 1\nshow\nextract 0\nend\n========\n$init 100\n$show\naccount:100 balance:0\n$deposit 100\n$show\naccount:100 balance:100\n$deposit -10\nfail: invalid value\n$show\naccount:100 balance:100\n$withdraw 20\n$show\naccount:100 balance:80\n$fee 10\n$show\naccount:100 balance:70\n$withdraw 150\nfail: insufficient balance\n$show\naccount:100 balance:70\n$withdraw 30\n$show\naccount:100 balance:40\n$fee 5\n$show\naccount:100 balance:35\n$deposit 5\n$fee 1\n$show\naccount:100 balance:39\n$extract 0\n 0:  opening:    0:    0\n 1:  deposit:  100:  100\n 2: withdraw:  -20:   80\n 3:      fee:  -10:   70\n 4: withdraw:  -30:   40\n 5:      fee:   -5:   35\n 6:  deposit:    5:   40\n 7:      fee:   -1:   39\n$end\n<<<<<<<<\n\n>>>>>>>> extrato n\ninit 100\nshow\ndeposit 100\nshow\ndeposit -10\nshow\nwithdraw 20\nshow\nfee 10\nshow\nwithdraw 150\nshow\nwithdraw 30\nshow\nfee 5\nshow\ndeposit 5\nfee 1\nshow\nextract 0\nextract 2\nend\n========\n$init 100\n$show\naccount:100 balance:0\n$deposit 100\n$show\naccount:100 balance:100\n$deposit -10\nfail: invalid value\n$show\naccount:100 balance:100\n$withdraw 20\n$show\naccount:100 balance:80\n$fee 10\n$show\naccount:100 balance:70\n$withdraw 150\nfail: insufficient balance\n$show\naccount:100 balance:70\n$withdraw 30\n$show\naccount:100 balance:40\n$fee 5\n$show\naccount:100 balance:35\n$deposit 5\n$fee 1\n$show\naccount:100 balance:39\n$extract 0\n 0:  opening:    0:    0\n 1:  deposit:  100:  100\n 2: withdraw:  -20:   80\n 3:      fee:  -10:   70\n 4: withdraw:  -30:   40\n 5:      fee:   -5:   35\n 6:  deposit:    5:   40\n 7:      fee:   -1:   39\n$extract 2\n 6:  deposit:    5:   40\n 7:      fee:   -1:   39\n$end\n<<<<<<<<\n\n>>>>>>>> extornar\ninit 100\nshow\ndeposit 100\nshow\ndeposit -10\nshow\nwithdraw 20\nshow\nfee 10\nshow\nwithdraw 150\nshow\nwithdraw 30\nshow\nfee 5\nshow\ndeposit 5\nfee 1\nshow\nextract 0\nextract 2\nreverse 1 5 7 50\nend\n========\n$init 100\n$show\naccount:100 balance:0\n$deposit 100\n$show\naccount:100 balance:100\n$deposit -10\nfail: invalid value\n$show\naccount:100 balance:100\n$withdraw 20\n$show\naccount:100 balance:80\n$fee 10\n$show\naccount:100 balance:70\n$withdraw 150\nfail: insufficient balance\n$show\naccount:100 balance:70\n$withdraw 30\n$show\naccount:100 balance:40\n$fee 5\n$show\naccount:100 balance:35\n$deposit 5\n$fee 1\n$show\naccount:100 balance:39\n$extract 0\n 0:  opening:    0:    0\n 1:  deposit:  100:  100\n 2: withdraw:  -20:   80\n 3:      fee:  -10:   70\n 4: withdraw:  -30:   40\n 5:      fee:   -5:   35\n 6:  deposit:    5:   40\n 7:      fee:   -1:   39\n$extract 2\n 6:  deposit:    5:   40\n 7:      fee:   -1:   39\n$reverse 1 5 7 50\nfail: index 1 is not a fee\nfail: index 50 invalid\n$end\n<<<<<<<<\n\n>>>>>>>> novo extrato\ninit 100\nshow\ndeposit 100\nshow\ndeposit -10\nshow\nwithdraw 20\nshow\nfee 10\nshow\nwithdraw 150\nshow\nwithdraw 30\nshow\nfee 5\nshow\ndeposit 5\nfee 1\nshow\nextract 0\nextract 2\nreverse 1 5 7 50\nextract 0\nend\n========\n$init 100\n$show\naccount:100 balance:0\n$deposit 100\n$show\naccount:100 balance:100\n$deposit -10\nfail: invalid value\n$show\naccount:100 balance:100\n$withdraw 20\n$show\naccount:100 balance:80\n$fee 10\n$show\naccount:100 balance:70\n$withdraw 150\nfail: insufficient balance\n$show\naccount:100 balance:70\n$withdraw 30\n$show\naccount:100 balance:40\n$fee 5\n$show\naccount:100 balance:35\n$deposit 5\n$fee 1\n$show\naccount:100 balance:39\n$extract 0\n 0:  opening:    0:    0\n 1:  deposit:  100:  100\n 2: withdraw:  -20:   80\n 3:      fee:  -10:   70\n 4: withdraw:  -30:   40\n 5:      fee:   -5:   35\n 6:  deposit:    5:   40\n 7:      fee:   -1:   39\n$extract 2\n 6:  deposit:    5:   40\n 7:      fee:   -1:   39\n$reverse 1 5 7 50\nfail: index 1 is not a fee\nfail: index 50 invalid\n$extract 0\n 0:  opening:    0:    0\n 1:  deposit:  100:  100\n 2: withdraw:  -20:   80\n 3:      fee:  -10:   70\n 4: withdraw:  -30:   40\n 5:      fee:   -5:   35\n 6:  deposit:    5:   40\n 7:      fee:   -1:   39\n 8:  reverse:    5:   44\n 9:  reverse:    1:   45\n$end\n<<<<<<<<\n\n>>>>>>>> extrato tarifa\ninit 100\nshow\ndeposit 100\nshow\ndeposit -10\nshow\nwithdraw 20\nshow\nfee 10\nshow\nwithdraw 150\nshow\nwithdraw 30\nshow\nfee 5\nshow\ndeposit 5\nfee 1\nshow\nextract 0\nextract 2\nreverse 1 5 7 50\nextract 0\nfee 50\nextract 2\nend\n========\n$init 100\n$show\naccount:100 balance:0\n$deposit 100\n$show\naccount:100 balance:100\n$deposit -10\nfail: invalid value\n$show\naccount:100 balance:100\n$withdraw 20\n$show\naccount:100 balance:80\n$fee 10\n$show\naccount:100 balance:70\n$withdraw 150\nfail: insufficient balance\n$show\naccount:100 balance:70\n$withdraw 30\n$show\naccount:100 balance:40\n$fee 5\n$show\naccount:100 balance:35\n$deposit 5\n$fee 1\n$show\naccount:100 balance:39\n$extract 0\n 0:  opening:    0:    0\n 1:  deposit:  100:  100\n 2: withdraw:  -20:   80\n 3:      fee:  -10:   70\n 4: withdraw:  -30:   40\n 5:      fee:   -5:   35\n 6:  deposit:    5:   40\n 7:      fee:   -1:   39\n$extract 2\n 6:  deposit:    5:   40\n 7:      fee:   -1:   39\n$reverse 1 5 7 50\nfail: index 1 is not a fee\nfail: index 50 invalid\n$extract 0\n 0:  opening:    0:    0\n 1:  deposit:  100:  100\n 2: withdraw:  -20:   80\n 3:      fee:  -10:   70\n 4: withdraw:  -30:   40\n 5:      fee:   -5:   35\n 6:  deposit:    5:   40\n 7:      fee:   -1:   39\n 8:  reverse:    5:   44\n 9:  reverse:    1:   45\n$fee 50\n$extract 2\n 9:  reverse:    1:   45\n10:      fee:  -50:   -5\n$end\n<<<<<<<<\n\n>>>>>>>> fee\ninit 107\nfee 10\nshow\nextract 0\nend\n========\n$init 107\n$fee 10\n$show\naccount:107 balance:-10\n$extract 0\n 0:  opening:    0:    0\n 1:      fee:  -10:  -10\n$end\n<<<<<<<<\n",
            "encoding": 0
        }
    ],
    "keep": [],
    "required": [],
    "draft": {}
}
