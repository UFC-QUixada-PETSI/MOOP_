{
    "title": "@comunicador",
    "description": "<!DOCTYPE html>\n<html xmlns=\"http://www.w3.org/1999/xhtml\" lang=\"\" xml:lang=\"\">\n<head>\n  <meta charset=\"utf-8\" />\n  <meta name=\"generator\" content=\"pandoc\" />\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, user-scalable=yes\" />\n  <title>@comunicador</title>\n  <style>\n    code{white-space: pre-wrap;}\n    span.smallcaps{font-variant: small-caps;}\n    div.columns{display: flex; gap: min(4vw, 1.5em);}\n    div.column{flex: auto; overflow-x: auto;}\n    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}\n    /* The extra [class] is a hack that increases specificity enough to\n       override a similar rule in reveal.js */\n    ul.task-list[class]{list-style: none;}\n    ul.task-list li input[type=\"checkbox\"] {\n      font-size: inherit;\n      width: 0.8em;\n      margin: 0 0.8em 0.2em -1.6em;\n      vertical-align: middle;\n    }\n    /* CSS for syntax highlighting */\n    pre > code.sourceCode { white-space: pre; position: relative; }\n    pre > code.sourceCode > span { line-height: 1.25; }\n    pre > code.sourceCode > span:empty { height: 1.2em; }\n    .sourceCode { overflow: visible; }\n    code.sourceCode > span { color: inherit; text-decoration: inherit; }\n    div.sourceCode { margin: 1em 0; }\n    pre.sourceCode { margin: 0; }\n    @media screen {\n    div.sourceCode { overflow: auto; }\n    }\n    @media print {\n    pre > code.sourceCode { white-space: pre-wrap; }\n    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }\n    }\n    pre.numberSource code\n      { counter-reset: source-line 0; }\n    pre.numberSource code > span\n      { position: relative; left: -4em; counter-increment: source-line; }\n    pre.numberSource code > span > a:first-child::before\n      { content: counter(source-line);\n        position: relative; left: -1em; text-align: right; vertical-align: baseline;\n        border: none; display: inline-block;\n        -webkit-touch-callout: none; -webkit-user-select: none;\n        -khtml-user-select: none; -moz-user-select: none;\n        -ms-user-select: none; user-select: none;\n        padding: 0 4px; width: 4em;\n        color: #aaaaaa;\n      }\n    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }\n    div.sourceCode\n      {   }\n    @media screen {\n    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }\n    }\n    code span.al { color: #ff0000; font-weight: bold; } /* Alert */\n    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */\n    code span.at { color: #7d9029; } /* Attribute */\n    code span.bn { color: #40a070; } /* BaseN */\n    code span.bu { color: #008000; } /* BuiltIn */\n    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */\n    code span.ch { color: #4070a0; } /* Char */\n    code span.cn { color: #880000; } /* Constant */\n    code span.co { color: #60a0b0; font-style: italic; } /* Comment */\n    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */\n    code span.do { color: #ba2121; font-style: italic; } /* Documentation */\n    code span.dt { color: #902000; } /* DataType */\n    code span.dv { color: #40a070; } /* DecVal */\n    code span.er { color: #ff0000; font-weight: bold; } /* Error */\n    code span.ex { } /* Extension */\n    code span.fl { color: #40a070; } /* Float */\n    code span.fu { color: #06287e; } /* Function */\n    code span.im { color: #008000; font-weight: bold; } /* Import */\n    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */\n    code span.kw { color: #007020; font-weight: bold; } /* Keyword */\n    code span.op { color: #666666; } /* Operator */\n    code span.ot { color: #007020; } /* Other */\n    code span.pp { color: #bc7a00; } /* Preprocessor */\n    code span.sc { color: #4070a0; } /* SpecialChar */\n    code span.ss { color: #bb6688; } /* SpecialString */\n    code span.st { color: #4070a0; } /* String */\n    code span.va { color: #19177c; } /* Variable */\n    code span.vs { color: #4070a0; } /* VerbatimString */\n    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */\n  </style>\n  <link rel=\"stylesheet\" href=\"/tmp/tmphjcokor1.css\" />\n  <!--[if lt IE 9]>\n    <script src=\"//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js\"></script>\n  <![endif]-->\n</head>\n<body>\n<h1 id=\"comunicador\"><span class=\"citation\"\ndata-cites=\"comunicador\">@comunicador</span></h1>\n<ul>\n<li>Veja a vers\u00e3o online: <a\nhref=\"https://github.com/qxcodepoo/arcade/blob/master/base/comunicador/Readme.md\">aqui.</a></li>\n<li>Para programar na sua m\u00e1quina (local/virtual) use:\n<ul>\n<li><code>tko down poo comunicador</code></li>\n</ul></li>\n<li>Se n\u00e3o tem o <code>tko</code>, instale pelo <a\nhref=\"https://github.com/senapk/tko#tko\">LINK</a>.</li>\n</ul>\n<hr />\n<!-- toch -->\n<table>\n<colgroup>\n<col style=\"width: 25%\" />\n<col style=\"width: 25%\" />\n<col style=\"width: 25%\" />\n<col style=\"width: 25%\" />\n</colgroup>\n<thead>\n<tr class=\"header\">\n<th><a href=\"#intro\">Intro</a></th>\n<th><a href=\"#guia\">Guia</a></th>\n<th><a href=\"#diagrama-de-classes\">Diagrama de Classes</a></th>\n<th><a href=\"#esqueleto\">Esqueleto</a></th>\n</tr>\n</thead>\n<tbody>\n</tbody>\n</table>\n<!-- toch -->\n<figure>\n<img\nsrc=\"https://raw.githubusercontent.com/qxcodepoo/arcade/master/base/comunicador/cover.jpg\"\nalt=\"cover\" />\n<figcaption aria-hidden=\"true\">cover</figcaption>\n</figure>\n<h2 id=\"intro\">Intro</h2>\n<p>Voc\u00ea vai alterar a implementa\u00e7\u00e3o do Hospital I para habilitar o envio\nde mensagens entre m\u00e9dicos e pacientes.</p>\n<ul>\n<li>Pacientes s\u00f3 podem enviar mensagens para seus m\u00e9dicos.</li>\n<li>M\u00e9dicos s\u00f3 podem enviar mensagens para seus pacientes.</li>\n<li>M\u00e9dicos e pacientes s\u00f3 podem ver suas pr\u00f3prias mensagens.</li>\n<li>As mensagens funcionam no modo de inbox, ap\u00f3s lidas, elas\n\u201cdesaparecem\u201d.</li>\n</ul>\n<h2 id=\"guia\">Guia</h2>\n<ul>\n<li>As classes Paciente e Medico v\u00e3o ter poucas altera\u00e7\u00f5es.</li>\n<li>Precisamos que m\u00e9dicos e pacientes sejam diferentes, mas que ambos\nse comportem como Comunicadores.</li>\n<li>As antigas interfaces IPaciente e IMedicos v\u00e3o virar classes\nabstratas que herdam de Comunicador.</li>\n<li>Em comunicador reside toda a l\u00f3gica da troca de mensagens. A \u00fanica\npe\u00e7a que falta \u00e9 que um paciente tem os seus m\u00e9dicos como poss\u00edveis\ndestinat\u00e1rios e vice versa.</li>\n<li>Por isso, apenas nas classes Paciente e M\u00e9dico que \u00e9 implementado o\ngetReceiver definido na interface ICommunicator.</li>\n<li>Um paciente quando invocado o m\u00e9todo getReceiver(id) procura na sua\nlista de m\u00e9dicos por um m\u00e9dico com esse id e retorna esse objeto m\u00e9dico.\nSe n\u00e3o encontra, emite uma exception avisando que n\u00e3o possui aquele\nremetente. O mesmo para o m\u00e9tido.</li>\n<li>A classe Abstrata Communicator implementa o envio de mensagem e o\ninbox.</li>\n</ul>\n<hr />\n<div class=\"sourceCode\" id=\"cb1\"><pre class=\"sourceCode sh\"><code class=\"sourceCode bash\"><span id=\"cb1-1\"><a href=\"#cb1-1\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\">#__case inserir</span></span>\n<span id=\"cb1-2\"><a href=\"#cb1-2\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"va\">$addPacs</span> fred-fratura alvis-avc goku-hemorragia silva-sinusite</span>\n<span id=\"cb1-3\"><a href=\"#cb1-3\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"va\">$addMeds</span> bisturi-cirurgia snif-alergologia facada-cirurgia</span>\n<span id=\"cb1-4\"><a href=\"#cb1-4\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"va\">$show</span></span>\n<span id=\"cb1-5\"><a href=\"#cb1-5\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">Pac:</span> alvis:avc        Meds: []</span>\n<span id=\"cb1-6\"><a href=\"#cb1-6\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">Pac:</span> fred:fratura     Meds: []</span>\n<span id=\"cb1-7\"><a href=\"#cb1-7\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">Pac:</span> goku:hemorragia  Meds: []</span>\n<span id=\"cb1-8\"><a href=\"#cb1-8\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">Pac:</span> silva:sinusite   Meds: []</span>\n<span id=\"cb1-9\"><a href=\"#cb1-9\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">Med:</span> bisturi:cirurgia Pacs: []</span>\n<span id=\"cb1-10\"><a href=\"#cb1-10\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">Med:</span> facada:cirurgia  Pacs: []</span>\n<span id=\"cb1-11\"><a href=\"#cb1-11\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">Med:</span> snif:alergologia Pacs: []</span>\n<span id=\"cb1-12\"><a href=\"#cb1-12\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb1-13\"><a href=\"#cb1-13\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb1-14\"><a href=\"#cb1-14\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\">#__case vincular</span></span>\n<span id=\"cb1-15\"><a href=\"#cb1-15\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\"># tie _med _pac _pac ...</span></span>\n<span id=\"cb1-16\"><a href=\"#cb1-16\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"va\">$tie</span> bisturi fred alvis goku</span>\n<span id=\"cb1-17\"><a href=\"#cb1-17\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"va\">$tie</span> snif silva alvis</span>\n<span id=\"cb1-18\"><a href=\"#cb1-18\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"va\">$tie</span> facada goku</span>\n<span id=\"cb1-19\"><a href=\"#cb1-19\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">fail:</span> ja existe outro medico da especialidade cirurgia</span>\n<span id=\"cb1-20\"><a href=\"#cb1-20\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"va\">$show</span></span>\n<span id=\"cb1-21\"><a href=\"#cb1-21\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">Pac:</span> alvis:avc        Meds: [bisturi, snif]</span>\n<span id=\"cb1-22\"><a href=\"#cb1-22\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">Pac:</span> fred:fratura     Meds: <span class=\"pp\">[</span><span class=\"ss\">bisturi</span><span class=\"pp\">]</span></span>\n<span id=\"cb1-23\"><a href=\"#cb1-23\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">Pac:</span> goku:hemorragia  Meds: <span class=\"pp\">[</span><span class=\"ss\">bisturi</span><span class=\"pp\">]</span></span>\n<span id=\"cb1-24\"><a href=\"#cb1-24\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">Pac:</span> silva:sinusite   Meds: <span class=\"pp\">[</span><span class=\"ss\">snif</span><span class=\"pp\">]</span></span>\n<span id=\"cb1-25\"><a href=\"#cb1-25\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">Med:</span> bisturi:cirurgia Pacs: [alvis, fred, goku]</span>\n<span id=\"cb1-26\"><a href=\"#cb1-26\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">Med:</span> facada:cirurgia  Pacs: []</span>\n<span id=\"cb1-27\"><a href=\"#cb1-27\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">Med:</span> snif:alergologia Pacs: [alvis, silva]</span>\n<span id=\"cb1-28\"><a href=\"#cb1-28\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb1-29\"><a href=\"#cb1-29\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\">#__case mensagens</span></span>\n<span id=\"cb1-30\"><a href=\"#cb1-30\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"va\">$msg</span> alvis bisturi posso tomar homeprazol<span class=\"pp\">?</span></span>\n<span id=\"cb1-31\"><a href=\"#cb1-31\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"va\">$msg</span> goku bisturi coceira no reto eh normal<span class=\"pp\">?</span></span>\n<span id=\"cb1-32\"><a href=\"#cb1-32\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"va\">$inbox</span> bisturi</span>\n<span id=\"cb1-33\"><a href=\"#cb1-33\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">[alvis:posso</span> tomar homeprazol<span class=\"pp\">?</span>]</span>\n<span id=\"cb1-34\"><a href=\"#cb1-34\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">[goku:coceira</span> no reto eh normal<span class=\"pp\">?</span>]</span>\n<span id=\"cb1-35\"><a href=\"#cb1-35\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"va\">$msg</span> bisturi alvis chupe limao que passa</span>\n<span id=\"cb1-36\"><a href=\"#cb1-36\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"va\">$msg</span> bisturi goku venha na minha sala pra eu olhar</span>\n<span id=\"cb1-37\"><a href=\"#cb1-37\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"va\">$inbox</span> goku</span>\n<span id=\"cb1-38\"><a href=\"#cb1-38\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">[bisturi:venha</span> na minha sala pra eu olhar]</span>\n<span id=\"cb1-39\"><a href=\"#cb1-39\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"va\">$msg</span> goku facada</span>\n<span id=\"cb1-40\"><a href=\"#cb1-40\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">fail:goku</span> nao conhece facada</span>\n<span id=\"cb1-41\"><a href=\"#cb1-41\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"va\">$inbox</span> machado</span>\n<span id=\"cb1-42\"><a href=\"#cb1-42\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">fail:</span> usuario nao existe</span>\n<span id=\"cb1-43\"><a href=\"#cb1-43\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"va\">$end</span></span></code></pre></div>\n<hr />\n<h2 id=\"diagrama-de-classes\">Diagrama de Classes</h2>\n<figure>\n<img\nsrc=\"https://raw.githubusercontent.com/qxcodepoo/arcade/master/base/comunicador/diagrama.png\"\nalt=\"diagrama\" />\n<figcaption aria-hidden=\"true\">diagrama</figcaption>\n</figure>\n<hr />\n<h2 id=\"esqueleto\">Esqueleto</h2>\n<!--FILTER Solver.java java-->\n<div class=\"sourceCode\" id=\"cb2\"><pre\nclass=\"sourceCode java\"><code class=\"sourceCode java\"><span id=\"cb2-1\"><a href=\"#cb2-1\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"kw\">class</span> HospitalException <span class=\"kw\">extends</span> <span class=\"bu\">RuntimeException</span> <span class=\"op\">{</span></span>\n<span id=\"cb2-2\"><a href=\"#cb2-2\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> <span class=\"fu\">HospitalException</span><span class=\"op\">(</span><span class=\"bu\">String</span> message<span class=\"op\">);</span></span>\n<span id=\"cb2-3\"><a href=\"#cb2-3\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"kw\">super</span><span class=\"op\">(</span>message<span class=\"op\">);</span></span>\n<span id=\"cb2-4\"><a href=\"#cb2-4\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"op\">}</span></span>\n<span id=\"cb2-5\"><a href=\"#cb2-5\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"op\">}</span></span>\n<span id=\"cb2-6\"><a href=\"#cb2-6\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"kw\">class</span> Message <span class=\"op\">{</span></span>\n<span id=\"cb2-7\"><a href=\"#cb2-7\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">private</span> <span class=\"bu\">String</span> sender<span class=\"op\">;</span></span>\n<span id=\"cb2-8\"><a href=\"#cb2-8\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">private</span> <span class=\"bu\">String</span> text<span class=\"op\">;</span></span>\n<span id=\"cb2-9\"><a href=\"#cb2-9\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> <span class=\"fu\">Message</span><span class=\"op\">(</span><span class=\"bu\">String</span> sender<span class=\"op\">,</span> <span class=\"bu\">String</span> text<span class=\"op\">);</span></span>\n<span id=\"cb2-10\"><a href=\"#cb2-10\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"kw\">this</span><span class=\"op\">.</span><span class=\"fu\">sender</span> <span class=\"op\">=</span> sender<span class=\"op\">;</span></span>\n<span id=\"cb2-11\"><a href=\"#cb2-11\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"kw\">this</span><span class=\"op\">.</span><span class=\"fu\">text</span> <span class=\"op\">=</span> text<span class=\"op\">;</span></span>\n<span id=\"cb2-12\"><a href=\"#cb2-12\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"op\">}</span></span>\n<span id=\"cb2-13\"><a href=\"#cb2-13\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> <span class=\"bu\">String</span> <span class=\"fu\">toString</span><span class=\"op\">();</span></span>\n<span id=\"cb2-14\"><a href=\"#cb2-14\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"cf\">return</span> sender <span class=\"op\">+</span> <span class=\"st\">&quot;:&quot;</span> <span class=\"op\">+</span> text<span class=\"op\">;</span></span>\n<span id=\"cb2-15\"><a href=\"#cb2-15\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"op\">}</span></span>\n<span id=\"cb2-16\"><a href=\"#cb2-16\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"op\">}</span></span>\n<span id=\"cb2-17\"><a href=\"#cb2-17\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"kw\">interface</span> ICommunicator <span class=\"op\">{</span></span>\n<span id=\"cb2-18\"><a href=\"#cb2-18\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> <span class=\"bu\">String</span> <span class=\"fu\">getId</span><span class=\"op\">();</span></span>\n<span id=\"cb2-19\"><a href=\"#cb2-19\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"co\">//return received messages and clear inbox</span></span>\n<span id=\"cb2-20\"><a href=\"#cb2-20\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> <span class=\"bu\">Collection</span><span class=\"op\">&lt;</span>Message<span class=\"op\">&gt;</span> <span class=\"fu\">getInbox</span><span class=\"op\">();</span></span>\n<span id=\"cb2-21\"><a href=\"#cb2-21\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"co\">//recover receiver ICommunicator object using getReceiver</span></span>\n<span id=\"cb2-22\"><a href=\"#cb2-22\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"co\">//creates de Message object using getId() and string message</span></span>\n<span id=\"cb2-23\"><a href=\"#cb2-23\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"co\">//and put message in the receiver inbox</span></span>\n<span id=\"cb2-24\"><a href=\"#cb2-24\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> <span class=\"dt\">void</span> <span class=\"fu\">deliverMessage</span><span class=\"op\">(</span><span class=\"bu\">String</span> receiver<span class=\"op\">,</span> <span class=\"bu\">String</span> message<span class=\"op\">);</span></span>\n<span id=\"cb2-25\"><a href=\"#cb2-25\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"co\">//store message in inbox</span></span>\n<span id=\"cb2-26\"><a href=\"#cb2-26\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> <span class=\"dt\">void</span> <span class=\"fu\">storeMessage</span><span class=\"op\">(</span>Message msg<span class=\"op\">);</span></span>\n<span id=\"cb2-27\"><a href=\"#cb2-27\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"co\">//recover receiver using unique id</span></span>\n<span id=\"cb2-28\"><a href=\"#cb2-28\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"co\">//this method will be implemented in Pacient and Medic classes</span></span>\n<span id=\"cb2-29\"><a href=\"#cb2-29\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"co\">//If the object could not be found, throw an exception.</span></span>\n<span id=\"cb2-30\"><a href=\"#cb2-30\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> ICommunicator <span class=\"fu\">getReceiver</span><span class=\"op\">(</span><span class=\"bu\">String</span> id<span class=\"op\">)</span> <span class=\"kw\">throws</span> HospitalException<span class=\"op\">;</span></span>\n<span id=\"cb2-31\"><a href=\"#cb2-31\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"op\">}</span></span>\n<span id=\"cb2-32\"><a href=\"#cb2-32\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"kw\">abstract</span> <span class=\"kw\">class</span> Communicator <span class=\"kw\">implements</span> ICommunicator <span class=\"op\">{</span></span>\n<span id=\"cb2-33\"><a href=\"#cb2-33\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">private</span> <span class=\"bu\">List</span><span class=\"op\">&lt;</span>Message<span class=\"op\">&gt;</span> inbox<span class=\"op\">;</span></span>\n<span id=\"cb2-34\"><a href=\"#cb2-34\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> <span class=\"fu\">Communicator</span><span class=\"op\">();</span></span>\n<span id=\"cb2-35\"><a href=\"#cb2-35\" aria-hidden=\"true\" tabindex=\"-1\"></a>        inbox <span class=\"op\">=</span> <span class=\"kw\">new</span> <span class=\"bu\">ArrayList</span><span class=\"op\">&lt;&gt;();</span></span>\n<span id=\"cb2-36\"><a href=\"#cb2-36\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"op\">}</span></span>\n<span id=\"cb2-37\"><a href=\"#cb2-37\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> <span class=\"bu\">Collection</span><span class=\"op\">&lt;</span>Message<span class=\"op\">&gt;</span> <span class=\"fu\">getInbox</span><span class=\"op\">();</span></span>\n<span id=\"cb2-38\"><a href=\"#cb2-38\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"bu\">List</span><span class=\"op\">&lt;</span>Message<span class=\"op\">&gt;</span> output <span class=\"op\">=</span> <span class=\"kw\">new</span> <span class=\"bu\">ArrayList</span><span class=\"op\">&lt;</span>Message<span class=\"op\">&gt;(</span><span class=\"kw\">this</span><span class=\"op\">.</span><span class=\"fu\">inbox</span><span class=\"op\">);</span></span>\n<span id=\"cb2-39\"><a href=\"#cb2-39\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"kw\">this</span><span class=\"op\">.</span><span class=\"fu\">inbox</span><span class=\"op\">.</span><span class=\"fu\">clear</span><span class=\"op\">();</span></span>\n<span id=\"cb2-40\"><a href=\"#cb2-40\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"cf\">return</span> output<span class=\"op\">;</span></span>\n<span id=\"cb2-41\"><a href=\"#cb2-41\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"op\">}</span></span>\n<span id=\"cb2-42\"><a href=\"#cb2-42\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> <span class=\"dt\">void</span> <span class=\"fu\">storeMessage</span><span class=\"op\">(</span>Message msg<span class=\"op\">);</span></span>\n<span id=\"cb2-43\"><a href=\"#cb2-43\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"kw\">this</span><span class=\"op\">.</span><span class=\"fu\">inbox</span><span class=\"op\">.</span><span class=\"fu\">add</span><span class=\"op\">(</span>msg<span class=\"op\">);</span></span>\n<span id=\"cb2-44\"><a href=\"#cb2-44\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"op\">}</span></span>\n<span id=\"cb2-45\"><a href=\"#cb2-45\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> <span class=\"dt\">void</span> <span class=\"fu\">deliverMessage</span><span class=\"op\">(</span><span class=\"bu\">String</span> receiver<span class=\"op\">,</span> <span class=\"bu\">String</span> msg<span class=\"op\">);</span></span>\n<span id=\"cb2-46\"><a href=\"#cb2-46\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"kw\">this</span><span class=\"op\">.</span><span class=\"fu\">getReceiver</span><span class=\"op\">(</span>receiver<span class=\"op\">).</span><span class=\"fu\">storeMessage</span><span class=\"op\">(</span><span class=\"kw\">new</span> <span class=\"fu\">Message</span><span class=\"op\">(</span><span class=\"kw\">this</span><span class=\"op\">.</span><span class=\"fu\">getId</span><span class=\"op\">(),</span> msg<span class=\"op\">));</span></span>\n<span id=\"cb2-47\"><a href=\"#cb2-47\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"op\">}</span></span>\n<span id=\"cb2-48\"><a href=\"#cb2-48\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"op\">}</span></span>\n<span id=\"cb2-49\"><a href=\"#cb2-49\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"kw\">abstract</span> <span class=\"kw\">class</span> IPaciente <span class=\"kw\">extends</span> Communicator <span class=\"op\">{</span></span>\n<span id=\"cb2-50\"><a href=\"#cb2-50\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> <span class=\"kw\">abstract</span> <span class=\"dt\">void</span> <span class=\"fu\">addMedico</span><span class=\"op\">(</span>IMedico medico<span class=\"op\">);</span></span>\n<span id=\"cb2-51\"><a href=\"#cb2-51\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> <span class=\"kw\">abstract</span> <span class=\"dt\">void</span> <span class=\"fu\">removerMedico</span><span class=\"op\">(</span><span class=\"bu\">String</span> idMedico<span class=\"op\">);</span></span>\n<span id=\"cb2-52\"><a href=\"#cb2-52\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> <span class=\"kw\">abstract</span> <span class=\"bu\">Collection</span><span class=\"op\">&lt;</span>IMedico<span class=\"op\">&gt;</span> <span class=\"fu\">getMedicos</span><span class=\"op\">();</span></span>\n<span id=\"cb2-53\"><a href=\"#cb2-53\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> <span class=\"kw\">abstract</span> <span class=\"bu\">String</span> <span class=\"fu\">getDiagnostico</span><span class=\"op\">();</span></span>\n<span id=\"cb2-54\"><a href=\"#cb2-54\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"op\">}</span></span>\n<span id=\"cb2-55\"><a href=\"#cb2-55\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"kw\">abstract</span> <span class=\"kw\">class</span> IMedico <span class=\"kw\">extends</span> Communicator <span class=\"op\">{</span></span>\n<span id=\"cb2-56\"><a href=\"#cb2-56\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> <span class=\"kw\">abstract</span> <span class=\"dt\">void</span> <span class=\"fu\">addPaciente</span><span class=\"op\">(</span>IPaciente paciente<span class=\"op\">);</span></span>\n<span id=\"cb2-57\"><a href=\"#cb2-57\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> <span class=\"kw\">abstract</span> <span class=\"dt\">void</span> <span class=\"fu\">removerPaciente</span><span class=\"op\">(</span><span class=\"bu\">String</span> idPaciente<span class=\"op\">);</span></span>\n<span id=\"cb2-58\"><a href=\"#cb2-58\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> <span class=\"kw\">abstract</span> <span class=\"bu\">Collection</span><span class=\"op\">&lt;</span>IPaciente<span class=\"op\">&gt;</span> <span class=\"fu\">getPacientes</span><span class=\"op\">();</span></span>\n<span id=\"cb2-59\"><a href=\"#cb2-59\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> <span class=\"kw\">abstract</span> <span class=\"bu\">String</span> <span class=\"fu\">getClasse</span><span class=\"op\">();</span></span>\n<span id=\"cb2-60\"><a href=\"#cb2-60\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"op\">}</span></span>\n<span id=\"cb2-61\"><a href=\"#cb2-61\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"kw\">class</span> Medico <span class=\"kw\">extends</span> IMedico<span class=\"op\">{</span></span>\n<span id=\"cb2-62\"><a href=\"#cb2-62\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"bu\">String</span> sender<span class=\"op\">;</span></span>\n<span id=\"cb2-63\"><a href=\"#cb2-63\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"bu\">String</span> classe<span class=\"op\">;</span></span>\n<span id=\"cb2-64\"><a href=\"#cb2-64\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"bu\">Map</span><span class=\"op\">&lt;</span><span class=\"bu\">String</span><span class=\"op\">,</span> IPaciente<span class=\"op\">&gt;</span> pacientes <span class=\"op\">=</span> <span class=\"kw\">new</span> <span class=\"bu\">TreeMap</span><span class=\"op\">&lt;&gt;();</span></span>\n<span id=\"cb2-65\"><a href=\"#cb2-65\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> <span class=\"fu\">Medico</span><span class=\"op\">(</span><span class=\"bu\">String</span> sender<span class=\"op\">,</span> <span class=\"bu\">String</span> classe<span class=\"op\">);</span></span>\n<span id=\"cb2-66\"><a href=\"#cb2-66\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"kw\">this</span><span class=\"op\">.</span><span class=\"fu\">sender</span> <span class=\"op\">=</span> sender<span class=\"op\">;</span></span>\n<span id=\"cb2-67\"><a href=\"#cb2-67\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"kw\">this</span><span class=\"op\">.</span><span class=\"fu\">classe</span> <span class=\"op\">=</span> classe<span class=\"op\">;</span></span>\n<span id=\"cb2-68\"><a href=\"#cb2-68\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"op\">}</span></span>\n<span id=\"cb2-69\"><a href=\"#cb2-69\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> <span class=\"bu\">String</span> <span class=\"fu\">getId</span><span class=\"op\">();</span></span>\n<span id=\"cb2-70\"><a href=\"#cb2-70\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"cf\">return</span> sender<span class=\"op\">;</span></span>\n<span id=\"cb2-71\"><a href=\"#cb2-71\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"op\">}</span></span>\n<span id=\"cb2-72\"><a href=\"#cb2-72\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> <span class=\"dt\">void</span> <span class=\"fu\">addPaciente</span><span class=\"op\">(</span>IPaciente paciente<span class=\"op\">);</span></span>\n<span id=\"cb2-73\"><a href=\"#cb2-73\" aria-hidden=\"true\" tabindex=\"-1\"></a>        IPaciente mpaciente <span class=\"op\">=</span> pacientes<span class=\"op\">.</span><span class=\"fu\">get</span><span class=\"op\">(</span>paciente<span class=\"op\">.</span><span class=\"fu\">getId</span><span class=\"op\">());</span></span>\n<span id=\"cb2-74\"><a href=\"#cb2-74\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"cf\">if</span> <span class=\"op\">(</span>mpaciente <span class=\"op\">!=</span> <span class=\"kw\">null</span><span class=\"op\">)</span></span>\n<span id=\"cb2-75\"><a href=\"#cb2-75\" aria-hidden=\"true\" tabindex=\"-1\"></a>            <span class=\"cf\">return</span><span class=\"op\">;</span></span>\n<span id=\"cb2-76\"><a href=\"#cb2-76\" aria-hidden=\"true\" tabindex=\"-1\"></a>        pacientes<span class=\"op\">.</span><span class=\"fu\">put</span><span class=\"op\">(</span>paciente<span class=\"op\">.</span><span class=\"fu\">getId</span><span class=\"op\">(),</span> paciente<span class=\"op\">);</span></span>\n<span id=\"cb2-77\"><a href=\"#cb2-77\" aria-hidden=\"true\" tabindex=\"-1\"></a>        paciente<span class=\"op\">.</span><span class=\"fu\">addMedico</span><span class=\"op\">(</span><span class=\"kw\">this</span><span class=\"op\">);</span></span>\n<span id=\"cb2-78\"><a href=\"#cb2-78\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"op\">}</span></span>\n<span id=\"cb2-79\"><a href=\"#cb2-79\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> <span class=\"dt\">void</span> <span class=\"fu\">removerPaciente</span><span class=\"op\">(</span><span class=\"bu\">String</span> idPaciente<span class=\"op\">);</span></span>\n<span id=\"cb2-80\"><a href=\"#cb2-80\" aria-hidden=\"true\" tabindex=\"-1\"></a>        IPaciente mpaciente <span class=\"op\">=</span> pacientes<span class=\"op\">.</span><span class=\"fu\">get</span><span class=\"op\">(</span>idPaciente<span class=\"op\">);</span></span>\n<span id=\"cb2-81\"><a href=\"#cb2-81\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"cf\">if</span> <span class=\"op\">(</span>mpaciente <span class=\"op\">==</span> <span class=\"kw\">null</span><span class=\"op\">)</span></span>\n<span id=\"cb2-82\"><a href=\"#cb2-82\" aria-hidden=\"true\" tabindex=\"-1\"></a>            <span class=\"cf\">return</span><span class=\"op\">;</span></span>\n<span id=\"cb2-83\"><a href=\"#cb2-83\" aria-hidden=\"true\" tabindex=\"-1\"></a>        pacientes<span class=\"op\">.</span><span class=\"fu\">remove</span><span class=\"op\">(</span>idPaciente<span class=\"op\">);</span></span>\n<span id=\"cb2-84\"><a href=\"#cb2-84\" aria-hidden=\"true\" tabindex=\"-1\"></a>        mpaciente<span class=\"op\">.</span><span class=\"fu\">removerMedico</span><span class=\"op\">(</span><span class=\"kw\">this</span><span class=\"op\">.</span><span class=\"fu\">sender</span><span class=\"op\">);</span></span>\n<span id=\"cb2-85\"><a href=\"#cb2-85\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"op\">}</span></span>\n<span id=\"cb2-86\"><a href=\"#cb2-86\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> <span class=\"bu\">Collection</span><span class=\"op\">&lt;</span>IPaciente<span class=\"op\">&gt;</span> <span class=\"fu\">getPacientes</span><span class=\"op\">();</span></span>\n<span id=\"cb2-87\"><a href=\"#cb2-87\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"cf\">return</span> pacientes<span class=\"op\">.</span><span class=\"fu\">values</span><span class=\"op\">();</span></span>\n<span id=\"cb2-88\"><a href=\"#cb2-88\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"op\">}</span></span>\n<span id=\"cb2-89\"><a href=\"#cb2-89\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> <span class=\"bu\">String</span> <span class=\"fu\">getClasse</span><span class=\"op\">();</span></span>\n<span id=\"cb2-90\"><a href=\"#cb2-90\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"cf\">return</span> <span class=\"kw\">this</span><span class=\"op\">.</span><span class=\"fu\">classe</span><span class=\"op\">;</span></span>\n<span id=\"cb2-91\"><a href=\"#cb2-91\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"op\">}</span></span>\n<span id=\"cb2-92\"><a href=\"#cb2-92\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> <span class=\"bu\">String</span> <span class=\"fu\">toString</span><span class=\"op\">();</span></span>\n<span id=\"cb2-93\"><a href=\"#cb2-93\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"cf\">return</span> <span class=\"st\">&quot;Med: &quot;</span> <span class=\"op\">+</span> <span class=\"bu\">String</span><span class=\"op\">.</span><span class=\"fu\">format</span><span class=\"op\">(</span><span class=\"st\">&quot;</span><span class=\"sc\">%-16.16s</span><span class=\"st\">&quot;</span><span class=\"op\">,</span> <span class=\"fu\">getId</span><span class=\"op\">()</span> <span class=\"op\">+</span> <span class=\"st\">&quot;:&quot;</span> <span class=\"op\">+</span> <span class=\"fu\">getClasse</span><span class=\"op\">())</span> <span class=\"op\">+</span> <span class=\"st\">&quot; Pacs: [&quot;</span></span>\n<span id=\"cb2-94\"><a href=\"#cb2-94\" aria-hidden=\"true\" tabindex=\"-1\"></a>                <span class=\"op\">+</span> pacientes<span class=\"op\">.</span><span class=\"fu\">keySet</span><span class=\"op\">().</span><span class=\"fu\">stream</span><span class=\"op\">().</span><span class=\"fu\">collect</span><span class=\"op\">(</span>Collectors<span class=\"op\">.</span><span class=\"fu\">joining</span><span class=\"op\">(</span><span class=\"st\">&quot;, &quot;</span><span class=\"op\">))</span> <span class=\"op\">+</span> <span class=\"st\">&quot;]</span><span class=\"sc\">\\n</span><span class=\"st\">&quot;</span><span class=\"op\">;</span></span>\n<span id=\"cb2-95\"><a href=\"#cb2-95\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"op\">}</span></span>\n<span id=\"cb2-96\"><a href=\"#cb2-96\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"at\">@Override</span></span>\n<span id=\"cb2-97\"><a href=\"#cb2-97\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> ICommunicator <span class=\"fu\">getReceiver</span><span class=\"op\">(</span><span class=\"bu\">String</span> id<span class=\"op\">);</span></span>\n<span id=\"cb2-98\"><a href=\"#cb2-98\" aria-hidden=\"true\" tabindex=\"-1\"></a>        ICommunicator com <span class=\"op\">=</span> pacientes<span class=\"op\">.</span><span class=\"fu\">get</span><span class=\"op\">(</span>id<span class=\"op\">);</span></span>\n<span id=\"cb2-99\"><a href=\"#cb2-99\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"cf\">if</span><span class=\"op\">(</span>com <span class=\"op\">!=</span> <span class=\"kw\">null</span><span class=\"op\">)</span></span>\n<span id=\"cb2-100\"><a href=\"#cb2-100\" aria-hidden=\"true\" tabindex=\"-1\"></a>            <span class=\"cf\">return</span> com<span class=\"op\">;</span></span>\n<span id=\"cb2-101\"><a href=\"#cb2-101\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"cf\">throw</span> <span class=\"kw\">new</span> <span class=\"fu\">HospitalException</span><span class=\"op\">(</span><span class=\"st\">&quot;fail:&quot;</span> <span class=\"op\">+</span> <span class=\"fu\">getId</span><span class=\"op\">()</span> <span class=\"op\">+</span> <span class=\"st\">&quot; nao conhece &quot;</span> <span class=\"op\">+</span> id<span class=\"op\">);</span></span>\n<span id=\"cb2-102\"><a href=\"#cb2-102\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"op\">}</span></span>\n<span id=\"cb2-103\"><a href=\"#cb2-103\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"op\">}</span></span>\n<span id=\"cb2-104\"><a href=\"#cb2-104\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"kw\">class</span> Paciente <span class=\"kw\">extends</span> IPaciente <span class=\"op\">{</span></span>\n<span id=\"cb2-105\"><a href=\"#cb2-105\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">protected</span> <span class=\"bu\">String</span> sender<span class=\"op\">;</span></span>\n<span id=\"cb2-106\"><a href=\"#cb2-106\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">protected</span> <span class=\"bu\">String</span> diagnostico<span class=\"op\">;</span></span>\n<span id=\"cb2-107\"><a href=\"#cb2-107\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">protected</span> <span class=\"bu\">TreeMap</span><span class=\"op\">&lt;</span><span class=\"bu\">String</span><span class=\"op\">,</span> IMedico<span class=\"op\">&gt;</span> medicos <span class=\"op\">=</span> <span class=\"kw\">new</span> <span class=\"bu\">TreeMap</span><span class=\"op\">&lt;&gt;();</span></span>\n<span id=\"cb2-108\"><a href=\"#cb2-108\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> <span class=\"fu\">Paciente</span><span class=\"op\">(</span><span class=\"bu\">String</span> sender<span class=\"op\">,</span> <span class=\"bu\">String</span> diagnostico<span class=\"op\">);</span></span>\n<span id=\"cb2-109\"><a href=\"#cb2-109\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"kw\">this</span><span class=\"op\">.</span><span class=\"fu\">sender</span> <span class=\"op\">=</span> sender<span class=\"op\">;</span></span>\n<span id=\"cb2-110\"><a href=\"#cb2-110\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"kw\">this</span><span class=\"op\">.</span><span class=\"fu\">diagnostico</span> <span class=\"op\">=</span> diagnostico<span class=\"op\">;</span></span>\n<span id=\"cb2-111\"><a href=\"#cb2-111\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"op\">}</span></span>\n<span id=\"cb2-112\"><a href=\"#cb2-112\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> <span class=\"bu\">String</span> <span class=\"fu\">getId</span><span class=\"op\">();</span></span>\n<span id=\"cb2-113\"><a href=\"#cb2-113\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"cf\">return</span> sender<span class=\"op\">;</span></span>\n<span id=\"cb2-114\"><a href=\"#cb2-114\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"op\">}</span></span>\n<span id=\"cb2-115\"><a href=\"#cb2-115\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> <span class=\"dt\">void</span> <span class=\"fu\">addMedico</span><span class=\"op\">(</span>IMedico medico<span class=\"op\">);</span></span>\n<span id=\"cb2-116\"><a href=\"#cb2-116\" aria-hidden=\"true\" tabindex=\"-1\"></a>        IMedico pmedico <span class=\"op\">=</span> medicos<span class=\"op\">.</span><span class=\"fu\">get</span><span class=\"op\">(</span>medico<span class=\"op\">.</span><span class=\"fu\">getId</span><span class=\"op\">());</span></span>\n<span id=\"cb2-117\"><a href=\"#cb2-117\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"cf\">if</span> <span class=\"op\">(</span>pmedico <span class=\"op\">!=</span> <span class=\"kw\">null</span><span class=\"op\">)</span></span>\n<span id=\"cb2-118\"><a href=\"#cb2-118\" aria-hidden=\"true\" tabindex=\"-1\"></a>            <span class=\"cf\">return</span><span class=\"op\">;</span></span>\n<span id=\"cb2-119\"><a href=\"#cb2-119\" aria-hidden=\"true\" tabindex=\"-1\"></a>        medicos<span class=\"op\">.</span><span class=\"fu\">put</span><span class=\"op\">(</span>medico<span class=\"op\">.</span><span class=\"fu\">getId</span><span class=\"op\">(),</span> medico<span class=\"op\">);</span></span>\n<span id=\"cb2-120\"><a href=\"#cb2-120\" aria-hidden=\"true\" tabindex=\"-1\"></a>        medico<span class=\"op\">.</span><span class=\"fu\">addPaciente</span><span class=\"op\">(</span><span class=\"kw\">this</span><span class=\"op\">);</span></span>\n<span id=\"cb2-121\"><a href=\"#cb2-121\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"op\">}</span></span>\n<span id=\"cb2-122\"><a href=\"#cb2-122\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> <span class=\"dt\">void</span> <span class=\"fu\">removerMedico</span><span class=\"op\">(</span><span class=\"bu\">String</span> idMedico<span class=\"op\">);</span></span>\n<span id=\"cb2-123\"><a href=\"#cb2-123\" aria-hidden=\"true\" tabindex=\"-1\"></a>        IMedico pmedico <span class=\"op\">=</span> medicos<span class=\"op\">.</span><span class=\"fu\">get</span><span class=\"op\">(</span>idMedico<span class=\"op\">);</span></span>\n<span id=\"cb2-124\"><a href=\"#cb2-124\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"cf\">if</span> <span class=\"op\">(</span>pmedico <span class=\"op\">==</span> <span class=\"kw\">null</span><span class=\"op\">)</span></span>\n<span id=\"cb2-125\"><a href=\"#cb2-125\" aria-hidden=\"true\" tabindex=\"-1\"></a>            <span class=\"cf\">return</span><span class=\"op\">;</span></span>\n<span id=\"cb2-126\"><a href=\"#cb2-126\" aria-hidden=\"true\" tabindex=\"-1\"></a>        medicos<span class=\"op\">.</span><span class=\"fu\">remove</span><span class=\"op\">(</span>idMedico<span class=\"op\">);</span></span>\n<span id=\"cb2-127\"><a href=\"#cb2-127\" aria-hidden=\"true\" tabindex=\"-1\"></a>        pmedico<span class=\"op\">.</span><span class=\"fu\">removerPaciente</span><span class=\"op\">(</span><span class=\"kw\">this</span><span class=\"op\">.</span><span class=\"fu\">sender</span><span class=\"op\">);</span></span>\n<span id=\"cb2-128\"><a href=\"#cb2-128\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"op\">}</span></span>\n<span id=\"cb2-129\"><a href=\"#cb2-129\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> <span class=\"bu\">Collection</span><span class=\"op\">&lt;</span>IMedico<span class=\"op\">&gt;</span> <span class=\"fu\">getMedicos</span><span class=\"op\">();</span></span>\n<span id=\"cb2-130\"><a href=\"#cb2-130\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"cf\">return</span> medicos<span class=\"op\">.</span><span class=\"fu\">values</span><span class=\"op\">();</span></span>\n<span id=\"cb2-131\"><a href=\"#cb2-131\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"op\">}</span></span>\n<span id=\"cb2-132\"><a href=\"#cb2-132\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> <span class=\"bu\">String</span> <span class=\"fu\">getDiagnostico</span><span class=\"op\">();</span></span>\n<span id=\"cb2-133\"><a href=\"#cb2-133\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"cf\">return</span> diagnostico<span class=\"op\">;</span></span>\n<span id=\"cb2-134\"><a href=\"#cb2-134\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"op\">}</span></span>\n<span id=\"cb2-135\"><a href=\"#cb2-135\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> <span class=\"bu\">String</span> <span class=\"fu\">toString</span><span class=\"op\">();</span></span>\n<span id=\"cb2-136\"><a href=\"#cb2-136\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"cf\">return</span> <span class=\"st\">&quot;Pac: &quot;</span> <span class=\"op\">+</span> <span class=\"bu\">String</span><span class=\"op\">.</span><span class=\"fu\">format</span><span class=\"op\">(</span><span class=\"st\">&quot;</span><span class=\"sc\">%-16.16s</span><span class=\"st\">&quot;</span><span class=\"op\">,</span> <span class=\"fu\">getId</span><span class=\"op\">()</span> <span class=\"op\">+</span> <span class=\"st\">&quot;:&quot;</span> <span class=\"op\">+</span> <span class=\"fu\">getDiagnostico</span><span class=\"op\">())</span> <span class=\"op\">+</span> <span class=\"st\">&quot; Meds: [&quot;</span></span>\n<span id=\"cb2-137\"><a href=\"#cb2-137\" aria-hidden=\"true\" tabindex=\"-1\"></a>                <span class=\"op\">+</span> <span class=\"kw\">this</span><span class=\"op\">.</span><span class=\"fu\">medicos</span><span class=\"op\">.</span><span class=\"fu\">keySet</span><span class=\"op\">().</span><span class=\"fu\">stream</span><span class=\"op\">().</span><span class=\"fu\">collect</span><span class=\"op\">(</span>Collectors<span class=\"op\">.</span><span class=\"fu\">joining</span><span class=\"op\">(</span><span class=\"st\">&quot;, &quot;</span><span class=\"op\">))</span> <span class=\"op\">+</span> <span class=\"st\">&quot;]</span><span class=\"sc\">\\n</span><span class=\"st\">&quot;</span><span class=\"op\">;</span></span>\n<span id=\"cb2-138\"><a href=\"#cb2-138\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"op\">}</span></span>\n<span id=\"cb2-139\"><a href=\"#cb2-139\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"at\">@Override</span></span>\n<span id=\"cb2-140\"><a href=\"#cb2-140\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> ICommunicator <span class=\"fu\">getReceiver</span><span class=\"op\">(</span><span class=\"bu\">String</span> id<span class=\"op\">);</span></span>\n<span id=\"cb2-141\"><a href=\"#cb2-141\" aria-hidden=\"true\" tabindex=\"-1\"></a>        ICommunicator com <span class=\"op\">=</span> medicos<span class=\"op\">.</span><span class=\"fu\">get</span><span class=\"op\">(</span>id<span class=\"op\">);</span></span>\n<span id=\"cb2-142\"><a href=\"#cb2-142\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"cf\">if</span><span class=\"op\">(</span>com <span class=\"op\">!=</span> <span class=\"kw\">null</span><span class=\"op\">)</span></span>\n<span id=\"cb2-143\"><a href=\"#cb2-143\" aria-hidden=\"true\" tabindex=\"-1\"></a>            <span class=\"cf\">return</span> com<span class=\"op\">;</span></span>\n<span id=\"cb2-144\"><a href=\"#cb2-144\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"cf\">throw</span> <span class=\"kw\">new</span> <span class=\"fu\">HospitalException</span><span class=\"op\">(</span><span class=\"st\">&quot;fail:&quot;</span> <span class=\"op\">+</span> <span class=\"fu\">getId</span><span class=\"op\">()</span> <span class=\"op\">+</span> <span class=\"st\">&quot; nao conhece &quot;</span> <span class=\"op\">+</span> id<span class=\"op\">);</span></span>\n<span id=\"cb2-145\"><a href=\"#cb2-145\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"op\">}</span></span>\n<span id=\"cb2-146\"><a href=\"#cb2-146\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"op\">}</span></span>\n<span id=\"cb2-147\"><a href=\"#cb2-147\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"kw\">class</span> Hospital <span class=\"op\">{</span></span>\n<span id=\"cb2-148\"><a href=\"#cb2-148\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">private</span> <span class=\"bu\">TreeMap</span><span class=\"op\">&lt;</span><span class=\"bu\">String</span><span class=\"op\">,</span> IPaciente<span class=\"op\">&gt;</span> pacientes <span class=\"op\">=</span> <span class=\"kw\">new</span> <span class=\"bu\">TreeMap</span><span class=\"op\">&lt;&gt;();</span></span>\n<span id=\"cb2-149\"><a href=\"#cb2-149\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">private</span> <span class=\"bu\">TreeMap</span><span class=\"op\">&lt;</span><span class=\"bu\">String</span><span class=\"op\">,</span> IMedico<span class=\"op\">&gt;</span> medicos <span class=\"op\">=</span> <span class=\"kw\">new</span> <span class=\"bu\">TreeMap</span><span class=\"op\">&lt;&gt;();</span></span>\n<span id=\"cb2-150\"><a href=\"#cb2-150\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> <span class=\"fu\">Hospital</span><span class=\"op\">();</span></span>\n<span id=\"cb2-151\"><a href=\"#cb2-151\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"op\">}</span></span>\n<span id=\"cb2-152\"><a href=\"#cb2-152\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> <span class=\"dt\">void</span> <span class=\"fu\">removerPaciente</span><span class=\"op\">(</span><span class=\"bu\">String</span> sender<span class=\"op\">);</span></span>\n<span id=\"cb2-153\"><a href=\"#cb2-153\" aria-hidden=\"true\" tabindex=\"-1\"></a>        IPaciente paciente <span class=\"op\">=</span> pacientes<span class=\"op\">.</span><span class=\"fu\">get</span><span class=\"op\">(</span>sender<span class=\"op\">);</span></span>\n<span id=\"cb2-154\"><a href=\"#cb2-154\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"cf\">if</span> <span class=\"op\">(</span>paciente <span class=\"op\">==</span> <span class=\"kw\">null</span><span class=\"op\">)</span></span>\n<span id=\"cb2-155\"><a href=\"#cb2-155\" aria-hidden=\"true\" tabindex=\"-1\"></a>            <span class=\"cf\">return</span><span class=\"op\">;</span></span>\n<span id=\"cb2-156\"><a href=\"#cb2-156\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"cf\">for</span> <span class=\"op\">(</span>IMedico medico <span class=\"op\">:</span> paciente<span class=\"op\">.</span><span class=\"fu\">getMedicos</span><span class=\"op\">())</span></span>\n<span id=\"cb2-157\"><a href=\"#cb2-157\" aria-hidden=\"true\" tabindex=\"-1\"></a>            medico<span class=\"op\">.</span><span class=\"fu\">removerPaciente</span><span class=\"op\">(</span>sender<span class=\"op\">);</span></span>\n<span id=\"cb2-158\"><a href=\"#cb2-158\" aria-hidden=\"true\" tabindex=\"-1\"></a>        pacientes<span class=\"op\">.</span><span class=\"fu\">remove</span><span class=\"op\">(</span>sender<span class=\"op\">);</span></span>\n<span id=\"cb2-159\"><a href=\"#cb2-159\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"op\">}</span></span>\n<span id=\"cb2-160\"><a href=\"#cb2-160\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> <span class=\"dt\">void</span> <span class=\"fu\">removerMedico</span><span class=\"op\">(</span><span class=\"bu\">String</span> sender<span class=\"op\">);</span></span>\n<span id=\"cb2-161\"><a href=\"#cb2-161\" aria-hidden=\"true\" tabindex=\"-1\"></a>        IMedico medico <span class=\"op\">=</span> medicos<span class=\"op\">.</span><span class=\"fu\">get</span><span class=\"op\">(</span>sender<span class=\"op\">);</span></span>\n<span id=\"cb2-162\"><a href=\"#cb2-162\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"cf\">if</span> <span class=\"op\">(</span>medico <span class=\"op\">==</span> <span class=\"kw\">null</span><span class=\"op\">)</span></span>\n<span id=\"cb2-163\"><a href=\"#cb2-163\" aria-hidden=\"true\" tabindex=\"-1\"></a>            <span class=\"cf\">return</span><span class=\"op\">;</span></span>\n<span id=\"cb2-164\"><a href=\"#cb2-164\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"cf\">for</span> <span class=\"op\">(</span>IPaciente paciente <span class=\"op\">:</span> medico<span class=\"op\">.</span><span class=\"fu\">getPacientes</span><span class=\"op\">())</span></span>\n<span id=\"cb2-165\"><a href=\"#cb2-165\" aria-hidden=\"true\" tabindex=\"-1\"></a>            paciente<span class=\"op\">.</span><span class=\"fu\">removerMedico</span><span class=\"op\">(</span>sender<span class=\"op\">);</span></span>\n<span id=\"cb2-166\"><a href=\"#cb2-166\" aria-hidden=\"true\" tabindex=\"-1\"></a>        medicos<span class=\"op\">.</span><span class=\"fu\">remove</span><span class=\"op\">(</span>sender<span class=\"op\">);</span></span>\n<span id=\"cb2-167\"><a href=\"#cb2-167\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"op\">}</span></span>\n<span id=\"cb2-168\"><a href=\"#cb2-168\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> <span class=\"dt\">void</span> <span class=\"fu\">addPaciente</span><span class=\"op\">(</span>IPaciente paciente<span class=\"op\">);</span></span>\n<span id=\"cb2-169\"><a href=\"#cb2-169\" aria-hidden=\"true\" tabindex=\"-1\"></a>        pacientes<span class=\"op\">.</span><span class=\"fu\">put</span><span class=\"op\">(</span>paciente<span class=\"op\">.</span><span class=\"fu\">getId</span><span class=\"op\">(),</span> paciente<span class=\"op\">);</span></span>\n<span id=\"cb2-170\"><a href=\"#cb2-170\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"op\">}</span></span>\n<span id=\"cb2-171\"><a href=\"#cb2-171\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> <span class=\"dt\">void</span> <span class=\"fu\">addMedico</span><span class=\"op\">(</span>IMedico medico<span class=\"op\">);</span></span>\n<span id=\"cb2-172\"><a href=\"#cb2-172\" aria-hidden=\"true\" tabindex=\"-1\"></a>        medicos<span class=\"op\">.</span><span class=\"fu\">put</span><span class=\"op\">(</span>medico<span class=\"op\">.</span><span class=\"fu\">getId</span><span class=\"op\">(),</span> medico<span class=\"op\">);</span></span>\n<span id=\"cb2-173\"><a href=\"#cb2-173\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"op\">}</span></span>\n<span id=\"cb2-174\"><a href=\"#cb2-174\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> <span class=\"dt\">void</span> <span class=\"fu\">vincular</span><span class=\"op\">(</span><span class=\"bu\">String</span> nomeMedico<span class=\"op\">,</span> <span class=\"bu\">String</span> nomePaciente<span class=\"op\">);</span></span>\n<span id=\"cb2-175\"><a href=\"#cb2-175\" aria-hidden=\"true\" tabindex=\"-1\"></a>        IMedico medico <span class=\"op\">=</span> medicos<span class=\"op\">.</span><span class=\"fu\">get</span><span class=\"op\">(</span>nomeMedico<span class=\"op\">);</span></span>\n<span id=\"cb2-176\"><a href=\"#cb2-176\" aria-hidden=\"true\" tabindex=\"-1\"></a>        IPaciente paciente <span class=\"op\">=</span> pacientes<span class=\"op\">.</span><span class=\"fu\">get</span><span class=\"op\">(</span>nomePaciente<span class=\"op\">);</span></span>\n<span id=\"cb2-177\"><a href=\"#cb2-177\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"cf\">if</span> <span class=\"op\">(</span>medico <span class=\"op\">==</span> <span class=\"kw\">null</span><span class=\"op\">)</span></span>\n<span id=\"cb2-178\"><a href=\"#cb2-178\" aria-hidden=\"true\" tabindex=\"-1\"></a>            <span class=\"cf\">return</span><span class=\"op\">;</span></span>\n<span id=\"cb2-179\"><a href=\"#cb2-179\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"cf\">if</span><span class=\"op\">(</span>paciente<span class=\"op\">.</span><span class=\"fu\">getMedicos</span><span class=\"op\">().</span><span class=\"fu\">stream</span><span class=\"op\">().</span><span class=\"fu\">filter</span><span class=\"op\">(</span>med <span class=\"op\">-&gt;</span> med<span class=\"op\">.</span><span class=\"fu\">getClasse</span><span class=\"op\">().</span><span class=\"fu\">equals</span><span class=\"op\">(</span>medico<span class=\"op\">.</span><span class=\"fu\">getClasse</span><span class=\"op\">())).</span><span class=\"fu\">findFirst</span><span class=\"op\">().</span><span class=\"fu\">orElse</span><span class=\"op\">(</span><span class=\"kw\">null</span><span class=\"op\">)</span> <span class=\"op\">!=</span> <span class=\"kw\">null</span><span class=\"op\">);</span></span>\n<span id=\"cb2-180\"><a href=\"#cb2-180\" aria-hidden=\"true\" tabindex=\"-1\"></a>            <span class=\"bu\">System</span><span class=\"op\">.</span><span class=\"fu\">out</span><span class=\"op\">.</span><span class=\"fu\">println</span><span class=\"op\">(</span><span class=\"st\">&quot;fail: ja existe outro medico da especialidade cirurgia&quot;</span><span class=\"op\">);</span></span>\n<span id=\"cb2-181\"><a href=\"#cb2-181\" aria-hidden=\"true\" tabindex=\"-1\"></a>            <span class=\"cf\">return</span><span class=\"op\">;</span></span>\n<span id=\"cb2-182\"><a href=\"#cb2-182\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"op\">}</span></span>\n<span id=\"cb2-183\"><a href=\"#cb2-183\" aria-hidden=\"true\" tabindex=\"-1\"></a>        medico<span class=\"op\">.</span><span class=\"fu\">addPaciente</span><span class=\"op\">(</span>paciente<span class=\"op\">);</span></span>\n<span id=\"cb2-184\"><a href=\"#cb2-184\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"op\">}</span></span>\n<span id=\"cb2-185\"><a href=\"#cb2-185\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"co\">//search for a pacient or medic with this id or throw an exception</span></span>\n<span id=\"cb2-186\"><a href=\"#cb2-186\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> ICommunicator <span class=\"fu\">getCommunicator</span><span class=\"op\">(</span><span class=\"bu\">String</span> id<span class=\"op\">);</span></span>\n<span id=\"cb2-187\"><a href=\"#cb2-187\" aria-hidden=\"true\" tabindex=\"-1\"></a>        ICommunicator com <span class=\"op\">=</span> pacientes<span class=\"op\">.</span><span class=\"fu\">get</span><span class=\"op\">(</span>id<span class=\"op\">);</span></span>\n<span id=\"cb2-188\"><a href=\"#cb2-188\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"cf\">if</span><span class=\"op\">(</span>com <span class=\"op\">!=</span> <span class=\"kw\">null</span><span class=\"op\">)</span></span>\n<span id=\"cb2-189\"><a href=\"#cb2-189\" aria-hidden=\"true\" tabindex=\"-1\"></a>            <span class=\"cf\">return</span> com<span class=\"op\">;</span></span>\n<span id=\"cb2-190\"><a href=\"#cb2-190\" aria-hidden=\"true\" tabindex=\"-1\"></a>        com <span class=\"op\">=</span> medicos<span class=\"op\">.</span><span class=\"fu\">get</span><span class=\"op\">(</span>id<span class=\"op\">);</span></span>\n<span id=\"cb2-191\"><a href=\"#cb2-191\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"cf\">if</span><span class=\"op\">(</span>com <span class=\"op\">!=</span> <span class=\"kw\">null</span><span class=\"op\">)</span></span>\n<span id=\"cb2-192\"><a href=\"#cb2-192\" aria-hidden=\"true\" tabindex=\"-1\"></a>            <span class=\"cf\">return</span> com<span class=\"op\">;</span></span>\n<span id=\"cb2-193\"><a href=\"#cb2-193\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"cf\">throw</span> <span class=\"kw\">new</span> <span class=\"fu\">HospitalException</span><span class=\"op\">(</span><span class=\"st\">&quot;fail: usuario nao existe&quot;</span><span class=\"op\">);</span></span>\n<span id=\"cb2-194\"><a href=\"#cb2-194\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"op\">}</span></span>\n<span id=\"cb2-195\"><a href=\"#cb2-195\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> <span class=\"bu\">String</span> <span class=\"fu\">showAll</span><span class=\"op\">();</span></span>\n<span id=\"cb2-196\"><a href=\"#cb2-196\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"bu\">StringBuilder</span> lista <span class=\"op\">=</span> <span class=\"kw\">new</span> <span class=\"bu\">StringBuilder</span><span class=\"op\">();</span></span>\n<span id=\"cb2-197\"><a href=\"#cb2-197\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"cf\">for</span> <span class=\"op\">(</span>IPaciente paciente <span class=\"op\">:</span> pacientes<span class=\"op\">.</span><span class=\"fu\">values</span><span class=\"op\">())</span></span>\n<span id=\"cb2-198\"><a href=\"#cb2-198\" aria-hidden=\"true\" tabindex=\"-1\"></a>            lista<span class=\"op\">.</span><span class=\"fu\">append</span><span class=\"op\">(</span>paciente<span class=\"op\">);</span></span>\n<span id=\"cb2-199\"><a href=\"#cb2-199\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"cf\">for</span> <span class=\"op\">(</span>IMedico medico <span class=\"op\">:</span> medicos<span class=\"op\">.</span><span class=\"fu\">values</span><span class=\"op\">())</span></span>\n<span id=\"cb2-200\"><a href=\"#cb2-200\" aria-hidden=\"true\" tabindex=\"-1\"></a>            lista<span class=\"op\">.</span><span class=\"fu\">append</span><span class=\"op\">(</span>medico<span class=\"op\">);</span></span>\n<span id=\"cb2-201\"><a href=\"#cb2-201\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"cf\">return</span> lista<span class=\"op\">.</span><span class=\"fu\">toString</span><span class=\"op\">();</span></span>\n<span id=\"cb2-202\"><a href=\"#cb2-202\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"op\">}</span></span>\n<span id=\"cb2-203\"><a href=\"#cb2-203\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"op\">}</span></span>\n<span id=\"cb2-204\"><a href=\"#cb2-204\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"kw\">public</span> <span class=\"kw\">class</span> Solver <span class=\"op\">{</span></span>\n<span id=\"cb2-205\"><a href=\"#cb2-205\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"kw\">public</span> <span class=\"dt\">static</span> <span class=\"dt\">void</span> <span class=\"fu\">main</span><span class=\"op\">(</span><span class=\"bu\">String</span><span class=\"op\">[]</span> args<span class=\"op\">);</span></span>\n<span id=\"cb2-206\"><a href=\"#cb2-206\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"bu\">Scanner</span> scanner <span class=\"op\">=</span> <span class=\"kw\">new</span> <span class=\"bu\">Scanner</span><span class=\"op\">(</span><span class=\"bu\">System</span><span class=\"op\">.</span><span class=\"fu\">in</span><span class=\"op\">);</span></span>\n<span id=\"cb2-207\"><a href=\"#cb2-207\" aria-hidden=\"true\" tabindex=\"-1\"></a>        Hospital hospital <span class=\"op\">=</span> <span class=\"kw\">new</span> <span class=\"fu\">Hospital</span><span class=\"op\">();</span></span>\n<span id=\"cb2-208\"><a href=\"#cb2-208\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"cf\">while</span> <span class=\"op\">(</span><span class=\"kw\">true</span><span class=\"op\">);</span></span>\n<span id=\"cb2-209\"><a href=\"#cb2-209\" aria-hidden=\"true\" tabindex=\"-1\"></a>            <span class=\"cf\">try</span> <span class=\"op\">{</span></span>\n<span id=\"cb2-210\"><a href=\"#cb2-210\" aria-hidden=\"true\" tabindex=\"-1\"></a>                <span class=\"bu\">String</span> line <span class=\"op\">=</span> scanner<span class=\"op\">.</span><span class=\"fu\">nextLine</span><span class=\"op\">();</span></span>\n<span id=\"cb2-211\"><a href=\"#cb2-211\" aria-hidden=\"true\" tabindex=\"-1\"></a>                <span class=\"bu\">System</span><span class=\"op\">.</span><span class=\"fu\">out</span><span class=\"op\">.</span><span class=\"fu\">println</span><span class=\"op\">(</span><span class=\"st\">&quot;$&quot;</span> <span class=\"op\">+</span> line<span class=\"op\">);</span></span>\n<span id=\"cb2-212\"><a href=\"#cb2-212\" aria-hidden=\"true\" tabindex=\"-1\"></a>                <span class=\"bu\">List</span><span class=\"op\">&lt;</span><span class=\"bu\">String</span><span class=\"op\">&gt;</span> ui <span class=\"op\">=</span> <span class=\"bu\">Arrays</span><span class=\"op\">.</span><span class=\"fu\">asList</span><span class=\"op\">(</span>line<span class=\"op\">.</span><span class=\"fu\">split</span><span class=\"op\">(</span><span class=\"st\">&quot; &quot;</span><span class=\"op\">));</span></span>\n<span id=\"cb2-213\"><a href=\"#cb2-213\" aria-hidden=\"true\" tabindex=\"-1\"></a>                <span class=\"cf\">if</span> <span class=\"op\">(</span>ui<span class=\"op\">.</span><span class=\"fu\">get</span><span class=\"op\">(</span><span class=\"dv\">0</span><span class=\"op\">).</span><span class=\"fu\">equals</span><span class=\"op\">(</span><span class=\"st\">&quot;end&quot;</span><span class=\"op\">));</span></span>\n<span id=\"cb2-214\"><a href=\"#cb2-214\" aria-hidden=\"true\" tabindex=\"-1\"></a>                    <span class=\"cf\">break</span><span class=\"op\">;</span></span>\n<span id=\"cb2-215\"><a href=\"#cb2-215\" aria-hidden=\"true\" tabindex=\"-1\"></a>                <span class=\"op\">}</span> <span class=\"cf\">else</span> <span class=\"cf\">if</span> <span class=\"op\">(</span>ui<span class=\"op\">.</span><span class=\"fu\">get</span><span class=\"op\">(</span><span class=\"dv\">0</span><span class=\"op\">).</span><span class=\"fu\">equals</span><span class=\"op\">(</span><span class=\"st\">&quot;addPacs&quot;</span><span class=\"op\">));</span></span>\n<span id=\"cb2-216\"><a href=\"#cb2-216\" aria-hidden=\"true\" tabindex=\"-1\"></a>                    ui<span class=\"op\">.</span><span class=\"fu\">stream</span><span class=\"op\">().</span><span class=\"fu\">skip</span><span class=\"op\">(</span><span class=\"dv\">1</span><span class=\"op\">).</span><span class=\"fu\">forEach</span><span class=\"op\">(</span>tk <span class=\"op\">-&gt;</span> hospital<span class=\"op\">.</span><span class=\"fu\">addPaciente</span><span class=\"op\">(</span><span class=\"kw\">new</span> <span class=\"fu\">Paciente</span><span class=\"op\">(</span>tk<span class=\"op\">.</span><span class=\"fu\">split</span><span class=\"op\">(</span><span class=\"st\">&quot;-&quot;</span><span class=\"op\">)[</span><span class=\"dv\">0</span><span class=\"op\">],</span> tk<span class=\"op\">.</span><span class=\"fu\">split</span><span class=\"op\">(</span><span class=\"st\">&quot;-&quot;</span><span class=\"op\">)[</span><span class=\"dv\">1</span><span class=\"op\">])));</span></span>\n<span id=\"cb2-217\"><a href=\"#cb2-217\" aria-hidden=\"true\" tabindex=\"-1\"></a>                <span class=\"op\">}</span> <span class=\"cf\">else</span> <span class=\"cf\">if</span> <span class=\"op\">(</span>ui<span class=\"op\">.</span><span class=\"fu\">get</span><span class=\"op\">(</span><span class=\"dv\">0</span><span class=\"op\">).</span><span class=\"fu\">equals</span><span class=\"op\">(</span><span class=\"st\">&quot;addMeds&quot;</span><span class=\"op\">));</span></span>\n<span id=\"cb2-218\"><a href=\"#cb2-218\" aria-hidden=\"true\" tabindex=\"-1\"></a>                    ui<span class=\"op\">.</span><span class=\"fu\">stream</span><span class=\"op\">().</span><span class=\"fu\">skip</span><span class=\"op\">(</span><span class=\"dv\">1</span><span class=\"op\">).</span><span class=\"fu\">forEach</span><span class=\"op\">(</span>tk <span class=\"op\">-&gt;</span> hospital<span class=\"op\">.</span><span class=\"fu\">addMedico</span><span class=\"op\">(</span><span class=\"kw\">new</span> <span class=\"fu\">Medico</span><span class=\"op\">(</span>tk<span class=\"op\">.</span><span class=\"fu\">split</span><span class=\"op\">(</span><span class=\"st\">&quot;-&quot;</span><span class=\"op\">)[</span><span class=\"dv\">0</span><span class=\"op\">],</span> tk<span class=\"op\">.</span><span class=\"fu\">split</span><span class=\"op\">(</span><span class=\"st\">&quot;-&quot;</span><span class=\"op\">)[</span><span class=\"dv\">1</span><span class=\"op\">])));</span></span>\n<span id=\"cb2-219\"><a href=\"#cb2-219\" aria-hidden=\"true\" tabindex=\"-1\"></a>                <span class=\"op\">}</span> <span class=\"cf\">else</span> <span class=\"cf\">if</span> <span class=\"op\">(</span>ui<span class=\"op\">.</span><span class=\"fu\">get</span><span class=\"op\">(</span><span class=\"dv\">0</span><span class=\"op\">).</span><span class=\"fu\">equals</span><span class=\"op\">(</span><span class=\"st\">&quot;show&quot;</span><span class=\"op\">));</span></span>\n<span id=\"cb2-220\"><a href=\"#cb2-220\" aria-hidden=\"true\" tabindex=\"-1\"></a>                    <span class=\"bu\">System</span><span class=\"op\">.</span><span class=\"fu\">out</span><span class=\"op\">.</span><span class=\"fu\">print</span><span class=\"op\">(</span>hospital<span class=\"op\">.</span><span class=\"fu\">showAll</span><span class=\"op\">());</span></span>\n<span id=\"cb2-221\"><a href=\"#cb2-221\" aria-hidden=\"true\" tabindex=\"-1\"></a>                <span class=\"op\">}</span> <span class=\"cf\">else</span> <span class=\"cf\">if</span> <span class=\"op\">(</span>ui<span class=\"op\">.</span><span class=\"fu\">get</span><span class=\"op\">(</span><span class=\"dv\">0</span><span class=\"op\">).</span><span class=\"fu\">equals</span><span class=\"op\">(</span><span class=\"st\">&quot;tie&quot;</span><span class=\"op\">));</span></span>\n<span id=\"cb2-222\"><a href=\"#cb2-222\" aria-hidden=\"true\" tabindex=\"-1\"></a>                    ui<span class=\"op\">.</span><span class=\"fu\">stream</span><span class=\"op\">().</span><span class=\"fu\">skip</span><span class=\"op\">(</span><span class=\"dv\">2</span><span class=\"op\">).</span><span class=\"fu\">forEach</span><span class=\"op\">(</span>name <span class=\"op\">-&gt;</span> hospital<span class=\"op\">.</span><span class=\"fu\">vincular</span><span class=\"op\">(</span>ui<span class=\"op\">.</span><span class=\"fu\">get</span><span class=\"op\">(</span><span class=\"dv\">1</span><span class=\"op\">),</span> name<span class=\"op\">));</span></span>\n<span id=\"cb2-223\"><a href=\"#cb2-223\" aria-hidden=\"true\" tabindex=\"-1\"></a>                <span class=\"op\">}</span> <span class=\"cf\">else</span> <span class=\"cf\">if</span> <span class=\"op\">(</span>ui<span class=\"op\">.</span><span class=\"fu\">get</span><span class=\"op\">(</span><span class=\"dv\">0</span><span class=\"op\">).</span><span class=\"fu\">equals</span><span class=\"op\">(</span><span class=\"st\">&quot;msg&quot;</span><span class=\"op\">));</span> <span class=\"co\">//sender receiver msg in many words</span></span>\n<span id=\"cb2-224\"><a href=\"#cb2-224\" aria-hidden=\"true\" tabindex=\"-1\"></a>                    ICommunicator sender <span class=\"op\">=</span> hospital<span class=\"op\">.</span><span class=\"fu\">getCommunicator</span><span class=\"op\">(</span>ui<span class=\"op\">.</span><span class=\"fu\">get</span><span class=\"op\">(</span><span class=\"dv\">1</span><span class=\"op\">));</span></span>\n<span id=\"cb2-225\"><a href=\"#cb2-225\" aria-hidden=\"true\" tabindex=\"-1\"></a>                    <span class=\"bu\">String</span> message <span class=\"op\">=</span> ui<span class=\"op\">.</span><span class=\"fu\">stream</span><span class=\"op\">().</span><span class=\"fu\">skip</span><span class=\"op\">(</span><span class=\"dv\">3</span><span class=\"op\">).</span><span class=\"fu\">collect</span><span class=\"op\">(</span>Collectors<span class=\"op\">.</span><span class=\"fu\">joining</span><span class=\"op\">(</span><span class=\"st\">&quot; &quot;</span><span class=\"op\">));</span></span>\n<span id=\"cb2-226\"><a href=\"#cb2-226\" aria-hidden=\"true\" tabindex=\"-1\"></a>                    sender<span class=\"op\">.</span><span class=\"fu\">deliverMessage</span><span class=\"op\">(</span>ui<span class=\"op\">.</span><span class=\"fu\">get</span><span class=\"op\">(</span><span class=\"dv\">2</span><span class=\"op\">),</span> message<span class=\"op\">);</span></span>\n<span id=\"cb2-227\"><a href=\"#cb2-227\" aria-hidden=\"true\" tabindex=\"-1\"></a>                <span class=\"op\">}</span> <span class=\"cf\">else</span> <span class=\"cf\">if</span> <span class=\"op\">(</span>ui<span class=\"op\">.</span><span class=\"fu\">get</span><span class=\"op\">(</span><span class=\"dv\">0</span><span class=\"op\">).</span><span class=\"fu\">equals</span><span class=\"op\">(</span><span class=\"st\">&quot;inbox&quot;</span><span class=\"op\">));</span></span>\n<span id=\"cb2-228\"><a href=\"#cb2-228\" aria-hidden=\"true\" tabindex=\"-1\"></a>                    <span class=\"bu\">System</span><span class=\"op\">.</span><span class=\"fu\">out</span><span class=\"op\">.</span><span class=\"fu\">println</span><span class=\"op\">(</span>hospital<span class=\"op\">.</span><span class=\"fu\">getCommunicator</span><span class=\"op\">(</span>ui<span class=\"op\">.</span><span class=\"fu\">get</span><span class=\"op\">(</span><span class=\"dv\">1</span><span class=\"op\">)).</span><span class=\"fu\">getInbox</span><span class=\"op\">().</span><span class=\"fu\">stream</span><span class=\"op\">().</span><span class=\"fu\">map</span><span class=\"op\">(</span>m <span class=\"op\">-&gt;</span> <span class=\"st\">&quot;[&quot;</span> <span class=\"op\">+</span> m <span class=\"op\">+</span> <span class=\"st\">&quot;]&quot;</span><span class=\"op\">).</span><span class=\"fu\">collect</span><span class=\"op\">(</span>Collectors<span class=\"op\">.</span><span class=\"fu\">joining</span><span class=\"op\">(</span><span class=\"st\">&quot;</span><span class=\"sc\">\\n</span><span class=\"st\">&quot;</span><span class=\"op\">)));</span></span>\n<span id=\"cb2-229\"><a href=\"#cb2-229\" aria-hidden=\"true\" tabindex=\"-1\"></a>                <span class=\"op\">}</span> <span class=\"cf\">else</span> <span class=\"op\">{</span></span>\n<span id=\"cb2-230\"><a href=\"#cb2-230\" aria-hidden=\"true\" tabindex=\"-1\"></a>                    <span class=\"bu\">System</span><span class=\"op\">.</span><span class=\"fu\">out</span><span class=\"op\">.</span><span class=\"fu\">println</span><span class=\"op\">(</span><span class=\"st\">&quot;fail: comando invalido&quot;</span><span class=\"op\">);</span></span>\n<span id=\"cb2-231\"><a href=\"#cb2-231\" aria-hidden=\"true\" tabindex=\"-1\"></a>                <span class=\"op\">}</span></span>\n<span id=\"cb2-232\"><a href=\"#cb2-232\" aria-hidden=\"true\" tabindex=\"-1\"></a>            <span class=\"op\">}</span> <span class=\"cf\">catch</span> <span class=\"op\">(</span>HospitalException he<span class=\"op\">);</span></span>\n<span id=\"cb2-233\"><a href=\"#cb2-233\" aria-hidden=\"true\" tabindex=\"-1\"></a>                <span class=\"bu\">System</span><span class=\"op\">.</span><span class=\"fu\">out</span><span class=\"op\">.</span><span class=\"fu\">println</span><span class=\"op\">(</span>he<span class=\"op\">.</span><span class=\"fu\">getMessage</span><span class=\"op\">());</span></span>\n<span id=\"cb2-234\"><a href=\"#cb2-234\" aria-hidden=\"true\" tabindex=\"-1\"></a>            <span class=\"op\">}</span></span>\n<span id=\"cb2-235\"><a href=\"#cb2-235\" aria-hidden=\"true\" tabindex=\"-1\"></a>        <span class=\"op\">}</span></span>\n<span id=\"cb2-236\"><a href=\"#cb2-236\" aria-hidden=\"true\" tabindex=\"-1\"></a>    <span class=\"op\">}</span></span>\n<span id=\"cb2-237\"><a href=\"#cb2-237\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"op\">}</span></span></code></pre></div>\n<!--FILTER_END-->\n</body>\n</html>\n",
    "upload": [
        {
            "name": "vpl_evaluate.cases",
            "contents": ">>>>>>>> inserir\naddPacs fred-fratura alvis-avc goku-hemorragia silva-sinusite\naddMeds bisturi-cirurgia snif-alergologia facada-cirurgia\nshow\nend\n========\n$addPacs fred-fratura alvis-avc goku-hemorragia silva-sinusite\n$addMeds bisturi-cirurgia snif-alergologia facada-cirurgia\n$show\nPac: alvis:avc        Meds: []\nPac: fred:fratura     Meds: []\nPac: goku:hemorragia  Meds: []\nPac: silva:sinusite   Meds: []\nMed: bisturi:cirurgia Pacs: []\nMed: facada:cirurgia  Pacs: []\nMed: snif:alergologia Pacs: []\n$end\n<<<<<<<<\n\n>>>>>>>> vincular\naddPacs fred-fratura alvis-avc goku-hemorragia silva-sinusite\naddMeds bisturi-cirurgia snif-alergologia facada-cirurgia\nshow\ntie bisturi fred alvis goku\ntie snif silva alvis\ntie facada goku\nshow\nend\n========\n$addPacs fred-fratura alvis-avc goku-hemorragia silva-sinusite\n$addMeds bisturi-cirurgia snif-alergologia facada-cirurgia\n$show\nPac: alvis:avc        Meds: []\nPac: fred:fratura     Meds: []\nPac: goku:hemorragia  Meds: []\nPac: silva:sinusite   Meds: []\nMed: bisturi:cirurgia Pacs: []\nMed: facada:cirurgia  Pacs: []\nMed: snif:alergologia Pacs: []\n$tie bisturi fred alvis goku\n$tie snif silva alvis\n$tie facada goku\nfail: ja existe outro medico da especialidade cirurgia\n$show\nPac: alvis:avc        Meds: [bisturi, snif]\nPac: fred:fratura     Meds: [bisturi]\nPac: goku:hemorragia  Meds: [bisturi]\nPac: silva:sinusite   Meds: [snif]\nMed: bisturi:cirurgia Pacs: [alvis, fred, goku]\nMed: facada:cirurgia  Pacs: []\nMed: snif:alergologia Pacs: [alvis, silva]\n$end\n<<<<<<<<\n\n>>>>>>>> mensagens\naddPacs fred-fratura alvis-avc goku-hemorragia silva-sinusite\naddMeds bisturi-cirurgia snif-alergologia facada-cirurgia\nshow\ntie bisturi fred alvis goku\ntie snif silva alvis\ntie facada goku\nshow\nmsg alvis bisturi posso tomar homeprazol?\nmsg goku bisturi coceira no reto eh normal?\ninbox bisturi\nmsg bisturi alvis chupe limao que passa\nmsg bisturi goku venha na minha sala pra eu olhar\ninbox goku\nmsg goku facada\ninbox machado\nend\n========\n$addPacs fred-fratura alvis-avc goku-hemorragia silva-sinusite\n$addMeds bisturi-cirurgia snif-alergologia facada-cirurgia\n$show\nPac: alvis:avc        Meds: []\nPac: fred:fratura     Meds: []\nPac: goku:hemorragia  Meds: []\nPac: silva:sinusite   Meds: []\nMed: bisturi:cirurgia Pacs: []\nMed: facada:cirurgia  Pacs: []\nMed: snif:alergologia Pacs: []\n$tie bisturi fred alvis goku\n$tie snif silva alvis\n$tie facada goku\nfail: ja existe outro medico da especialidade cirurgia\n$show\nPac: alvis:avc        Meds: [bisturi, snif]\nPac: fred:fratura     Meds: [bisturi]\nPac: goku:hemorragia  Meds: [bisturi]\nPac: silva:sinusite   Meds: [snif]\nMed: bisturi:cirurgia Pacs: [alvis, fred, goku]\nMed: facada:cirurgia  Pacs: []\nMed: snif:alergologia Pacs: [alvis, silva]\n$msg alvis bisturi posso tomar homeprazol?\n$msg goku bisturi coceira no reto eh normal?\n$inbox bisturi\n[alvis:posso tomar homeprazol?]\n[goku:coceira no reto eh normal?]\n$msg bisturi alvis chupe limao que passa\n$msg bisturi goku venha na minha sala pra eu olhar\n$inbox goku\n[bisturi:venha na minha sala pra eu olhar]\n$msg goku facada\nfail:goku nao conhece facada\n$inbox machado\nfail: usuario nao existe\n$end\n<<<<<<<<\n\n>>>>>>>> mensagens !%\naddPacs fred-fratura alvis-avc goku-hemorragia silva-sinusite\naddMeds bisturi-cirurgia snif-alergologia facada-cirurgia\nshow\ntie bisturi fred alvis goku\ntie snif silva alvis\ntie facada goku\nshow\nmsg alvis bisturi posso tomar homeprazol?\nmsg goku bisturi coceira no reto eh normal?\ninbox bisturi\nmsg bisturi alvis chupe limao que passa\ninbox goku\nmsg goku facada\nend\n========\n$addPacs fred-fratura alvis-avc goku-hemorragia silva-sinusite\n$addMeds bisturi-cirurgia snif-alergologia facada-cirurgia\n$show\nPac: alvis:avc        Meds: []\nPac: fred:fratura     Meds: []\nPac: goku:hemorragia  Meds: []\nPac: silva:sinusite   Meds: []\nMed: bisturi:cirurgia Pacs: []\nMed: facada:cirurgia  Pacs: []\nMed: snif:alergologia Pacs: []\n$tie bisturi fred alvis goku\n$tie snif silva alvis\n$tie facada goku\nfail: ja existe outro medico da especialidade cirurgia\n$show\nPac: alvis:avc        Meds: [bisturi, snif]\nPac: fred:fratura     Meds: [bisturi]\nPac: goku:hemorragia  Meds: [bisturi]\nPac: silva:sinusite   Meds: [snif]\nMed: bisturi:cirurgia Pacs: [alvis, fred, goku]\nMed: facada:cirurgia  Pacs: []\nMed: snif:alergologia Pacs: [alvis, silva]\n$msg alvis bisturi posso tomar homeprazol?\n$msg goku bisturi coceira no reto eh normal?\n$inbox bisturi\n[alvis: posso tomar homeprazol?]\n[goku: coceira no reto eh normal?]\n$msg bisturi alvis chupe limao que passa\nmsg bisturi goku venha na minha sala pra eu olhar\n$inbox goku\n[bisturi: venha na minha sala pra eu olhar]\n$msg goku facada\nfail: goku nao conhece facada\n$end\n<<<<<<<<\n",
            "encoding": 0
        }
    ],
    "keep": [],
    "required": []
}
