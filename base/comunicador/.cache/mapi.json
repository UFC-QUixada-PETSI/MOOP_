{
    "title": "@comunicador: @comunicador",
    "description": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>@comunicador: @comunicador</title>\n    <style>\n        body { font-family: sans-serif; line-height: 1.6; margin: 20px; }\n        pre { background-color: #f4f4f4; padding: 10px; border-radius: 5px; overflow-x: auto; }\n        code { font-family: monospace; }\n        table { border-collapse: collapse; width: 100%; }\n        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }\n        th { background-color: #f2f2f2; }\n        /* Estilos b\u00e1sicos para o destaque de sintaxe (gerado pelo pygments via pymdownx.highlight) */\n        .highlight .hll { background-color: #ffffcc }\n        .highlight .c { color: #999988; font-style: italic } /* Comment */\n        .highlight .err { color: #a61717; background-color: #e3d2d2 } /* Error */\n        .highlight .k { color: #000000; font-weight: bold } /* Keyword */\n        .highlight .o { color: #000000; font-weight: bold } /* Operator */\n        .highlight .ch { color: #999988; font-style: italic } /* Comment.Hashbang */\n        .highlight .cm { color: #999988; font-style: italic } /* Comment.Multiline */\n        .highlight .cp { color: #999999; font-weight: bold; font-style: italic } /* Comment.Preproc */\n        .highlight .cpf { color: #999988; font-style: italic } /* Comment.PreprocFile */\n        .highlight .c1 { color: #999988; font-style: italic } /* Comment.Single */\n        .highlight .cs { color: #999999; font-weight: bold; font-style: italic } /* Comment.Special */\n        .highlight .gd { color: #000000; background-color: #ffdddd } /* Generic.Deleted */\n        .highlight .ge { color: #000000; font-style: italic } /* Generic.Emph */\n        .highlight .gr { color: #aa0000 } /* Generic.Error */\n        .highlight .gh { color: #999999 } /* Generic.Heading */\n        .highlight .gi { color: #000000; background-color: #ddffdd } /* Generic.Inserted */\n        .highlight .go { color: #888888 } /* Generic.Output */\n        .highlight .gp { color: #555555 } /* Generic.Prompt */\n        .highlight .gs { font-weight: bold } /* Generic.Strong */\n        .highlight .gu { color: #aaaaaa } /* Generic.Subheading */\n        .highlight .gt { color: #aa0000 } /* Generic.Traceback */\n        .highlight .kc { color: #000000; font-weight: bold } /* Keyword.Constant */\n        .highlight .kd { color: #000000; font-weight: bold } /* Keyword.Declaration */\n        .highlight .kn { color: #000000; font-weight: bold } /* Keyword.Namespace */\n        .highlight .kp { color: #000000; font-weight: bold } /* Keyword.Pseudo */\n        .highlight .kr { color: #000000; font-weight: bold } /* Keyword.Reserved */\n        .highlight .kt { color: #445588; font-weight: bold } /* Keyword.Type */\n        .highlight .m { color: #009999 } /* Literal.Number */\n        .highlight .s { color: #dd1144 } /* Literal.String */\n        .highlight .na { color: #008080 } /* Name.Attribute */\n        .highlight .nb { color: #0086B3 } /* Name.Builtin */\n        .highlight .nc { color: #445588; font-weight: bold } /* Name.Class */\n        .highlight .no { color: #008080 } /* Name.Constant */\n        .highlight .nd { color: #3c5d5d; font-weight: bold } /* Name.Decorator */\n        .highlight .ni { color: #800080 } /* Name.Entity */\n        .highlight .ne { color: #990000; font-weight: bold } /* Name.Exception */\n        .highlight .nf { color: #990000; font-weight: bold } /* Name.Function */\n        .highlight .nl { color: #990000; font-weight: bold } /* Name.Label */\n        .highlight .nn { color: #555555; font-weight: bold } /* Name.Namespace */\n        .highlight .nx { color: #990000; font-weight: bold } /* Name.Other */\n        .highlight .py { color: #009999 } /* Name.Property */\n        .highlight .p { color: #000000 } /* Name.Punctuation */\n        .highlight .nv { color: #008080 } /* Name.Variable */\n        .highlight .ow { color: #000000; font-weight: bold } /* Operator.Word */\n        .highlight .w { color: #bbbbbb } /* Text.Whitespace */\n        .highlight .mf { color: #009999 } /* Literal.Number.Float */\n        .highlight .mh { color: #009999 } /* Literal.Number.Hex */\n        .highlight .mi { color: #009999 } /* Literal.Number.Integer */\n        .highlight .mo { color: #009999 } /* Literal.Number.Oct */\n        .highlight .sb { color: #dd1144 } /* Literal.String.Backtick */\n        .highlight .sc { color: #dd1144 } /* Literal.String.Char */\n        .highlight .sd { color: #dd1144 } /* Literal.String.Doc */\n        .highlight .s2 { color: #dd1144 } /* Literal.String.Double */\n        .highlight .se { color: #dd1144 } /* Literal.String.Escape */\n        .highlight .sh { color: #dd1144 } /* Literal.String.Heredoc */\n        .highlight .si { color: #dd1144 } /* Literal.String.Interpol */\n        .highlight .sx { color: #dd1144 } /* Literal.String.Other */\n        .highlight .sr { color: #009926 } /* Literal.String.Regex */\n        .highlight .s1 { color: #dd1144 } /* Literal.String.Single */\n        .highlight .ss { color: #dd1144 } /* Literal.String.Symbol */\n        .highlight .bp { color: #0086B3 } /* Name.Builtin.Pseudo */\n        .highlight .vc { color: #008080 } /* Name.Variable.Class */\n        .highlight .vg { color: #008080 } /* Name.Variable.Global */\n        .highlight .vi { color: #008080 } /* Name.Variable.Instance */\n        .highlight .il { color: #009999 } /* Literal.Number.Integer.Long */\n    </style>\n    <script type=\"text/javascript\" async\n      src=\"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML\">\n    </script>\n</head>\n<body>\n<h1>@comunicador</h1>\n<!-- toch -->\n<table>\n<thead>\n<tr>\n<th><a href=\"#intro\">Intro</a></th>\n<th><a href=\"#guia\">Guia</a></th>\n<th><a href=\"#diagrama-de-classes\">Diagrama de Classes</a></th>\n<th><a href=\"#esqueleto\">Esqueleto</a></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<!-- toch -->\n\n<p><img alt=\"cover\" src=\"https://raw.githubusercontent.com/qxcodepoo/arcade/master/base/comunicador/cover.jpg\" /></p>\n<h2>Intro</h2>\n<p>Voc\u00ea vai alterar a implementa\u00e7\u00e3o do Hospital I para habilitar o envio de mensagens entre m\u00e9dicos e pacientes.</p>\n<ul>\n<li>Pacientes s\u00f3 podem enviar mensagens para seus m\u00e9dicos.</li>\n<li>M\u00e9dicos s\u00f3 podem enviar mensagens para seus pacientes.</li>\n<li>M\u00e9dicos e pacientes s\u00f3 podem ver suas pr\u00f3prias mensagens.</li>\n<li>As mensagens funcionam no modo de inbox, ap\u00f3s lidas, elas \"desaparecem\".</li>\n</ul>\n<h2>Guia</h2>\n<ul>\n<li>As classes Paciente e Medico v\u00e3o ter poucas altera\u00e7\u00f5es.</li>\n<li>Precisamos que m\u00e9dicos e pacientes sejam diferentes, mas que ambos se comportem como Comunicadores.</li>\n<li>As antigas interfaces IPaciente e IMedicos v\u00e3o virar classes abstratas que herdam de Comunicador.</li>\n<li>Em comunicador reside toda a l\u00f3gica da troca de mensagens. A \u00fanica pe\u00e7a que falta \u00e9 que um paciente tem os seus m\u00e9dicos como poss\u00edveis destinat\u00e1rios e vice versa.</li>\n<li>Por isso, apenas nas classes Paciente e M\u00e9dico que \u00e9 implementado o getReceiver definido na interface ICommunicator.</li>\n<li>Um paciente quando invocado o m\u00e9todo getReceiver(id) procura na sua lista de m\u00e9dicos por um m\u00e9dico com esse id e retorna esse objeto m\u00e9dico. Se n\u00e3o encontra, emite uma exception avisando que n\u00e3o possui aquele remetente. O mesmo para o m\u00e9tido.</li>\n<li>A classe Abstrata Communicator implementa o envio de mensagem e o inbox.</li>\n</ul>\n<hr />\n<div class=\"language-sh highlight\"><pre><span></span><code><span class=\"c1\">#TEST_CASE inserir</span>\n<span class=\"nv\">$addPacs</span><span class=\"w\"> </span>fred-fratura<span class=\"w\"> </span>alvis-avc<span class=\"w\"> </span>goku-hemorragia<span class=\"w\"> </span>silva-sinusite\n<span class=\"nv\">$addMeds</span><span class=\"w\"> </span>bisturi-cirurgia<span class=\"w\"> </span>snif-alergologia<span class=\"w\"> </span>facada-cirurgia\n<span class=\"nv\">$show</span>\nPac:<span class=\"w\"> </span>alvis:avc<span class=\"w\">        </span>Meds:<span class=\"w\"> </span><span class=\"o\">[]</span>\nPac:<span class=\"w\"> </span>fred:fratura<span class=\"w\">     </span>Meds:<span class=\"w\"> </span><span class=\"o\">[]</span>\nPac:<span class=\"w\"> </span>goku:hemorragia<span class=\"w\">  </span>Meds:<span class=\"w\"> </span><span class=\"o\">[]</span>\nPac:<span class=\"w\"> </span>silva:sinusite<span class=\"w\">   </span>Meds:<span class=\"w\"> </span><span class=\"o\">[]</span>\nMed:<span class=\"w\"> </span>bisturi:cirurgia<span class=\"w\"> </span>Pacs:<span class=\"w\"> </span><span class=\"o\">[]</span>\nMed:<span class=\"w\"> </span>facada:cirurgia<span class=\"w\">  </span>Pacs:<span class=\"w\"> </span><span class=\"o\">[]</span>\nMed:<span class=\"w\"> </span>snif:alergologia<span class=\"w\"> </span>Pacs:<span class=\"w\"> </span><span class=\"o\">[]</span>\n\n\n<span class=\"c1\">#TEST_CASE vincular</span>\n<span class=\"c1\"># tie _med _pac _pac ...</span>\n<span class=\"nv\">$tie</span><span class=\"w\"> </span>bisturi<span class=\"w\"> </span>fred<span class=\"w\"> </span>alvis<span class=\"w\"> </span>goku\n<span class=\"nv\">$tie</span><span class=\"w\"> </span>snif<span class=\"w\"> </span>silva<span class=\"w\"> </span>alvis\n<span class=\"nv\">$tie</span><span class=\"w\"> </span>facada<span class=\"w\"> </span>goku\nfail:<span class=\"w\"> </span>ja<span class=\"w\"> </span>existe<span class=\"w\"> </span>outro<span class=\"w\"> </span>medico<span class=\"w\"> </span>da<span class=\"w\"> </span>especialidade<span class=\"w\"> </span>cirurgia\n<span class=\"nv\">$show</span>\nPac:<span class=\"w\"> </span>alvis:avc<span class=\"w\">        </span>Meds:<span class=\"w\"> </span><span class=\"o\">[</span>bisturi,<span class=\"w\"> </span>snif<span class=\"o\">]</span>\nPac:<span class=\"w\"> </span>fred:fratura<span class=\"w\">     </span>Meds:<span class=\"w\"> </span><span class=\"o\">[</span>bisturi<span class=\"o\">]</span>\nPac:<span class=\"w\"> </span>goku:hemorragia<span class=\"w\">  </span>Meds:<span class=\"w\"> </span><span class=\"o\">[</span>bisturi<span class=\"o\">]</span>\nPac:<span class=\"w\"> </span>silva:sinusite<span class=\"w\">   </span>Meds:<span class=\"w\"> </span><span class=\"o\">[</span>snif<span class=\"o\">]</span>\nMed:<span class=\"w\"> </span>bisturi:cirurgia<span class=\"w\"> </span>Pacs:<span class=\"w\"> </span><span class=\"o\">[</span>alvis,<span class=\"w\"> </span>fred,<span class=\"w\"> </span>goku<span class=\"o\">]</span>\nMed:<span class=\"w\"> </span>facada:cirurgia<span class=\"w\">  </span>Pacs:<span class=\"w\"> </span><span class=\"o\">[]</span>\nMed:<span class=\"w\"> </span>snif:alergologia<span class=\"w\"> </span>Pacs:<span class=\"w\"> </span><span class=\"o\">[</span>alvis,<span class=\"w\"> </span>silva<span class=\"o\">]</span>\n\n<span class=\"c1\">#TEST_CASE mensagens</span>\n<span class=\"nv\">$msg</span><span class=\"w\"> </span>alvis<span class=\"w\"> </span>bisturi<span class=\"w\"> </span>posso<span class=\"w\"> </span>tomar<span class=\"w\"> </span>homeprazol?\n<span class=\"nv\">$msg</span><span class=\"w\"> </span>goku<span class=\"w\"> </span>bisturi<span class=\"w\"> </span>coceira<span class=\"w\"> </span>no<span class=\"w\"> </span>reto<span class=\"w\"> </span>eh<span class=\"w\"> </span>normal?\n<span class=\"nv\">$inbox</span><span class=\"w\"> </span>bisturi\n<span class=\"o\">[</span>alvis:posso<span class=\"w\"> </span>tomar<span class=\"w\"> </span>homeprazol?<span class=\"o\">]</span>\n<span class=\"o\">[</span>goku:coceira<span class=\"w\"> </span>no<span class=\"w\"> </span>reto<span class=\"w\"> </span>eh<span class=\"w\"> </span>normal?<span class=\"o\">]</span>\n<span class=\"nv\">$msg</span><span class=\"w\"> </span>bisturi<span class=\"w\"> </span>alvis<span class=\"w\"> </span>chupe<span class=\"w\"> </span>limao<span class=\"w\"> </span>que<span class=\"w\"> </span>passa\n<span class=\"nv\">$msg</span><span class=\"w\"> </span>bisturi<span class=\"w\"> </span>goku<span class=\"w\"> </span>venha<span class=\"w\"> </span>na<span class=\"w\"> </span>minha<span class=\"w\"> </span>sala<span class=\"w\"> </span>pra<span class=\"w\"> </span>eu<span class=\"w\"> </span>olhar\n<span class=\"nv\">$inbox</span><span class=\"w\"> </span>goku\n<span class=\"o\">[</span>bisturi:venha<span class=\"w\"> </span>na<span class=\"w\"> </span>minha<span class=\"w\"> </span>sala<span class=\"w\"> </span>pra<span class=\"w\"> </span>eu<span class=\"w\"> </span>olhar<span class=\"o\">]</span>\n<span class=\"nv\">$msg</span><span class=\"w\"> </span>goku<span class=\"w\"> </span>facada\nfail:goku<span class=\"w\"> </span>nao<span class=\"w\"> </span>conhece<span class=\"w\"> </span>facada\n<span class=\"nv\">$inbox</span><span class=\"w\"> </span>machado\nfail:<span class=\"w\"> </span>usuario<span class=\"w\"> </span>nao<span class=\"w\"> </span>existe\n<span class=\"nv\">$end</span>\n</code></pre></div>\n<hr />\n<h2>Diagrama de Classes</h2>\n<p><img alt=\"diagrama\" src=\"https://raw.githubusercontent.com/qxcodepoo/arcade/master/base/comunicador/diagrama.png\" /></p>\n<hr />\n<h2>Esqueleto</h2>\n<!--FILTER Solver.java java-->\n<div class=\"language-java highlight\"><pre><span></span><code><span class=\"kd\">class</span> <span class=\"nc\">HospitalException</span><span class=\"w\"> </span><span class=\"kd\">extends</span><span class=\"w\"> </span><span class=\"n\">RuntimeException</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"nf\">HospitalException</span><span class=\"p\">(</span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"n\">message</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"kd\">super</span><span class=\"p\">(</span><span class=\"n\">message</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"p\">}</span>\n<span class=\"kd\">class</span> <span class=\"nc\">Message</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"kd\">private</span><span class=\"w\"> </span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"n\">sender</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"kd\">private</span><span class=\"w\"> </span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"n\">text</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"nf\">Message</span><span class=\"p\">(</span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"n\">sender</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"n\">text</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"na\">sender</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sender</span><span class=\"p\">;</span>\n<span class=\"w\">        </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"na\">text</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">text</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"nf\">toString</span><span class=\"p\">();</span>\n<span class=\"w\">        </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"n\">sender</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"s\">&quot;:&quot;</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">text</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"p\">}</span>\n<span class=\"kd\">interface</span> <span class=\"nc\">ICommunicator</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"nf\">getId</span><span class=\"p\">();</span>\n<span class=\"w\">    </span><span class=\"c1\">//return received messages and clear inbox</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"n\">Collection</span><span class=\"o\">&lt;</span><span class=\"n\">Message</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"nf\">getInbox</span><span class=\"p\">();</span>\n<span class=\"w\">    </span><span class=\"c1\">//recover receiver ICommunicator object using getReceiver</span>\n<span class=\"w\">    </span><span class=\"c1\">//creates de Message object using getId() and string message</span>\n<span class=\"w\">    </span><span class=\"c1\">//and put message in the receiver inbox</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"kt\">void</span><span class=\"w\"> </span><span class=\"nf\">deliverMessage</span><span class=\"p\">(</span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"n\">receiver</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"n\">message</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"c1\">//store message in inbox</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"kt\">void</span><span class=\"w\"> </span><span class=\"nf\">storeMessage</span><span class=\"p\">(</span><span class=\"n\">Message</span><span class=\"w\"> </span><span class=\"n\">msg</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"c1\">//recover receiver using unique id</span>\n<span class=\"w\">    </span><span class=\"c1\">//this method will be implemented in Pacient and Medic classes</span>\n<span class=\"w\">    </span><span class=\"c1\">//If the object could not be found, throw an exception.</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"n\">ICommunicator</span><span class=\"w\"> </span><span class=\"nf\">getReceiver</span><span class=\"p\">(</span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"n\">id</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"kd\">throws</span><span class=\"w\"> </span><span class=\"n\">HospitalException</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n<span class=\"kd\">abstract</span><span class=\"w\"> </span><span class=\"kd\">class</span> <span class=\"nc\">Communicator</span><span class=\"w\"> </span><span class=\"kd\">implements</span><span class=\"w\"> </span><span class=\"n\">ICommunicator</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"kd\">private</span><span class=\"w\"> </span><span class=\"n\">List</span><span class=\"o\">&lt;</span><span class=\"n\">Message</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"n\">inbox</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"nf\">Communicator</span><span class=\"p\">();</span>\n<span class=\"w\">        </span><span class=\"n\">inbox</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">ArrayList</span><span class=\"o\">&lt;&gt;</span><span class=\"p\">();</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"n\">Collection</span><span class=\"o\">&lt;</span><span class=\"n\">Message</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"nf\">getInbox</span><span class=\"p\">();</span>\n<span class=\"w\">        </span><span class=\"n\">List</span><span class=\"o\">&lt;</span><span class=\"n\">Message</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"n\">output</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">ArrayList</span><span class=\"o\">&lt;</span><span class=\"n\">Message</span><span class=\"o\">&gt;</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"na\">inbox</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"na\">inbox</span><span class=\"p\">.</span><span class=\"na\">clear</span><span class=\"p\">();</span>\n<span class=\"w\">        </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"n\">output</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"kt\">void</span><span class=\"w\"> </span><span class=\"nf\">storeMessage</span><span class=\"p\">(</span><span class=\"n\">Message</span><span class=\"w\"> </span><span class=\"n\">msg</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"na\">inbox</span><span class=\"p\">.</span><span class=\"na\">add</span><span class=\"p\">(</span><span class=\"n\">msg</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"kt\">void</span><span class=\"w\"> </span><span class=\"nf\">deliverMessage</span><span class=\"p\">(</span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"n\">receiver</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"n\">msg</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"na\">getReceiver</span><span class=\"p\">(</span><span class=\"n\">receiver</span><span class=\"p\">).</span><span class=\"na\">storeMessage</span><span class=\"p\">(</span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">Message</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"na\">getId</span><span class=\"p\">(),</span><span class=\"w\"> </span><span class=\"n\">msg</span><span class=\"p\">));</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"p\">}</span>\n<span class=\"kd\">abstract</span><span class=\"w\"> </span><span class=\"kd\">class</span> <span class=\"nc\">IPaciente</span><span class=\"w\"> </span><span class=\"kd\">extends</span><span class=\"w\"> </span><span class=\"n\">Communicator</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"kd\">abstract</span><span class=\"w\"> </span><span class=\"kt\">void</span><span class=\"w\"> </span><span class=\"nf\">addMedico</span><span class=\"p\">(</span><span class=\"n\">IMedico</span><span class=\"w\"> </span><span class=\"n\">medico</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"kd\">abstract</span><span class=\"w\"> </span><span class=\"kt\">void</span><span class=\"w\"> </span><span class=\"nf\">removerMedico</span><span class=\"p\">(</span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"n\">idMedico</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"kd\">abstract</span><span class=\"w\"> </span><span class=\"n\">Collection</span><span class=\"o\">&lt;</span><span class=\"n\">IMedico</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"nf\">getMedicos</span><span class=\"p\">();</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"kd\">abstract</span><span class=\"w\"> </span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"nf\">getDiagnostico</span><span class=\"p\">();</span>\n<span class=\"p\">}</span>\n<span class=\"kd\">abstract</span><span class=\"w\"> </span><span class=\"kd\">class</span> <span class=\"nc\">IMedico</span><span class=\"w\"> </span><span class=\"kd\">extends</span><span class=\"w\"> </span><span class=\"n\">Communicator</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"kd\">abstract</span><span class=\"w\"> </span><span class=\"kt\">void</span><span class=\"w\"> </span><span class=\"nf\">addPaciente</span><span class=\"p\">(</span><span class=\"n\">IPaciente</span><span class=\"w\"> </span><span class=\"n\">paciente</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"kd\">abstract</span><span class=\"w\"> </span><span class=\"kt\">void</span><span class=\"w\"> </span><span class=\"nf\">removerPaciente</span><span class=\"p\">(</span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"n\">idPaciente</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"kd\">abstract</span><span class=\"w\"> </span><span class=\"n\">Collection</span><span class=\"o\">&lt;</span><span class=\"n\">IPaciente</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"nf\">getPacientes</span><span class=\"p\">();</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"kd\">abstract</span><span class=\"w\"> </span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"nf\">getClasse</span><span class=\"p\">();</span>\n<span class=\"p\">}</span>\n<span class=\"kd\">class</span> <span class=\"nc\">Medico</span><span class=\"w\"> </span><span class=\"kd\">extends</span><span class=\"w\"> </span><span class=\"n\">IMedico</span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"n\">sender</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"n\">classe</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"n\">Map</span><span class=\"o\">&lt;</span><span class=\"n\">String</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">IPaciente</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"n\">pacientes</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">TreeMap</span><span class=\"o\">&lt;&gt;</span><span class=\"p\">();</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"nf\">Medico</span><span class=\"p\">(</span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"n\">sender</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"n\">classe</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"na\">sender</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sender</span><span class=\"p\">;</span>\n<span class=\"w\">        </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"na\">classe</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">classe</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"nf\">getId</span><span class=\"p\">();</span>\n<span class=\"w\">        </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"n\">sender</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"kt\">void</span><span class=\"w\"> </span><span class=\"nf\">addPaciente</span><span class=\"p\">(</span><span class=\"n\">IPaciente</span><span class=\"w\"> </span><span class=\"n\">paciente</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"n\">IPaciente</span><span class=\"w\"> </span><span class=\"n\">mpaciente</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">pacientes</span><span class=\"p\">.</span><span class=\"na\">get</span><span class=\"p\">(</span><span class=\"n\">paciente</span><span class=\"p\">.</span><span class=\"na\">getId</span><span class=\"p\">());</span>\n<span class=\"w\">        </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">mpaciente</span><span class=\"w\"> </span><span class=\"o\">!=</span><span class=\"w\"> </span><span class=\"kc\">null</span><span class=\"p\">)</span>\n<span class=\"w\">            </span><span class=\"k\">return</span><span class=\"p\">;</span>\n<span class=\"w\">        </span><span class=\"n\">pacientes</span><span class=\"p\">.</span><span class=\"na\">put</span><span class=\"p\">(</span><span class=\"n\">paciente</span><span class=\"p\">.</span><span class=\"na\">getId</span><span class=\"p\">(),</span><span class=\"w\"> </span><span class=\"n\">paciente</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"n\">paciente</span><span class=\"p\">.</span><span class=\"na\">addMedico</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"kt\">void</span><span class=\"w\"> </span><span class=\"nf\">removerPaciente</span><span class=\"p\">(</span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"n\">idPaciente</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"n\">IPaciente</span><span class=\"w\"> </span><span class=\"n\">mpaciente</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">pacientes</span><span class=\"p\">.</span><span class=\"na\">get</span><span class=\"p\">(</span><span class=\"n\">idPaciente</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">mpaciente</span><span class=\"w\"> </span><span class=\"o\">==</span><span class=\"w\"> </span><span class=\"kc\">null</span><span class=\"p\">)</span>\n<span class=\"w\">            </span><span class=\"k\">return</span><span class=\"p\">;</span>\n<span class=\"w\">        </span><span class=\"n\">pacientes</span><span class=\"p\">.</span><span class=\"na\">remove</span><span class=\"p\">(</span><span class=\"n\">idPaciente</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"n\">mpaciente</span><span class=\"p\">.</span><span class=\"na\">removerMedico</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"na\">sender</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"n\">Collection</span><span class=\"o\">&lt;</span><span class=\"n\">IPaciente</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"nf\">getPacientes</span><span class=\"p\">();</span>\n<span class=\"w\">        </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"n\">pacientes</span><span class=\"p\">.</span><span class=\"na\">values</span><span class=\"p\">();</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"nf\">getClasse</span><span class=\"p\">();</span>\n<span class=\"w\">        </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"na\">classe</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"nf\">toString</span><span class=\"p\">();</span>\n<span class=\"w\">        </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"s\">&quot;Med: &quot;</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">String</span><span class=\"p\">.</span><span class=\"na\">format</span><span class=\"p\">(</span><span class=\"s\">&quot;%-16.16s&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">getId</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"s\">&quot;:&quot;</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">getClasse</span><span class=\"p\">())</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"s\">&quot; Pacs: [&quot;</span>\n<span class=\"w\">                </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">pacientes</span><span class=\"p\">.</span><span class=\"na\">keySet</span><span class=\"p\">().</span><span class=\"na\">stream</span><span class=\"p\">().</span><span class=\"na\">collect</span><span class=\"p\">(</span><span class=\"n\">Collectors</span><span class=\"p\">.</span><span class=\"na\">joining</span><span class=\"p\">(</span><span class=\"s\">&quot;, &quot;</span><span class=\"p\">))</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"s\">&quot;]\\n&quot;</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"nd\">@Override</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"n\">ICommunicator</span><span class=\"w\"> </span><span class=\"nf\">getReceiver</span><span class=\"p\">(</span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"n\">id</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"n\">ICommunicator</span><span class=\"w\"> </span><span class=\"n\">com</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">pacientes</span><span class=\"p\">.</span><span class=\"na\">get</span><span class=\"p\">(</span><span class=\"n\">id</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"k\">if</span><span class=\"p\">(</span><span class=\"n\">com</span><span class=\"w\"> </span><span class=\"o\">!=</span><span class=\"w\"> </span><span class=\"kc\">null</span><span class=\"p\">)</span>\n<span class=\"w\">            </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"n\">com</span><span class=\"p\">;</span>\n<span class=\"w\">        </span><span class=\"k\">throw</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">HospitalException</span><span class=\"p\">(</span><span class=\"s\">&quot;fail:&quot;</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">getId</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"s\">&quot; nao conhece &quot;</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">id</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"p\">}</span>\n<span class=\"kd\">class</span> <span class=\"nc\">Paciente</span><span class=\"w\"> </span><span class=\"kd\">extends</span><span class=\"w\"> </span><span class=\"n\">IPaciente</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"kd\">protected</span><span class=\"w\"> </span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"n\">sender</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"kd\">protected</span><span class=\"w\"> </span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"n\">diagnostico</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"kd\">protected</span><span class=\"w\"> </span><span class=\"n\">TreeMap</span><span class=\"o\">&lt;</span><span class=\"n\">String</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">IMedico</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"n\">medicos</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">TreeMap</span><span class=\"o\">&lt;&gt;</span><span class=\"p\">();</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"nf\">Paciente</span><span class=\"p\">(</span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"n\">sender</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"n\">diagnostico</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"na\">sender</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">sender</span><span class=\"p\">;</span>\n<span class=\"w\">        </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"na\">diagnostico</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">diagnostico</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"nf\">getId</span><span class=\"p\">();</span>\n<span class=\"w\">        </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"n\">sender</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"kt\">void</span><span class=\"w\"> </span><span class=\"nf\">addMedico</span><span class=\"p\">(</span><span class=\"n\">IMedico</span><span class=\"w\"> </span><span class=\"n\">medico</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"n\">IMedico</span><span class=\"w\"> </span><span class=\"n\">pmedico</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">medicos</span><span class=\"p\">.</span><span class=\"na\">get</span><span class=\"p\">(</span><span class=\"n\">medico</span><span class=\"p\">.</span><span class=\"na\">getId</span><span class=\"p\">());</span>\n<span class=\"w\">        </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">pmedico</span><span class=\"w\"> </span><span class=\"o\">!=</span><span class=\"w\"> </span><span class=\"kc\">null</span><span class=\"p\">)</span>\n<span class=\"w\">            </span><span class=\"k\">return</span><span class=\"p\">;</span>\n<span class=\"w\">        </span><span class=\"n\">medicos</span><span class=\"p\">.</span><span class=\"na\">put</span><span class=\"p\">(</span><span class=\"n\">medico</span><span class=\"p\">.</span><span class=\"na\">getId</span><span class=\"p\">(),</span><span class=\"w\"> </span><span class=\"n\">medico</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"n\">medico</span><span class=\"p\">.</span><span class=\"na\">addPaciente</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"kt\">void</span><span class=\"w\"> </span><span class=\"nf\">removerMedico</span><span class=\"p\">(</span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"n\">idMedico</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"n\">IMedico</span><span class=\"w\"> </span><span class=\"n\">pmedico</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">medicos</span><span class=\"p\">.</span><span class=\"na\">get</span><span class=\"p\">(</span><span class=\"n\">idMedico</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">pmedico</span><span class=\"w\"> </span><span class=\"o\">==</span><span class=\"w\"> </span><span class=\"kc\">null</span><span class=\"p\">)</span>\n<span class=\"w\">            </span><span class=\"k\">return</span><span class=\"p\">;</span>\n<span class=\"w\">        </span><span class=\"n\">medicos</span><span class=\"p\">.</span><span class=\"na\">remove</span><span class=\"p\">(</span><span class=\"n\">idMedico</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"n\">pmedico</span><span class=\"p\">.</span><span class=\"na\">removerPaciente</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"na\">sender</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"n\">Collection</span><span class=\"o\">&lt;</span><span class=\"n\">IMedico</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"nf\">getMedicos</span><span class=\"p\">();</span>\n<span class=\"w\">        </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"n\">medicos</span><span class=\"p\">.</span><span class=\"na\">values</span><span class=\"p\">();</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"nf\">getDiagnostico</span><span class=\"p\">();</span>\n<span class=\"w\">        </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"n\">diagnostico</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"nf\">toString</span><span class=\"p\">();</span>\n<span class=\"w\">        </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"s\">&quot;Pac: &quot;</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">String</span><span class=\"p\">.</span><span class=\"na\">format</span><span class=\"p\">(</span><span class=\"s\">&quot;%-16.16s&quot;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">getId</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"s\">&quot;:&quot;</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">getDiagnostico</span><span class=\"p\">())</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"s\">&quot; Meds: [&quot;</span>\n<span class=\"w\">                </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"na\">medicos</span><span class=\"p\">.</span><span class=\"na\">keySet</span><span class=\"p\">().</span><span class=\"na\">stream</span><span class=\"p\">().</span><span class=\"na\">collect</span><span class=\"p\">(</span><span class=\"n\">Collectors</span><span class=\"p\">.</span><span class=\"na\">joining</span><span class=\"p\">(</span><span class=\"s\">&quot;, &quot;</span><span class=\"p\">))</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"s\">&quot;]\\n&quot;</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"nd\">@Override</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"n\">ICommunicator</span><span class=\"w\"> </span><span class=\"nf\">getReceiver</span><span class=\"p\">(</span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"n\">id</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"n\">ICommunicator</span><span class=\"w\"> </span><span class=\"n\">com</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">medicos</span><span class=\"p\">.</span><span class=\"na\">get</span><span class=\"p\">(</span><span class=\"n\">id</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"k\">if</span><span class=\"p\">(</span><span class=\"n\">com</span><span class=\"w\"> </span><span class=\"o\">!=</span><span class=\"w\"> </span><span class=\"kc\">null</span><span class=\"p\">)</span>\n<span class=\"w\">            </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"n\">com</span><span class=\"p\">;</span>\n<span class=\"w\">        </span><span class=\"k\">throw</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">HospitalException</span><span class=\"p\">(</span><span class=\"s\">&quot;fail:&quot;</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">getId</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"s\">&quot; nao conhece &quot;</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">id</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"p\">}</span>\n<span class=\"kd\">class</span> <span class=\"nc\">Hospital</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"kd\">private</span><span class=\"w\"> </span><span class=\"n\">TreeMap</span><span class=\"o\">&lt;</span><span class=\"n\">String</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">IPaciente</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"n\">pacientes</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">TreeMap</span><span class=\"o\">&lt;&gt;</span><span class=\"p\">();</span>\n<span class=\"w\">    </span><span class=\"kd\">private</span><span class=\"w\"> </span><span class=\"n\">TreeMap</span><span class=\"o\">&lt;</span><span class=\"n\">String</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">IMedico</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"n\">medicos</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">TreeMap</span><span class=\"o\">&lt;&gt;</span><span class=\"p\">();</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"nf\">Hospital</span><span class=\"p\">();</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"kt\">void</span><span class=\"w\"> </span><span class=\"nf\">removerPaciente</span><span class=\"p\">(</span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"n\">sender</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"n\">IPaciente</span><span class=\"w\"> </span><span class=\"n\">paciente</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">pacientes</span><span class=\"p\">.</span><span class=\"na\">get</span><span class=\"p\">(</span><span class=\"n\">sender</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">paciente</span><span class=\"w\"> </span><span class=\"o\">==</span><span class=\"w\"> </span><span class=\"kc\">null</span><span class=\"p\">)</span>\n<span class=\"w\">            </span><span class=\"k\">return</span><span class=\"p\">;</span>\n<span class=\"w\">        </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">IMedico</span><span class=\"w\"> </span><span class=\"n\">medico</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">paciente</span><span class=\"p\">.</span><span class=\"na\">getMedicos</span><span class=\"p\">())</span>\n<span class=\"w\">            </span><span class=\"n\">medico</span><span class=\"p\">.</span><span class=\"na\">removerPaciente</span><span class=\"p\">(</span><span class=\"n\">sender</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"n\">pacientes</span><span class=\"p\">.</span><span class=\"na\">remove</span><span class=\"p\">(</span><span class=\"n\">sender</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"kt\">void</span><span class=\"w\"> </span><span class=\"nf\">removerMedico</span><span class=\"p\">(</span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"n\">sender</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"n\">IMedico</span><span class=\"w\"> </span><span class=\"n\">medico</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">medicos</span><span class=\"p\">.</span><span class=\"na\">get</span><span class=\"p\">(</span><span class=\"n\">sender</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">medico</span><span class=\"w\"> </span><span class=\"o\">==</span><span class=\"w\"> </span><span class=\"kc\">null</span><span class=\"p\">)</span>\n<span class=\"w\">            </span><span class=\"k\">return</span><span class=\"p\">;</span>\n<span class=\"w\">        </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">IPaciente</span><span class=\"w\"> </span><span class=\"n\">paciente</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">medico</span><span class=\"p\">.</span><span class=\"na\">getPacientes</span><span class=\"p\">())</span>\n<span class=\"w\">            </span><span class=\"n\">paciente</span><span class=\"p\">.</span><span class=\"na\">removerMedico</span><span class=\"p\">(</span><span class=\"n\">sender</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"n\">medicos</span><span class=\"p\">.</span><span class=\"na\">remove</span><span class=\"p\">(</span><span class=\"n\">sender</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"kt\">void</span><span class=\"w\"> </span><span class=\"nf\">addPaciente</span><span class=\"p\">(</span><span class=\"n\">IPaciente</span><span class=\"w\"> </span><span class=\"n\">paciente</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"n\">pacientes</span><span class=\"p\">.</span><span class=\"na\">put</span><span class=\"p\">(</span><span class=\"n\">paciente</span><span class=\"p\">.</span><span class=\"na\">getId</span><span class=\"p\">(),</span><span class=\"w\"> </span><span class=\"n\">paciente</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"kt\">void</span><span class=\"w\"> </span><span class=\"nf\">addMedico</span><span class=\"p\">(</span><span class=\"n\">IMedico</span><span class=\"w\"> </span><span class=\"n\">medico</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"n\">medicos</span><span class=\"p\">.</span><span class=\"na\">put</span><span class=\"p\">(</span><span class=\"n\">medico</span><span class=\"p\">.</span><span class=\"na\">getId</span><span class=\"p\">(),</span><span class=\"w\"> </span><span class=\"n\">medico</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"kt\">void</span><span class=\"w\"> </span><span class=\"nf\">vincular</span><span class=\"p\">(</span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"n\">nomeMedico</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"n\">nomePaciente</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"n\">IMedico</span><span class=\"w\"> </span><span class=\"n\">medico</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">medicos</span><span class=\"p\">.</span><span class=\"na\">get</span><span class=\"p\">(</span><span class=\"n\">nomeMedico</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"n\">IPaciente</span><span class=\"w\"> </span><span class=\"n\">paciente</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">pacientes</span><span class=\"p\">.</span><span class=\"na\">get</span><span class=\"p\">(</span><span class=\"n\">nomePaciente</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">medico</span><span class=\"w\"> </span><span class=\"o\">==</span><span class=\"w\"> </span><span class=\"kc\">null</span><span class=\"p\">)</span>\n<span class=\"w\">            </span><span class=\"k\">return</span><span class=\"p\">;</span>\n<span class=\"w\">        </span><span class=\"k\">if</span><span class=\"p\">(</span><span class=\"n\">paciente</span><span class=\"p\">.</span><span class=\"na\">getMedicos</span><span class=\"p\">().</span><span class=\"na\">stream</span><span class=\"p\">().</span><span class=\"na\">filter</span><span class=\"p\">(</span><span class=\"n\">med</span><span class=\"w\"> </span><span class=\"o\">-&gt;</span><span class=\"w\"> </span><span class=\"n\">med</span><span class=\"p\">.</span><span class=\"na\">getClasse</span><span class=\"p\">().</span><span class=\"na\">equals</span><span class=\"p\">(</span><span class=\"n\">medico</span><span class=\"p\">.</span><span class=\"na\">getClasse</span><span class=\"p\">())).</span><span class=\"na\">findFirst</span><span class=\"p\">().</span><span class=\"na\">orElse</span><span class=\"p\">(</span><span class=\"kc\">null</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"o\">!=</span><span class=\"w\"> </span><span class=\"kc\">null</span><span class=\"p\">);</span>\n<span class=\"w\">            </span><span class=\"n\">System</span><span class=\"p\">.</span><span class=\"na\">out</span><span class=\"p\">.</span><span class=\"na\">println</span><span class=\"p\">(</span><span class=\"s\">&quot;fail: ja existe outro medico da especialidade cirurgia&quot;</span><span class=\"p\">);</span>\n<span class=\"w\">            </span><span class=\"k\">return</span><span class=\"p\">;</span>\n<span class=\"w\">        </span><span class=\"p\">}</span>\n<span class=\"w\">        </span><span class=\"n\">medico</span><span class=\"p\">.</span><span class=\"na\">addPaciente</span><span class=\"p\">(</span><span class=\"n\">paciente</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"c1\">//search for a pacient or medic with this id or throw an exception</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"n\">ICommunicator</span><span class=\"w\"> </span><span class=\"nf\">getCommunicator</span><span class=\"p\">(</span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"n\">id</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"n\">ICommunicator</span><span class=\"w\"> </span><span class=\"n\">com</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">pacientes</span><span class=\"p\">.</span><span class=\"na\">get</span><span class=\"p\">(</span><span class=\"n\">id</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"k\">if</span><span class=\"p\">(</span><span class=\"n\">com</span><span class=\"w\"> </span><span class=\"o\">!=</span><span class=\"w\"> </span><span class=\"kc\">null</span><span class=\"p\">)</span>\n<span class=\"w\">            </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"n\">com</span><span class=\"p\">;</span>\n<span class=\"w\">        </span><span class=\"n\">com</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">medicos</span><span class=\"p\">.</span><span class=\"na\">get</span><span class=\"p\">(</span><span class=\"n\">id</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"k\">if</span><span class=\"p\">(</span><span class=\"n\">com</span><span class=\"w\"> </span><span class=\"o\">!=</span><span class=\"w\"> </span><span class=\"kc\">null</span><span class=\"p\">)</span>\n<span class=\"w\">            </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"n\">com</span><span class=\"p\">;</span>\n<span class=\"w\">        </span><span class=\"k\">throw</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">HospitalException</span><span class=\"p\">(</span><span class=\"s\">&quot;fail: usuario nao existe&quot;</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"nf\">showAll</span><span class=\"p\">();</span>\n<span class=\"w\">        </span><span class=\"n\">StringBuilder</span><span class=\"w\"> </span><span class=\"n\">lista</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">StringBuilder</span><span class=\"p\">();</span>\n<span class=\"w\">        </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">IPaciente</span><span class=\"w\"> </span><span class=\"n\">paciente</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">pacientes</span><span class=\"p\">.</span><span class=\"na\">values</span><span class=\"p\">())</span>\n<span class=\"w\">            </span><span class=\"n\">lista</span><span class=\"p\">.</span><span class=\"na\">append</span><span class=\"p\">(</span><span class=\"n\">paciente</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">IMedico</span><span class=\"w\"> </span><span class=\"n\">medico</span><span class=\"w\"> </span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"n\">medicos</span><span class=\"p\">.</span><span class=\"na\">values</span><span class=\"p\">())</span>\n<span class=\"w\">            </span><span class=\"n\">lista</span><span class=\"p\">.</span><span class=\"na\">append</span><span class=\"p\">(</span><span class=\"n\">medico</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"n\">lista</span><span class=\"p\">.</span><span class=\"na\">toString</span><span class=\"p\">();</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"p\">}</span>\n<span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"kd\">class</span> <span class=\"nc\">Solver</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"kd\">public</span><span class=\"w\"> </span><span class=\"kd\">static</span><span class=\"w\"> </span><span class=\"kt\">void</span><span class=\"w\"> </span><span class=\"nf\">main</span><span class=\"p\">(</span><span class=\"n\">String</span><span class=\"o\">[]</span><span class=\"w\"> </span><span class=\"n\">args</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"n\">Scanner</span><span class=\"w\"> </span><span class=\"n\">scanner</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">Scanner</span><span class=\"p\">(</span><span class=\"n\">System</span><span class=\"p\">.</span><span class=\"na\">in</span><span class=\"p\">);</span>\n<span class=\"w\">        </span><span class=\"n\">Hospital</span><span class=\"w\"> </span><span class=\"n\">hospital</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">Hospital</span><span class=\"p\">();</span>\n<span class=\"w\">        </span><span class=\"k\">while</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"kc\">true</span><span class=\"p\">);</span>\n<span class=\"w\">            </span><span class=\"k\">try</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">                </span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"n\">line</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">scanner</span><span class=\"p\">.</span><span class=\"na\">nextLine</span><span class=\"p\">();</span>\n<span class=\"w\">                </span><span class=\"n\">System</span><span class=\"p\">.</span><span class=\"na\">out</span><span class=\"p\">.</span><span class=\"na\">println</span><span class=\"p\">(</span><span class=\"s\">&quot;$&quot;</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">line</span><span class=\"p\">);</span>\n<span class=\"w\">                </span><span class=\"n\">List</span><span class=\"o\">&lt;</span><span class=\"n\">String</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"n\">ui</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">Arrays</span><span class=\"p\">.</span><span class=\"na\">asList</span><span class=\"p\">(</span><span class=\"n\">line</span><span class=\"p\">.</span><span class=\"na\">split</span><span class=\"p\">(</span><span class=\"s\">&quot; &quot;</span><span class=\"p\">));</span>\n<span class=\"w\">                </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">ui</span><span class=\"p\">.</span><span class=\"na\">get</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">).</span><span class=\"na\">equals</span><span class=\"p\">(</span><span class=\"s\">&quot;end&quot;</span><span class=\"p\">));</span>\n<span class=\"w\">                    </span><span class=\"k\">break</span><span class=\"p\">;</span>\n<span class=\"w\">                </span><span class=\"p\">}</span><span class=\"w\"> </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">ui</span><span class=\"p\">.</span><span class=\"na\">get</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">).</span><span class=\"na\">equals</span><span class=\"p\">(</span><span class=\"s\">&quot;addPacs&quot;</span><span class=\"p\">));</span>\n<span class=\"w\">                    </span><span class=\"n\">ui</span><span class=\"p\">.</span><span class=\"na\">stream</span><span class=\"p\">().</span><span class=\"na\">skip</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">).</span><span class=\"na\">forEach</span><span class=\"p\">(</span><span class=\"n\">tk</span><span class=\"w\"> </span><span class=\"o\">-&gt;</span><span class=\"w\"> </span><span class=\"n\">hospital</span><span class=\"p\">.</span><span class=\"na\">addPaciente</span><span class=\"p\">(</span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">Paciente</span><span class=\"p\">(</span><span class=\"n\">tk</span><span class=\"p\">.</span><span class=\"na\">split</span><span class=\"p\">(</span><span class=\"s\">&quot;-&quot;</span><span class=\"p\">)</span><span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">]</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">tk</span><span class=\"p\">.</span><span class=\"na\">split</span><span class=\"p\">(</span><span class=\"s\">&quot;-&quot;</span><span class=\"p\">)</span><span class=\"o\">[</span><span class=\"mi\">1</span><span class=\"o\">]</span><span class=\"p\">)));</span>\n<span class=\"w\">                </span><span class=\"p\">}</span><span class=\"w\"> </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">ui</span><span class=\"p\">.</span><span class=\"na\">get</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">).</span><span class=\"na\">equals</span><span class=\"p\">(</span><span class=\"s\">&quot;addMeds&quot;</span><span class=\"p\">));</span>\n<span class=\"w\">                    </span><span class=\"n\">ui</span><span class=\"p\">.</span><span class=\"na\">stream</span><span class=\"p\">().</span><span class=\"na\">skip</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">).</span><span class=\"na\">forEach</span><span class=\"p\">(</span><span class=\"n\">tk</span><span class=\"w\"> </span><span class=\"o\">-&gt;</span><span class=\"w\"> </span><span class=\"n\">hospital</span><span class=\"p\">.</span><span class=\"na\">addMedico</span><span class=\"p\">(</span><span class=\"k\">new</span><span class=\"w\"> </span><span class=\"n\">Medico</span><span class=\"p\">(</span><span class=\"n\">tk</span><span class=\"p\">.</span><span class=\"na\">split</span><span class=\"p\">(</span><span class=\"s\">&quot;-&quot;</span><span class=\"p\">)</span><span class=\"o\">[</span><span class=\"mi\">0</span><span class=\"o\">]</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">tk</span><span class=\"p\">.</span><span class=\"na\">split</span><span class=\"p\">(</span><span class=\"s\">&quot;-&quot;</span><span class=\"p\">)</span><span class=\"o\">[</span><span class=\"mi\">1</span><span class=\"o\">]</span><span class=\"p\">)));</span>\n<span class=\"w\">                </span><span class=\"p\">}</span><span class=\"w\"> </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">ui</span><span class=\"p\">.</span><span class=\"na\">get</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">).</span><span class=\"na\">equals</span><span class=\"p\">(</span><span class=\"s\">&quot;show&quot;</span><span class=\"p\">));</span>\n<span class=\"w\">                    </span><span class=\"n\">System</span><span class=\"p\">.</span><span class=\"na\">out</span><span class=\"p\">.</span><span class=\"na\">print</span><span class=\"p\">(</span><span class=\"n\">hospital</span><span class=\"p\">.</span><span class=\"na\">showAll</span><span class=\"p\">());</span>\n<span class=\"w\">                </span><span class=\"p\">}</span><span class=\"w\"> </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">ui</span><span class=\"p\">.</span><span class=\"na\">get</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">).</span><span class=\"na\">equals</span><span class=\"p\">(</span><span class=\"s\">&quot;tie&quot;</span><span class=\"p\">));</span>\n<span class=\"w\">                    </span><span class=\"n\">ui</span><span class=\"p\">.</span><span class=\"na\">stream</span><span class=\"p\">().</span><span class=\"na\">skip</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">).</span><span class=\"na\">forEach</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"w\"> </span><span class=\"o\">-&gt;</span><span class=\"w\"> </span><span class=\"n\">hospital</span><span class=\"p\">.</span><span class=\"na\">vincular</span><span class=\"p\">(</span><span class=\"n\">ui</span><span class=\"p\">.</span><span class=\"na\">get</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">name</span><span class=\"p\">));</span>\n<span class=\"w\">                </span><span class=\"p\">}</span><span class=\"w\"> </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">ui</span><span class=\"p\">.</span><span class=\"na\">get</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">).</span><span class=\"na\">equals</span><span class=\"p\">(</span><span class=\"s\">&quot;msg&quot;</span><span class=\"p\">));</span><span class=\"w\"> </span><span class=\"c1\">//sender receiver msg in many words</span>\n<span class=\"w\">                    </span><span class=\"n\">ICommunicator</span><span class=\"w\"> </span><span class=\"n\">sender</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">hospital</span><span class=\"p\">.</span><span class=\"na\">getCommunicator</span><span class=\"p\">(</span><span class=\"n\">ui</span><span class=\"p\">.</span><span class=\"na\">get</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">));</span>\n<span class=\"w\">                    </span><span class=\"n\">String</span><span class=\"w\"> </span><span class=\"n\">message</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">ui</span><span class=\"p\">.</span><span class=\"na\">stream</span><span class=\"p\">().</span><span class=\"na\">skip</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">).</span><span class=\"na\">collect</span><span class=\"p\">(</span><span class=\"n\">Collectors</span><span class=\"p\">.</span><span class=\"na\">joining</span><span class=\"p\">(</span><span class=\"s\">&quot; &quot;</span><span class=\"p\">));</span>\n<span class=\"w\">                    </span><span class=\"n\">sender</span><span class=\"p\">.</span><span class=\"na\">deliverMessage</span><span class=\"p\">(</span><span class=\"n\">ui</span><span class=\"p\">.</span><span class=\"na\">get</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">message</span><span class=\"p\">);</span>\n<span class=\"w\">                </span><span class=\"p\">}</span><span class=\"w\"> </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">ui</span><span class=\"p\">.</span><span class=\"na\">get</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">).</span><span class=\"na\">equals</span><span class=\"p\">(</span><span class=\"s\">&quot;inbox&quot;</span><span class=\"p\">));</span>\n<span class=\"w\">                    </span><span class=\"n\">System</span><span class=\"p\">.</span><span class=\"na\">out</span><span class=\"p\">.</span><span class=\"na\">println</span><span class=\"p\">(</span><span class=\"n\">hospital</span><span class=\"p\">.</span><span class=\"na\">getCommunicator</span><span class=\"p\">(</span><span class=\"n\">ui</span><span class=\"p\">.</span><span class=\"na\">get</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">)).</span><span class=\"na\">getInbox</span><span class=\"p\">().</span><span class=\"na\">stream</span><span class=\"p\">().</span><span class=\"na\">map</span><span class=\"p\">(</span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"o\">-&gt;</span><span class=\"w\"> </span><span class=\"s\">&quot;[&quot;</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"s\">&quot;]&quot;</span><span class=\"p\">).</span><span class=\"na\">collect</span><span class=\"p\">(</span><span class=\"n\">Collectors</span><span class=\"p\">.</span><span class=\"na\">joining</span><span class=\"p\">(</span><span class=\"s\">&quot;\\n&quot;</span><span class=\"p\">)));</span>\n<span class=\"w\">                </span><span class=\"p\">}</span><span class=\"w\"> </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">                    </span><span class=\"n\">System</span><span class=\"p\">.</span><span class=\"na\">out</span><span class=\"p\">.</span><span class=\"na\">println</span><span class=\"p\">(</span><span class=\"s\">&quot;fail: comando invalido&quot;</span><span class=\"p\">);</span>\n<span class=\"w\">                </span><span class=\"p\">}</span>\n<span class=\"w\">            </span><span class=\"p\">}</span><span class=\"w\"> </span><span class=\"k\">catch</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">HospitalException</span><span class=\"w\"> </span><span class=\"n\">he</span><span class=\"p\">);</span>\n<span class=\"w\">                </span><span class=\"n\">System</span><span class=\"p\">.</span><span class=\"na\">out</span><span class=\"p\">.</span><span class=\"na\">println</span><span class=\"p\">(</span><span class=\"n\">he</span><span class=\"p\">.</span><span class=\"na\">getMessage</span><span class=\"p\">());</span>\n<span class=\"w\">            </span><span class=\"p\">}</span>\n<span class=\"w\">        </span><span class=\"p\">}</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n<!--FILTER_END-->\n</body>\n</html>\n",
    "upload": [
        {
            "name": "vpl_evaluate.cases",
            "contents": ">>>>>>>> INSERT inserir\naddPacs fred-fratura alvis-avc goku-hemorragia silva-sinusite\naddMeds bisturi-cirurgia snif-alergologia facada-cirurgia\nshow\nend\n======== EXPECT\n$addPacs fred-fratura alvis-avc goku-hemorragia silva-sinusite\n$addMeds bisturi-cirurgia snif-alergologia facada-cirurgia\n$show\nPac: alvis:avc        Meds: []\nPac: fred:fratura     Meds: []\nPac: goku:hemorragia  Meds: []\nPac: silva:sinusite   Meds: []\nMed: bisturi:cirurgia Pacs: []\nMed: facada:cirurgia  Pacs: []\nMed: snif:alergologia Pacs: []\n$end\n<<<<<<<< FINISH\n\n\n>>>>>>>> INSERT vincular\naddPacs fred-fratura alvis-avc goku-hemorragia silva-sinusite\naddMeds bisturi-cirurgia snif-alergologia facada-cirurgia\nshow\ntie bisturi fred alvis goku\ntie snif silva alvis\ntie facada goku\nshow\nend\n======== EXPECT\n$addPacs fred-fratura alvis-avc goku-hemorragia silva-sinusite\n$addMeds bisturi-cirurgia snif-alergologia facada-cirurgia\n$show\nPac: alvis:avc        Meds: []\nPac: fred:fratura     Meds: []\nPac: goku:hemorragia  Meds: []\nPac: silva:sinusite   Meds: []\nMed: bisturi:cirurgia Pacs: []\nMed: facada:cirurgia  Pacs: []\nMed: snif:alergologia Pacs: []\n$tie bisturi fred alvis goku\n$tie snif silva alvis\n$tie facada goku\nfail: ja existe outro medico da especialidade cirurgia\n$show\nPac: alvis:avc        Meds: [bisturi, snif]\nPac: fred:fratura     Meds: [bisturi]\nPac: goku:hemorragia  Meds: [bisturi]\nPac: silva:sinusite   Meds: [snif]\nMed: bisturi:cirurgia Pacs: [alvis, fred, goku]\nMed: facada:cirurgia  Pacs: []\nMed: snif:alergologia Pacs: [alvis, silva]\n$end\n<<<<<<<< FINISH\n\n\n>>>>>>>> INSERT mensagens\naddPacs fred-fratura alvis-avc goku-hemorragia silva-sinusite\naddMeds bisturi-cirurgia snif-alergologia facada-cirurgia\nshow\ntie bisturi fred alvis goku\ntie snif silva alvis\ntie facada goku\nshow\nmsg alvis bisturi posso tomar homeprazol?\nmsg goku bisturi coceira no reto eh normal?\ninbox bisturi\nmsg bisturi alvis chupe limao que passa\nmsg bisturi goku venha na minha sala pra eu olhar\ninbox goku\nmsg goku facada\ninbox machado\nend\n======== EXPECT\n$addPacs fred-fratura alvis-avc goku-hemorragia silva-sinusite\n$addMeds bisturi-cirurgia snif-alergologia facada-cirurgia\n$show\nPac: alvis:avc        Meds: []\nPac: fred:fratura     Meds: []\nPac: goku:hemorragia  Meds: []\nPac: silva:sinusite   Meds: []\nMed: bisturi:cirurgia Pacs: []\nMed: facada:cirurgia  Pacs: []\nMed: snif:alergologia Pacs: []\n$tie bisturi fred alvis goku\n$tie snif silva alvis\n$tie facada goku\nfail: ja existe outro medico da especialidade cirurgia\n$show\nPac: alvis:avc        Meds: [bisturi, snif]\nPac: fred:fratura     Meds: [bisturi]\nPac: goku:hemorragia  Meds: [bisturi]\nPac: silva:sinusite   Meds: [snif]\nMed: bisturi:cirurgia Pacs: [alvis, fred, goku]\nMed: facada:cirurgia  Pacs: []\nMed: snif:alergologia Pacs: [alvis, silva]\n$msg alvis bisturi posso tomar homeprazol?\n$msg goku bisturi coceira no reto eh normal?\n$inbox bisturi\n[alvis:posso tomar homeprazol?]\n[goku:coceira no reto eh normal?]\n$msg bisturi alvis chupe limao que passa\n$msg bisturi goku venha na minha sala pra eu olhar\n$inbox goku\n[bisturi:venha na minha sala pra eu olhar]\n$msg goku facada\nfail:goku nao conhece facada\n$inbox machado\nfail: usuario nao existe\n$end\n<<<<<<<< FINISH\n\n\n>>>>>>>> INSERT mensagens !%\naddPacs fred-fratura alvis-avc goku-hemorragia silva-sinusite\naddMeds bisturi-cirurgia snif-alergologia facada-cirurgia\nshow\ntie bisturi fred alvis goku\ntie snif silva alvis\ntie facada goku\nshow\nmsg alvis bisturi posso tomar homeprazol?\nmsg goku bisturi coceira no reto eh normal?\ninbox bisturi\nmsg bisturi alvis chupe limao que passa\ninbox goku\nmsg goku facada\nend\n======== EXPECT\n$addPacs fred-fratura alvis-avc goku-hemorragia silva-sinusite\n$addMeds bisturi-cirurgia snif-alergologia facada-cirurgia\n$show\nPac: alvis:avc        Meds: []\nPac: fred:fratura     Meds: []\nPac: goku:hemorragia  Meds: []\nPac: silva:sinusite   Meds: []\nMed: bisturi:cirurgia Pacs: []\nMed: facada:cirurgia  Pacs: []\nMed: snif:alergologia Pacs: []\n$tie bisturi fred alvis goku\n$tie snif silva alvis\n$tie facada goku\nfail: ja existe outro medico da especialidade cirurgia\n$show\nPac: alvis:avc        Meds: [bisturi, snif]\nPac: fred:fratura     Meds: [bisturi]\nPac: goku:hemorragia  Meds: [bisturi]\nPac: silva:sinusite   Meds: [snif]\nMed: bisturi:cirurgia Pacs: [alvis, fred, goku]\nMed: facada:cirurgia  Pacs: []\nMed: snif:alergologia Pacs: [alvis, silva]\n$msg alvis bisturi posso tomar homeprazol?\n$msg goku bisturi coceira no reto eh normal?\n$inbox bisturi\n[alvis: posso tomar homeprazol?]\n[goku: coceira no reto eh normal?]\n$msg bisturi alvis chupe limao que passa\nmsg bisturi goku venha na minha sala pra eu olhar\n$inbox goku\n[bisturi: venha na minha sala pra eu olhar]\n$msg goku facada\nfail: goku nao conhece facada\n$end\n<<<<<<<< FINISH\n\n",
            "type": "hide"
        }
    ],
    "draft": {}
}
