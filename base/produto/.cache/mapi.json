{
    "title": "@produto: @produto - Padr\u00e3o Composite e Decorator",
    "description": "<!DOCTYPE html>\n<html xmlns=\"http://www.w3.org/1999/xhtml\" lang=\"\" xml:lang=\"\">\n<head>\n  <meta charset=\"utf-8\" />\n  <meta name=\"generator\" content=\"pandoc\" />\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, user-scalable=yes\" />\n  <title>@produto: @produto - Padr\u00e3o Composite e Decorator</title>\n  <style>\n    code{white-space: pre-wrap;}\n    span.smallcaps{font-variant: small-caps;}\n    div.columns{display: flex; gap: min(4vw, 1.5em);}\n    div.column{flex: auto; overflow-x: auto;}\n    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}\n    /* The extra [class] is a hack that increases specificity enough to\n       override a similar rule in reveal.js */\n    ul.task-list[class]{list-style: none;}\n    ul.task-list li input[type=\"checkbox\"] {\n      font-size: inherit;\n      width: 0.8em;\n      margin: 0 0.8em 0.2em -1.6em;\n      vertical-align: middle;\n    }\n    /* CSS for syntax highlighting */\n    pre > code.sourceCode { white-space: pre; position: relative; }\n    pre > code.sourceCode > span { line-height: 1.25; }\n    pre > code.sourceCode > span:empty { height: 1.2em; }\n    .sourceCode { overflow: visible; }\n    code.sourceCode > span { color: inherit; text-decoration: inherit; }\n    div.sourceCode { margin: 1em 0; }\n    pre.sourceCode { margin: 0; }\n    @media screen {\n    div.sourceCode { overflow: auto; }\n    }\n    @media print {\n    pre > code.sourceCode { white-space: pre-wrap; }\n    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }\n    }\n    pre.numberSource code\n      { counter-reset: source-line 0; }\n    pre.numberSource code > span\n      { position: relative; left: -4em; counter-increment: source-line; }\n    pre.numberSource code > span > a:first-child::before\n      { content: counter(source-line);\n        position: relative; left: -1em; text-align: right; vertical-align: baseline;\n        border: none; display: inline-block;\n        -webkit-touch-callout: none; -webkit-user-select: none;\n        -khtml-user-select: none; -moz-user-select: none;\n        -ms-user-select: none; user-select: none;\n        padding: 0 4px; width: 4em;\n        color: #aaaaaa;\n      }\n    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }\n    div.sourceCode\n      {   }\n    @media screen {\n    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }\n    }\n    code span.al { color: #ff0000; font-weight: bold; } /* Alert */\n    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */\n    code span.at { color: #7d9029; } /* Attribute */\n    code span.bn { color: #40a070; } /* BaseN */\n    code span.bu { color: #008000; } /* BuiltIn */\n    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */\n    code span.ch { color: #4070a0; } /* Char */\n    code span.cn { color: #880000; } /* Constant */\n    code span.co { color: #60a0b0; font-style: italic; } /* Comment */\n    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */\n    code span.do { color: #ba2121; font-style: italic; } /* Documentation */\n    code span.dt { color: #902000; } /* DataType */\n    code span.dv { color: #40a070; } /* DecVal */\n    code span.er { color: #ff0000; font-weight: bold; } /* Error */\n    code span.ex { } /* Extension */\n    code span.fl { color: #40a070; } /* Float */\n    code span.fu { color: #06287e; } /* Function */\n    code span.im { color: #008000; font-weight: bold; } /* Import */\n    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */\n    code span.kw { color: #007020; font-weight: bold; } /* Keyword */\n    code span.op { color: #666666; } /* Operator */\n    code span.ot { color: #007020; } /* Other */\n    code span.pp { color: #bc7a00; } /* Preprocessor */\n    code span.sc { color: #4070a0; } /* SpecialChar */\n    code span.ss { color: #bb6688; } /* SpecialString */\n    code span.st { color: #4070a0; } /* String */\n    code span.va { color: #19177c; } /* Variable */\n    code span.vs { color: #4070a0; } /* VerbatimString */\n    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */\n  </style>\n</head>\n<body>\n<h1 id=\"produto---padr\u00e3o-composite-e-decorator\"><span class=\"citation\"\ndata-cites=\"produto\">@produto</span> - Padr\u00e3o Composite e Decorator</h1>\n<p>Padr\u00f5es de projeto s\u00e3o solu\u00e7\u00f5es para problemas comuns que encontramos\nao projetar um sistema. Eles s\u00e3o como receitas de bolo que podemos\naplicar em nossos projetos para resolver problemas recorrentes. Os\npadr\u00f5es de projeto s\u00e3o divididos em tr\u00eas categorias: padr\u00f5es de cria\u00e7\u00e3o,\npadr\u00f5es estruturais e padr\u00f5es comportamentais.</p>\n<p>Vamos trabalhar os conceitos de dois padr\u00f5es de projeto: Composite e\nDecorator.</p>\n<h2 id=\"composite\">Composite</h2>\n<p>O padr\u00e3o Composite \u00e9 um padr\u00e3o estrutural que permite que objetos\nsejam agrupados de forma a trat\u00e1-los como se fossem um \u00fanico objeto. Ele\npermite que clientes tratem objetos individuais e composi\u00e7\u00f5es de objetos\nde maneira uniforme.</p>\n<h2 id=\"decorator\">Decorator</h2>\n<p>O padr\u00e3o Decorator \u00e9 um padr\u00e3o estrutural que permite que\nresponsabilidades sejam adicionadas a um objeto dinamicamente. Ele\npermite que um objeto seja envolvido por outros objetos que adicionam\ncomportamento a ele. \u00c9 frequentemente usado para adicionar\nresponsabilidades a objetos sem que isso cause um efeito colateral para\nos outros objetos.</p>\n<h3 id=\"exemplo\">Exemplo</h3>\n<p>Vamos modelar um sistema de vendas de produtos. O sistema deve\npermitir que sejam cadastrados produtos simples e pacotes. Pacotes s\u00e3o o\nagrupamento de produtos que devem ser vendidos juntos. Produtos simples\ns\u00e3o produtos que n\u00e3o cont\u00eam outros produtos. Pacotes e produtos simples\ndevem ser tratados de forma uniforme. Al\u00e9m disso, deve ser poss\u00edvel\ncriar produtos ou pacotes com desconto, em quaisquer tipo de montagem ou\nconfigura\u00e7\u00e3o.</p>\n<h3 id=\"descri\u00e7\u00e3o\">Descri\u00e7\u00e3o</h3>\n<h4 id=\"interface-iproduct\">Interface IProduct</h4>\n<p>Define os m\u00e9todos que todas as classes de produto devem\nimplementar.</p>\n<ul>\n<li><code>getPrice()</code>: Retorna o pre\u00e7o do produto.</li>\n<li><code>getLabel()</code>: Retorna o r\u00f3tulo do produto.</li>\n</ul>\n<h4 id=\"classe-product\">Classe Product</h4>\n<p>Implementa a interface <code>IProduct</code> e representa um produto\nsimples.</p>\n<ul>\n<li><strong>Atributos:</strong>\n<ul>\n<li><code>name</code>: Nome do produto.</li>\n<li><code>price</code>: Pre\u00e7o do produto.</li>\n</ul></li>\n<li><strong>M\u00e9todos:</strong>\n<ul>\n<li><code>constructor(name: string, price: number)</code>: Inicializa os\natributos <code>name</code> e <code>price</code>.</li>\n<li><code>getPrice()</code>: Retorna o pre\u00e7o do produto.</li>\n<li><code>getLabel()</code>: Retorna o nome do produto.</li>\n</ul></li>\n</ul>\n<h4 id=\"classe-bundle\">Classe Bundle</h4>\n<p>Implementa a interface <code>IProduct</code> e representa um pacote\nde produtos (padr\u00e3o composite).</p>\n<ul>\n<li><strong>Atributos:</strong>\n<ul>\n<li><code>products</code>: Lista de produtos que comp\u00f5em o pacote.</li>\n</ul></li>\n<li><strong>M\u00e9todos:</strong>\n<ul>\n<li><code>constructor(products: IProduct[] = [])</code>: Inicializa a\nlista de produtos.</li>\n<li><code>addProduct(product: IProduct)</code>: Adiciona um produto ao\npacote.</li>\n<li><code>getPrice()</code>: Retorna o pre\u00e7o total do pacote.</li>\n<li><code>getLabel()</code>: Retorna uma string com os nomes dos\nprodutos no pacote. Exemplo: <code>[bermuda, camisa, bone]</code>.</li>\n</ul></li>\n</ul>\n<h4 id=\"classe-discountedproduct\">Classe DiscountedProduct</h4>\n<p>Implementa a interface <code>IProduct</code> e representa um produto\ncom desconto (padr\u00e3o decorator).</p>\n<ul>\n<li><strong>Atributos:</strong>\n<ul>\n<li><code>product</code>: O produto original.</li>\n<li><code>discount</code>: O percentual de desconto.</li>\n</ul></li>\n<li><strong>M\u00e9todos:</strong>\n<ul>\n<li><code>constructor(product: IProduct, discount: number)</code>:\nInicializa os atributos <code>product</code> e\n<code>discount</code>.</li>\n<li><code>getPrice()</code>: Retorna o pre\u00e7o do produto com\ndesconto.</li>\n<li><code>getLabel()</code>: Retorna uma string com o nome do produto e\no desconto aplicado. Exemplo: <code>camisa(10% OFF)</code>.</li>\n</ul></li>\n</ul>\n<h4 id=\"classe-manager\">Classe Manager</h4>\n<p>Serve para gerenciar a cria\u00e7\u00e3o e manipula\u00e7\u00e3o dos produtos.</p>\n<ul>\n<li><strong>Atributos:</strong>\n<ul>\n<li><code>products</code>: Array para armazenar os produtos.</li>\n</ul></li>\n<li><strong>M\u00e9todos:</strong>\n<ul>\n<li><code>constructor()</code>: Inicializa o array\n<code>products</code>.</li>\n<li><code>addProduct(name: string, price: number)</code>: Adiciona um\nnovo produto ao array.</li>\n<li><code>addBundle(indexes: number[])</code>: Cria um novo pacote com\nbase nos \u00edndices fornecidos e adiciona ao array.</li>\n<li><code>addDiscount(index: number, discount: number)</code>: Adiciona\num desconto a um produto existente.</li>\n<li><code>toString()</code>: Retorna uma string com informa\u00e7\u00f5es sobre\ntodos os produtos no array.</li>\n</ul></li>\n</ul>\n<h2 id=\"guide\">Guide</h2>\n<figure>\n<img\nsrc=\"https://raw.githubusercontent.com/qxcodepoo/arcade/master/base/produto/diagrama.png\"\nalt=\"Diagrama de Classes\" />\n<figcaption aria-hidden=\"true\">Diagrama de Classes</figcaption>\n</figure>\n<!-- load diagrama.puml fenced=ts:filter -->\n<div class=\"sourceCode\" id=\"cb1\"><pre class=\"sourceCode ts\"><code class=\"sourceCode typescript\"><span id=\"cb1-1\"><a href=\"#cb1-1\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb1-2\"><a href=\"#cb1-2\" aria-hidden=\"true\" tabindex=\"-1\"></a>@startuml</span>\n<span id=\"cb1-3\"><a href=\"#cb1-3\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb1-4\"><a href=\"#cb1-4\" aria-hidden=\"true\" tabindex=\"-1\"></a>skinparam defaultFontName <span class=\"st\">&quot;Source Code Pro&quot;</span></span>\n<span id=\"cb1-5\"><a href=\"#cb1-5\" aria-hidden=\"true\" tabindex=\"-1\"></a>skinparam dpi <span class=\"dv\">150</span></span>\n<span id=\"cb1-6\"><a href=\"#cb1-6\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb1-7\"><a href=\"#cb1-7\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb1-8\"><a href=\"#cb1-8\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb1-9\"><a href=\"#cb1-9\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"st\">&#39; Interface que define a responsabilidade de um produto</span></span>\n<span id=\"cb1-10\"><a href=\"#cb1-10\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"kw\">interface</span> IProduct {</span>\n<span id=\"cb1-11\"><a href=\"#cb1-11\" aria-hidden=\"true\" tabindex=\"-1\"></a>  <span class=\"op\">+</span> <span class=\"fu\">getPrice</span>()<span class=\"op\">:</span> double</span>\n<span id=\"cb1-12\"><a href=\"#cb1-12\" aria-hidden=\"true\" tabindex=\"-1\"></a>  <span class=\"op\">+</span> <span class=\"fu\">getLabel</span>()<span class=\"op\">:</span> <span class=\"bu\">String</span></span>\n<span id=\"cb1-13\"><a href=\"#cb1-13\" aria-hidden=\"true\" tabindex=\"-1\"></a>}</span>\n<span id=\"cb1-14\"><a href=\"#cb1-14\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb1-15\"><a href=\"#cb1-15\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"st\">&#39; Produto simples</span></span>\n<span id=\"cb1-16\"><a href=\"#cb1-16\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"kw\">class</span> Product {</span>\n<span id=\"cb1-17\"><a href=\"#cb1-17\" aria-hidden=\"true\" tabindex=\"-1\"></a>  <span class=\"op\">-</span> name<span class=\"op\">:</span> <span class=\"bu\">String</span></span>\n<span id=\"cb1-18\"><a href=\"#cb1-18\" aria-hidden=\"true\" tabindex=\"-1\"></a>  <span class=\"op\">-</span> price<span class=\"op\">:</span> double</span>\n<span id=\"cb1-19\"><a href=\"#cb1-19\" aria-hidden=\"true\" tabindex=\"-1\"></a>  <span class=\"op\">+</span> <span class=\"fu\">Product</span>(name<span class=\"op\">:</span> <span class=\"bu\">String</span><span class=\"op\">,</span> price<span class=\"op\">:</span> double)</span>\n<span id=\"cb1-20\"><a href=\"#cb1-20\" aria-hidden=\"true\" tabindex=\"-1\"></a>  <span class=\"op\">+</span> <span class=\"fu\">getPrice</span>()<span class=\"op\">:</span> double</span>\n<span id=\"cb1-21\"><a href=\"#cb1-21\" aria-hidden=\"true\" tabindex=\"-1\"></a>  <span class=\"op\">+</span> <span class=\"fu\">getLabel</span>()<span class=\"op\">:</span> <span class=\"bu\">String</span></span>\n<span id=\"cb1-22\"><a href=\"#cb1-22\" aria-hidden=\"true\" tabindex=\"-1\"></a>}</span>\n<span id=\"cb1-23\"><a href=\"#cb1-23\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb1-24\"><a href=\"#cb1-24\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"st\">&#39; Conjunto de produtos que s\u00e3o vendidos juntos</span></span>\n<span id=\"cb1-25\"><a href=\"#cb1-25\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"kw\">class</span> Bundle {</span>\n<span id=\"cb1-26\"><a href=\"#cb1-26\" aria-hidden=\"true\" tabindex=\"-1\"></a>  <span class=\"op\">-</span> products<span class=\"op\">:</span> List<span class=\"op\">&lt;</span>IProduct<span class=\"op\">&gt;</span></span>\n<span id=\"cb1-27\"><a href=\"#cb1-27\" aria-hidden=\"true\" tabindex=\"-1\"></a>  <span class=\"op\">+</span> <span class=\"fu\">Bundle</span>(products<span class=\"op\">:</span> List<span class=\"op\">&lt;</span>IProduct<span class=\"op\">&gt;</span>)</span>\n<span id=\"cb1-28\"><a href=\"#cb1-28\" aria-hidden=\"true\" tabindex=\"-1\"></a>  <span class=\"op\">+</span> <span class=\"fu\">addProduct</span>(product<span class=\"op\">:</span> IProduct)<span class=\"op\">:</span> <span class=\"dt\">void</span></span>\n<span id=\"cb1-29\"><a href=\"#cb1-29\" aria-hidden=\"true\" tabindex=\"-1\"></a>  </span>\n<span id=\"cb1-30\"><a href=\"#cb1-30\" aria-hidden=\"true\" tabindex=\"-1\"></a>  <span class=\"st\">&#39; A soma dos pre\u00e7os dos produtos individuais</span></span>\n<span id=\"cb1-31\"><a href=\"#cb1-31\" aria-hidden=\"true\" tabindex=\"-1\"></a>  <span class=\"op\">+</span> <span class=\"fu\">getPrice</span>()<span class=\"op\">:</span> double</span>\n<span id=\"cb1-32\"><a href=\"#cb1-32\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb1-33\"><a href=\"#cb1-33\" aria-hidden=\"true\" tabindex=\"-1\"></a>  <span class=\"st\">&#39; A concatena\u00e7\u00e3o dos nomes dos produtos individuais no formato [nome1, nome2, nome3]</span></span>\n<span id=\"cb1-34\"><a href=\"#cb1-34\" aria-hidden=\"true\" tabindex=\"-1\"></a>  <span class=\"op\">+</span> <span class=\"fu\">getLabel</span>()<span class=\"op\">:</span> <span class=\"bu\">String</span></span>\n<span id=\"cb1-35\"><a href=\"#cb1-35\" aria-hidden=\"true\" tabindex=\"-1\"></a>}</span>\n<span id=\"cb1-36\"><a href=\"#cb1-36\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb1-37\"><a href=\"#cb1-37\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"st\">&#39; Produto com desconto</span></span>\n<span id=\"cb1-38\"><a href=\"#cb1-38\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"kw\">class</span> DiscountedProduct {</span>\n<span id=\"cb1-39\"><a href=\"#cb1-39\" aria-hidden=\"true\" tabindex=\"-1\"></a>  <span class=\"op\">-</span> product<span class=\"op\">:</span> IProduct</span>\n<span id=\"cb1-40\"><a href=\"#cb1-40\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb1-41\"><a href=\"#cb1-41\" aria-hidden=\"true\" tabindex=\"-1\"></a>  <span class=\"st\">&#39; Valor de 0 a 100</span></span>\n<span id=\"cb1-42\"><a href=\"#cb1-42\" aria-hidden=\"true\" tabindex=\"-1\"></a>  <span class=\"op\">-</span> discount<span class=\"op\">:</span> double</span>\n<span id=\"cb1-43\"><a href=\"#cb1-43\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb1-44\"><a href=\"#cb1-44\" aria-hidden=\"true\" tabindex=\"-1\"></a>  <span class=\"op\">+</span> <span class=\"fu\">DiscountedProduct</span>(product<span class=\"op\">:</span> IProduct<span class=\"op\">,</span> discount<span class=\"op\">:</span> double)</span>\n<span id=\"cb1-45\"><a href=\"#cb1-45\" aria-hidden=\"true\" tabindex=\"-1\"></a>  </span>\n<span id=\"cb1-46\"><a href=\"#cb1-46\" aria-hidden=\"true\" tabindex=\"-1\"></a>  <span class=\"st\">&#39; O valor do produto original - o desconto</span></span>\n<span id=\"cb1-47\"><a href=\"#cb1-47\" aria-hidden=\"true\" tabindex=\"-1\"></a>  <span class=\"op\">+</span> <span class=\"fu\">getPrice</span>()<span class=\"op\">:</span> double</span>\n<span id=\"cb1-48\"><a href=\"#cb1-48\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb1-49\"><a href=\"#cb1-49\" aria-hidden=\"true\" tabindex=\"-1\"></a>  <span class=\"st\">&#39; O label do produto original com o desconto no formato</span></span>\n<span id=\"cb1-50\"><a href=\"#cb1-50\" aria-hidden=\"true\" tabindex=\"-1\"></a>  <span class=\"st\">&#39; label_original (desconto %OFF)</span></span>\n<span id=\"cb1-51\"><a href=\"#cb1-51\" aria-hidden=\"true\" tabindex=\"-1\"></a>  <span class=\"op\">+</span> <span class=\"fu\">getLabel</span>()<span class=\"op\">:</span> <span class=\"bu\">String</span></span>\n<span id=\"cb1-52\"><a href=\"#cb1-52\" aria-hidden=\"true\" tabindex=\"-1\"></a>}</span>\n<span id=\"cb1-53\"><a href=\"#cb1-53\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb1-54\"><a href=\"#cb1-54\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"st\">&#39; Gerenciador de produtos</span></span>\n<span id=\"cb1-55\"><a href=\"#cb1-55\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"kw\">class</span> ProductManager {</span>\n<span id=\"cb1-56\"><a href=\"#cb1-56\" aria-hidden=\"true\" tabindex=\"-1\"></a>  <span class=\"op\">-</span> products<span class=\"op\">:</span> List<span class=\"op\">&lt;</span>IProduct<span class=\"op\">&gt;</span></span>\n<span id=\"cb1-57\"><a href=\"#cb1-57\" aria-hidden=\"true\" tabindex=\"-1\"></a>  <span class=\"op\">+</span> <span class=\"fu\">ProductManager</span>()</span>\n<span id=\"cb1-58\"><a href=\"#cb1-58\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb1-59\"><a href=\"#cb1-59\" aria-hidden=\"true\" tabindex=\"-1\"></a>  <span class=\"st\">&#39; Adiciona um produto simples</span></span>\n<span id=\"cb1-60\"><a href=\"#cb1-60\" aria-hidden=\"true\" tabindex=\"-1\"></a>  <span class=\"op\">+</span> <span class=\"fu\">addProduct</span>(label<span class=\"op\">:</span> <span class=\"bu\">String</span><span class=\"op\">,</span> price<span class=\"op\">:</span> double)<span class=\"op\">:</span> <span class=\"dt\">void</span></span>\n<span id=\"cb1-61\"><a href=\"#cb1-61\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb1-62\"><a href=\"#cb1-62\" aria-hidden=\"true\" tabindex=\"-1\"></a>  <span class=\"st\">&#39; Cria um pacote a partir de todos os \u00edndices</span></span>\n<span id=\"cb1-63\"><a href=\"#cb1-63\" aria-hidden=\"true\" tabindex=\"-1\"></a>  <span class=\"op\">+</span> <span class=\"fu\">addPackage</span>(indexes<span class=\"op\">:</span> List<span class=\"op\">&lt;</span>int<span class=\"op\">&gt;</span>)<span class=\"op\">:</span> <span class=\"dt\">void</span></span>\n<span id=\"cb1-64\"><a href=\"#cb1-64\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb1-65\"><a href=\"#cb1-65\" aria-hidden=\"true\" tabindex=\"-1\"></a>  <span class=\"st\">&#39; Adiciona um desconto a um produto dado o \u00edndice do produto</span></span>\n<span id=\"cb1-66\"><a href=\"#cb1-66\" aria-hidden=\"true\" tabindex=\"-1\"></a>  <span class=\"op\">+</span> <span class=\"fu\">addDiscount</span>(index<span class=\"op\">:</span> int<span class=\"op\">,</span> discount<span class=\"op\">:</span> double)<span class=\"op\">:</span> <span class=\"dt\">void</span></span>\n<span id=\"cb1-67\"><a href=\"#cb1-67\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb1-68\"><a href=\"#cb1-68\" aria-hidden=\"true\" tabindex=\"-1\"></a>  <span class=\"st\">&#39; Mostra os \u00edndices dos produtos, seus r\u00f3tulos e pre\u00e7os</span></span>\n<span id=\"cb1-69\"><a href=\"#cb1-69\" aria-hidden=\"true\" tabindex=\"-1\"></a>  <span class=\"op\">+</span> <span class=\"fu\">toString</span>()<span class=\"op\">:</span> <span class=\"bu\">String</span></span>\n<span id=\"cb1-70\"><a href=\"#cb1-70\" aria-hidden=\"true\" tabindex=\"-1\"></a>}</span>\n<span id=\"cb1-71\"><a href=\"#cb1-71\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb1-72\"><a href=\"#cb1-72\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb1-73\"><a href=\"#cb1-73\" aria-hidden=\"true\" tabindex=\"-1\"></a>IProduct <span class=\"op\">&lt;|..</span> <span class=\"at\">Product</span></span>\n<span id=\"cb1-74\"><a href=\"#cb1-74\" aria-hidden=\"true\" tabindex=\"-1\"></a>IProduct <span class=\"op\">&lt;|..</span> <span class=\"at\">Bundle</span></span>\n<span id=\"cb1-75\"><a href=\"#cb1-75\" aria-hidden=\"true\" tabindex=\"-1\"></a>IProduct <span class=\"op\">&lt;|..</span> <span class=\"at\">DiscountedProduct</span></span>\n<span id=\"cb1-76\"><a href=\"#cb1-76\" aria-hidden=\"true\" tabindex=\"-1\"></a>ProductManager <span class=\"op\">*--&gt;</span> IProduct</span>\n<span id=\"cb1-77\"><a href=\"#cb1-77\" aria-hidden=\"true\" tabindex=\"-1\"></a>@enduml</span></code></pre></div>\n<!-- load -->\n<h2 id=\"shell\">Shell</h2>\n<div class=\"sourceCode\" id=\"cb2\"><pre\nclass=\"sourceCode bash\"><code class=\"sourceCode bash\"><span id=\"cb2-1\"><a href=\"#cb2-1\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\">#TEST_CASE criando produto simples</span></span>\n<span id=\"cb2-2\"><a href=\"#cb2-2\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb2-3\"><a href=\"#cb2-3\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"va\">$add</span> camisa 40</span>\n<span id=\"cb2-4\"><a href=\"#cb2-4\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"va\">$add</span> bermuda 30</span>\n<span id=\"cb2-5\"><a href=\"#cb2-5\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"va\">$add</span> bone 20</span>\n<span id=\"cb2-6\"><a href=\"#cb2-6\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"va\">$show</span></span>\n<span id=\"cb2-7\"><a href=\"#cb2-7\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">00:camisa:40.00</span></span>\n<span id=\"cb2-8\"><a href=\"#cb2-8\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">01:bermuda:30.00</span></span>\n<span id=\"cb2-9\"><a href=\"#cb2-9\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">02:bone:20.00</span></span>\n<span id=\"cb2-10\"><a href=\"#cb2-10\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb2-11\"><a href=\"#cb2-11\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\">#TEST_CASE criando pacote</span></span>\n<span id=\"cb2-12\"><a href=\"#cb2-12\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"va\">$addPacote</span> 0 2</span>\n<span id=\"cb2-13\"><a href=\"#cb2-13\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"va\">$addPacote</span> 1 1</span>\n<span id=\"cb2-14\"><a href=\"#cb2-14\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"va\">$addPacote</span> 0 1 2</span>\n<span id=\"cb2-15\"><a href=\"#cb2-15\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"va\">$show</span></span>\n<span id=\"cb2-16\"><a href=\"#cb2-16\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">00:camisa:40.00</span></span>\n<span id=\"cb2-17\"><a href=\"#cb2-17\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">01:bermuda:30.00</span></span>\n<span id=\"cb2-18\"><a href=\"#cb2-18\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">02:bone:20.00</span></span>\n<span id=\"cb2-19\"><a href=\"#cb2-19\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">03:[camisa,</span> bone]:60.00</span>\n<span id=\"cb2-20\"><a href=\"#cb2-20\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">04:[bermuda,</span> bermuda]:60.00</span>\n<span id=\"cb2-21\"><a href=\"#cb2-21\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">05:[camisa,</span> bermuda, bone]:90.00</span>\n<span id=\"cb2-22\"><a href=\"#cb2-22\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb2-23\"><a href=\"#cb2-23\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\">#TEST_CASE criando produto com desconto</span></span>\n<span id=\"cb2-24\"><a href=\"#cb2-24\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"va\">$addDesconto</span> 0 10</span>\n<span id=\"cb2-25\"><a href=\"#cb2-25\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"va\">$addDesconto</span> 3 20</span>\n<span id=\"cb2-26\"><a href=\"#cb2-26\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"va\">$addDesconto</span> 4 15</span>\n<span id=\"cb2-27\"><a href=\"#cb2-27\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb2-28\"><a href=\"#cb2-28\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"va\">$show</span></span>\n<span id=\"cb2-29\"><a href=\"#cb2-29\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">00:camisa:40.00</span></span>\n<span id=\"cb2-30\"><a href=\"#cb2-30\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">01:bermuda:30.00</span></span>\n<span id=\"cb2-31\"><a href=\"#cb2-31\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">02:bone:20.00</span></span>\n<span id=\"cb2-32\"><a href=\"#cb2-32\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">03:[camisa,</span> bone]:60.00</span>\n<span id=\"cb2-33\"><a href=\"#cb2-33\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">04:[bermuda,</span> bermuda]:60.00</span>\n<span id=\"cb2-34\"><a href=\"#cb2-34\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">05:[camisa,</span> bermuda, bone]:90.00</span>\n<span id=\"cb2-35\"><a href=\"#cb2-35\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">06:camisa</span><span class=\"er\">(</span><span class=\"ex\">10%</span> OFF<span class=\"kw\">)</span><span class=\"ex\">:36.00</span></span>\n<span id=\"cb2-36\"><a href=\"#cb2-36\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">07:[camisa,</span> bone]<span class=\"er\">(</span><span class=\"ex\">20%</span> OFF<span class=\"kw\">)</span><span class=\"ex\">:48.00</span></span>\n<span id=\"cb2-37\"><a href=\"#cb2-37\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">08:[bermuda,</span> bermuda]<span class=\"er\">(</span><span class=\"ex\">15%</span> OFF<span class=\"kw\">)</span><span class=\"ex\">:51.00</span></span>\n<span id=\"cb2-38\"><a href=\"#cb2-38\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb2-39\"><a href=\"#cb2-39\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\">#TEST_CASE finalizando</span></span>\n<span id=\"cb2-40\"><a href=\"#cb2-40\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb2-41\"><a href=\"#cb2-41\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"co\"># [camisa, bone](https://github.com/qxcodepoo/arcade/blob/master/base/produto/20%) + [bermuda, bermuda](https://github.com/qxcodepoo/arcade/blob/master/base/produto/15%)</span></span>\n<span id=\"cb2-42\"><a href=\"#cb2-42\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"va\">$addPacote</span> 7 8</span>\n<span id=\"cb2-43\"><a href=\"#cb2-43\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"va\">$addDesconto</span> 9 10</span>\n<span id=\"cb2-44\"><a href=\"#cb2-44\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"va\">$show</span></span>\n<span id=\"cb2-45\"><a href=\"#cb2-45\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">00:camisa:40.00</span></span>\n<span id=\"cb2-46\"><a href=\"#cb2-46\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">01:bermuda:30.00</span></span>\n<span id=\"cb2-47\"><a href=\"#cb2-47\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">02:bone:20.00</span></span>\n<span id=\"cb2-48\"><a href=\"#cb2-48\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">03:[camisa,</span> bone]:60.00</span>\n<span id=\"cb2-49\"><a href=\"#cb2-49\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">04:[bermuda,</span> bermuda]:60.00</span>\n<span id=\"cb2-50\"><a href=\"#cb2-50\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">05:[camisa,</span> bermuda, bone]:90.00</span>\n<span id=\"cb2-51\"><a href=\"#cb2-51\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">06:camisa</span><span class=\"er\">(</span><span class=\"ex\">10%</span> OFF<span class=\"kw\">)</span><span class=\"ex\">:36.00</span></span>\n<span id=\"cb2-52\"><a href=\"#cb2-52\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">07:[camisa,</span> bone]<span class=\"er\">(</span><span class=\"ex\">20%</span> OFF<span class=\"kw\">)</span><span class=\"ex\">:48.00</span></span>\n<span id=\"cb2-53\"><a href=\"#cb2-53\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">08:[bermuda,</span> bermuda]<span class=\"er\">(</span><span class=\"ex\">15%</span> OFF<span class=\"kw\">)</span><span class=\"ex\">:51.00</span></span>\n<span id=\"cb2-54\"><a href=\"#cb2-54\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">09:[[camisa,</span> bone]<span class=\"er\">(</span><span class=\"ex\">20%</span> OFF<span class=\"kw\">)</span><span class=\"ex\">,</span> [bermuda, bermuda]<span class=\"er\">(</span><span class=\"ex\">15%</span> OFF<span class=\"kw\">)</span><span class=\"ex\">]:99.00</span></span>\n<span id=\"cb2-55\"><a href=\"#cb2-55\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"ex\">10:[[camisa,</span> bone]<span class=\"er\">(</span><span class=\"ex\">20%</span> OFF<span class=\"kw\">)</span><span class=\"ex\">,</span> [bermuda, bermuda]<span class=\"er\">(</span><span class=\"ex\">15%</span> OFF<span class=\"kw\">)</span><span class=\"ex\">]</span><span class=\"er\">(</span><span class=\"ex\">10%</span> OFF<span class=\"kw\">)</span><span class=\"ex\">:89.10</span></span>\n<span id=\"cb2-56\"><a href=\"#cb2-56\" aria-hidden=\"true\" tabindex=\"-1\"></a></span>\n<span id=\"cb2-57\"><a href=\"#cb2-57\" aria-hidden=\"true\" tabindex=\"-1\"></a><span class=\"va\">$end</span></span></code></pre></div>\n</body>\n</html>",
    "upload": [
        {
            "name": "vpl_evaluate.cases",
            "contents": ">>>>>>>> INSERT criando produto simples\nadd camisa 40\nadd bermuda 30\nadd bone 20\nshow\nend\n======== EXPECT\n$add camisa 40\n$add bermuda 30\n$add bone 20\n$show\n00:camisa:40.00\n01:bermuda:30.00\n02:bone:20.00\n$end\n<<<<<<<< FINISH\n\n\n>>>>>>>> INSERT criando pacote\nadd camisa 40\nadd bermuda 30\nadd bone 20\nshow\naddPacote 0 2\naddPacote 1 1\naddPacote 0 1 2\nshow\nend\n======== EXPECT\n$add camisa 40\n$add bermuda 30\n$add bone 20\n$show\n00:camisa:40.00\n01:bermuda:30.00\n02:bone:20.00\n$addPacote 0 2\n$addPacote 1 1\n$addPacote 0 1 2\n$show\n00:camisa:40.00\n01:bermuda:30.00\n02:bone:20.00\n03:[camisa, bone]:60.00\n04:[bermuda, bermuda]:60.00\n05:[camisa, bermuda, bone]:90.00\n$end\n<<<<<<<< FINISH\n\n\n>>>>>>>> INSERT criando produto com desconto\nadd camisa 40\nadd bermuda 30\nadd bone 20\nshow\naddPacote 0 2\naddPacote 1 1\naddPacote 0 1 2\nshow\naddDesconto 0 10\naddDesconto 3 20\naddDesconto 4 15\nshow\nend\n======== EXPECT\n$add camisa 40\n$add bermuda 30\n$add bone 20\n$show\n00:camisa:40.00\n01:bermuda:30.00\n02:bone:20.00\n$addPacote 0 2\n$addPacote 1 1\n$addPacote 0 1 2\n$show\n00:camisa:40.00\n01:bermuda:30.00\n02:bone:20.00\n03:[camisa, bone]:60.00\n04:[bermuda, bermuda]:60.00\n05:[camisa, bermuda, bone]:90.00\n$addDesconto 0 10\n$addDesconto 3 20\n$addDesconto 4 15\n$show\n00:camisa:40.00\n01:bermuda:30.00\n02:bone:20.00\n03:[camisa, bone]:60.00\n04:[bermuda, bermuda]:60.00\n05:[camisa, bermuda, bone]:90.00\n06:camisa(10% OFF):36.00\n07:[camisa, bone](20% OFF):48.00\n08:[bermuda, bermuda](15% OFF):51.00\n$end\n<<<<<<<< FINISH\n\n\n>>>>>>>> INSERT finalizando\nadd camisa 40\nadd bermuda 30\nadd bone 20\nshow\naddPacote 0 2\naddPacote 1 1\naddPacote 0 1 2\nshow\naddDesconto 0 10\naddDesconto 3 20\naddDesconto 4 15\nshow\naddPacote 7 8\naddDesconto 9 10\nshow\nend\n======== EXPECT\n$add camisa 40\n$add bermuda 30\n$add bone 20\n$show\n00:camisa:40.00\n01:bermuda:30.00\n02:bone:20.00\n$addPacote 0 2\n$addPacote 1 1\n$addPacote 0 1 2\n$show\n00:camisa:40.00\n01:bermuda:30.00\n02:bone:20.00\n03:[camisa, bone]:60.00\n04:[bermuda, bermuda]:60.00\n05:[camisa, bermuda, bone]:90.00\n$addDesconto 0 10\n$addDesconto 3 20\n$addDesconto 4 15\n$show\n00:camisa:40.00\n01:bermuda:30.00\n02:bone:20.00\n03:[camisa, bone]:60.00\n04:[bermuda, bermuda]:60.00\n05:[camisa, bermuda, bone]:90.00\n06:camisa(10% OFF):36.00\n07:[camisa, bone](20% OFF):48.00\n08:[bermuda, bermuda](15% OFF):51.00\n$addPacote 7 8\n$addDesconto 9 10\n$show\n00:camisa:40.00\n01:bermuda:30.00\n02:bone:20.00\n03:[camisa, bone]:60.00\n04:[bermuda, bermuda]:60.00\n05:[camisa, bermuda, bone]:90.00\n06:camisa(10% OFF):36.00\n07:[camisa, bone](20% OFF):48.00\n08:[bermuda, bermuda](15% OFF):51.00\n09:[[camisa, bone](20% OFF), [bermuda, bermuda](15% OFF)]:99.00\n10:[[camisa, bone](20% OFF), [bermuda, bermuda](15% OFF)](10% OFF):89.10\n$end\n<<<<<<<< FINISH\n\n",
            "encoding": 0
        }
    ],
    "keep": [],
    "required": [],
    "draft": {
        "ts": [
            {
                "name": "adapter.ts",
                "contents": "\nclass Adapter {\n    addProduct(label: string, price: number): void {\n        this.manager.addProduct(label, price);\n    }\n\n    addBundle(indexes: number[]): void {\n        this.manager.addBundle(indexes);\n    }\n\n    addDiscount(index: number, discount: number) {\n        this.manager.addDiscount(index, discount);\n    }\n\n    toString(): string {\n        return this.manager.toString();\n        return \"\";\n    }\n\n\n}\n\nexport { Adapter};",
                "encoding": 0
            },
            {
                "name": "produtct.ts",
                "contents": "\n",
                "encoding": 0
            },
            {
                "name": "aashell.ts",
                "contents": "import { Adapter } from \"./adapter\";\n\nfunction input(): string { let X: any = input; X.L = X.L || require(\"fs\").readFileSync(0).toString().split(/\\r?\\n/); return X.L.shift(); } // _TEST_ONLY_\n// function input(): string { let X: any = input; X.P = X.P || require(\"readline-sync\"); return X.P.question() } // _FREE_ONLY_\nfunction write(text: any, endl=\"\\n\") { process.stdout.write(\"\" + text + endl); }\nexport {};\n\nfunction main() {\n    let adp = new Adapter();\n\n    while (true) {\n        write(\"$\", \"\");\n        let line = input();\n        write(line);\n        let args = line.split(\" \");\n\n        if (args[0] === \"end\") {\n            break;\n        }\n        else if (args[0] === \"add\") {\n            let label = args[1];\n            let preco = +args[2];\n            adp.addProduct(label, preco);\n        }\n        else if (args[0] === \"addPacote\") {\n            let indexes = args.slice(1).map(x => +x);\n            adp.addBundle(indexes);\n        }\n        else if (args[0] === \"addDesconto\") {\n            let index = +args[1];\n            let desconto = +args[2];\n            adp.addDiscount(index, desconto);\n        }\n        else if (args[0] === \"show\") {\n            write(adp.toString());\n        }\n        else {\n            write(\"fail: comando invalido\");\n        }\n    }\n}\n\nmain();",
                "encoding": 0
            },
            {
                "name": "manager.ts",
                "contents": "\n",
                "encoding": 0
            }
        ]
    }
}
