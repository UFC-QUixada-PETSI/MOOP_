{
    "title": "Padr\u00e3o Composite e Decorator: @produto",
    "description": "# Padr\u00e3o Composite e Decorator: @produto\n\nPadr\u00f5es de projeto s\u00e3o solu\u00e7\u00f5es para problemas comuns que encontramos ao projetar um sistema. Eles s\u00e3o como receitas de bolo que podemos aplicar em nossos projetos para resolver problemas comuns. Os padr\u00f5es de projeto s\u00e3o divididos em tr\u00eas categorias: padr\u00f5es de cria\u00e7\u00e3o, padr\u00f5es estruturais e padr\u00f5es comportamentais.\n\nVamos trabalhar os conceitos de dois padr\u00f5es de projeto: Composite e Decorator.\n\n## Composite\n\nO padr\u00e3o Composite \u00e9 um padr\u00e3o estrutural que permite que objetos sejam agrupados de forma a trat\u00e1-los como se fossem um \u00fanico objeto. O padr\u00e3o Composite permite que clientes tratem objetos individuais e composi\u00e7\u00f5es de objetos de maneira uniforme.\n\n## Decorator\n\nO padr\u00e3o Decorator \u00e9 um padr\u00e3o estrutural que permite que responsabilidades sejam adicionadas a um objeto dinamicamente. O padr\u00e3o Decorator permite que um objeto seja envolvido por outros objetos que adicionam comportamento a ele. O padr\u00e3o Decorator \u00e9 frequentemente usado para adicionar responsabilidades a objetos sem que isso cause um efeito colateral para os outros objetos.\n\n## Exemplo\n\nVamos modelar um sistema de vendas de produtos. O sistema deve permitir que sejam cadastrados produtos simples e pacotes. Pacotes s\u00e3o o agrupamento de produtos que devem ser vendidos juntos. Produtos simples s\u00e3o produtos que n\u00e3o cont\u00e9m outros produtos. Pacotes e produtos simples devem ser tratados de forma uniforme. Al\u00e9m disso, deve ser poss\u00edvel criar produtos ou pacotes com disconto, em quaisquer tipo de montagem ou configura\u00e7\u00e3o.\n\n## Resolu\u00e7\u00e3o\n\n- Vamos criar uma interface `IProduct` que define os m\u00e9todos `getPrice()` e `getLabel()`. Ela representa nosso contrato de o que uma classe deve implementar para ser considerada um produto.\n- Vamos criar uma classe `Product` que implementa a interface `IProduct`.\n  - Ela representa um produto simples. A classe `Product` possui os atributos `name` e `price`.\n  - O m\u00e9todo `getPrice()` retorna o pre\u00e7o do produto.\n  - O m\u00e9todo `getLabel()` retorna o nome do produto.\n- Vamos criar uma classe `Bundle` (Pacote) que implementa a interface `IProduct`.\n  - Ela ao mesmo tempo \u00e9 um produto e cont\u00e9m produtos.\n  - A classe `Bundle` possui o atributo `products` que \u00e9 uma lista de produtos que ela cont\u00e9m.\n  - O m\u00e9todo `addProduct()` adiciona um produto na lista de produtos.\n  - O m\u00e9todo `getPrice()` retorna o pre\u00e7o do pacote que \u00e9 calculado a partir da soma dos pre\u00e7os de cada um produtos que o pacote cont\u00e9m.\n  - O m\u00e9todo `getLabel()` retorna uma String com os nomes dos produtos contidos no pacote.\n- Vamos criar uma classe `DiscountedProduct` (Produto com desconto) que implementa a interface `IProduct`.\n  - Ela ao mesmo tempo \u00e9 um produto e cont\u00e9m um produto.\n  - A classe `DiscountedProduct` possui os atributos `product` e `discount`.\n  - O m\u00e9todo `getPrice()` retorna o pre\u00e7o do produto com desconto que \u00e9 calculado a partir do pre\u00e7o do produto que ele cont\u00e9m menos o desconto.\n  - O m\u00e9todo `getLabel()` retorna uma String com o nome do produto que ele cont\u00e9m e o desconto.\n\n## Draft\n\n[draft.ts](.cache/draft.ts)\n\n## Guide\n\n![Diagrama de Classes](diagrama.png)\n\n<!-- load diagrama.puml fenced=ts:filter -->\n\n```ts\n\n' Interface que define a responsabilidade de um produto\ninterface IProduct {\n  + getPrice(): double\n  + getLabel(): String\n}\n\n' Produto simples\nclass Product {\n  - name: String\n  - price: double\n  + Product(name: String, price: double)\n  + getPrice(): double\n  + getLabel(): String\n}\n\n' Conjunto de produtos que s\u00e3o vendidos juntos\nclass Bundle {\n  - products: List<IProduct>\n  + Bundle(products: List<IProduct>)\n  + addProduct(product: IProduct): void\n  \n  ' A soma dos pre\u00e7os dos produtos individuais\n  + getPrice(): double\n\n  ' A concatena\u00e7\u00e3o dos nomes dos produtos individuais no formato [nome1, nome2, nome3]\n  + getLabel(): String\n}\n\n' Produto com desconto\nclass DiscountedProduct {\n  - product: IProduct\n\n  ' Valor de 0 a 100\n  - discount: double\n\n  + DiscountedProduct(product: IProduct, discount: double)\n  \n  ' O valor do produto original - o desconto\n  + getPrice(): double\n\n  ' O label do produto original com o desconto no formato\n  ' label_original (desconto %OFF)\n  + getLabel(): String\n}\n\n' Gerenciador de produtos\nclass ProductManager {\n  - products: List<IProduct>\n  + ProductManager()\n\n  ' Adiciona um produto simples\n  + addProduct(label: String, price: double): void\n\n  ' Cria um pacote a partir de todos os \u00edndices\n  + addPackage(indexes: List<int>): void\n\n  ' Adiciona um desconto a um produto dado o \u00edndice do produto\n  + addDiscount(index: int, discount: double): void\n\n  ' Mostra os \u00edndices dos produtos, seus r\u00f3tulos e pre\u00e7os\n  + toString(): String\n}\n\n```\n\n<!-- load -->\n\n## Shell\n\n```bash\n#__case criando produto simples\n\n$add camisa 40\n$add bermuda 30\n$add bone 20\n$show\n00:camisa:40.00\n01:bermuda:30.00\n02:bone:20.00\n\n#__case criando pacote\n$addPacote 0 2\n$addPacote 1 1\n$addPacote 0 1 2\n$show\n00:camisa:40.00\n01:bermuda:30.00\n02:bone:20.00\n03:[camisa, bone]:60.00\n04:[bermuda, bermuda]:60.00\n05:[camisa, bermuda, bone]:90.00\n\n#__case criando produto com desconto\n$addDesconto 0 10\n$addDesconto 3 20\n$addDesconto 4 15\n\n$show\n00:camisa:40.00\n01:bermuda:30.00\n02:bone:20.00\n03:[camisa, bone]:60.00\n04:[bermuda, bermuda]:60.00\n05:[camisa, bermuda, bone]:90.00\n06:camisa(10% OFF):36.00\n07:[camisa, bone](20% OFF):48.00\n08:[bermuda, bermuda](15% OFF):51.00\n\n#__case finalizando\n\n# [camisa, bone](20%) + [bermuda, bermuda](15%)\n$addPacote 7 8\n$addDesconto 9 10\n$show\n00:camisa:40.00\n01:bermuda:30.00\n02:bone:20.00\n03:[camisa, bone]:60.00\n04:[bermuda, bermuda]:60.00\n05:[camisa, bermuda, bone]:90.00\n06:camisa(10% OFF):36.00\n07:[camisa, bone](20% OFF):48.00\n08:[bermuda, bermuda](15% OFF):51.00\n09:[[camisa, bone](20% OFF), [bermuda, bermuda](15% OFF)]:99.00\n10:[[camisa, bone](20% OFF), [bermuda, bermuda](15% OFF)](10% OFF):89.10\n\n$end\n```\n",
    "upload": [
        {
            "name": "vpl_evaluate.cases",
            "contents": ">>>>>>>> criando produto simples\nadd camisa 40\nadd bermuda 30\nadd bone 20\nshow\nend\n========\n$add camisa 40\n$add bermuda 30\n$add bone 20\n$show\n00:camisa:40.00\n01:bermuda:30.00\n02:bone:20.00\n$end\n<<<<<<<<\n\n>>>>>>>> criando pacote\nadd camisa 40\nadd bermuda 30\nadd bone 20\nshow\naddPacote 0 2\naddPacote 1 1\naddPacote 0 1 2\nshow\nend\n========\n$add camisa 40\n$add bermuda 30\n$add bone 20\n$show\n00:camisa:40.00\n01:bermuda:30.00\n02:bone:20.00\n$addPacote 0 2\n$addPacote 1 1\n$addPacote 0 1 2\n$show\n00:camisa:40.00\n01:bermuda:30.00\n02:bone:20.00\n03:[camisa, bone]:60.00\n04:[bermuda, bermuda]:60.00\n05:[camisa, bermuda, bone]:90.00\n$end\n<<<<<<<<\n\n>>>>>>>> criando produto com desconto\nadd camisa 40\nadd bermuda 30\nadd bone 20\nshow\naddPacote 0 2\naddPacote 1 1\naddPacote 0 1 2\nshow\naddDesconto 0 10\naddDesconto 3 20\naddDesconto 4 15\nshow\nend\n========\n$add camisa 40\n$add bermuda 30\n$add bone 20\n$show\n00:camisa:40.00\n01:bermuda:30.00\n02:bone:20.00\n$addPacote 0 2\n$addPacote 1 1\n$addPacote 0 1 2\n$show\n00:camisa:40.00\n01:bermuda:30.00\n02:bone:20.00\n03:[camisa, bone]:60.00\n04:[bermuda, bermuda]:60.00\n05:[camisa, bermuda, bone]:90.00\n$addDesconto 0 10\n$addDesconto 3 20\n$addDesconto 4 15\n$show\n00:camisa:40.00\n01:bermuda:30.00\n02:bone:20.00\n03:[camisa, bone]:60.00\n04:[bermuda, bermuda]:60.00\n05:[camisa, bermuda, bone]:90.00\n06:camisa(10% OFF):36.00\n07:[camisa, bone](20% OFF):48.00\n08:[bermuda, bermuda](15% OFF):51.00\n$end\n<<<<<<<<\n\n>>>>>>>> finalizando\nadd camisa 40\nadd bermuda 30\nadd bone 20\nshow\naddPacote 0 2\naddPacote 1 1\naddPacote 0 1 2\nshow\naddDesconto 0 10\naddDesconto 3 20\naddDesconto 4 15\nshow\naddPacote 7 8\naddDesconto 9 10\nshow\nend\n========\n$add camisa 40\n$add bermuda 30\n$add bone 20\n$show\n00:camisa:40.00\n01:bermuda:30.00\n02:bone:20.00\n$addPacote 0 2\n$addPacote 1 1\n$addPacote 0 1 2\n$show\n00:camisa:40.00\n01:bermuda:30.00\n02:bone:20.00\n03:[camisa, bone]:60.00\n04:[bermuda, bermuda]:60.00\n05:[camisa, bermuda, bone]:90.00\n$addDesconto 0 10\n$addDesconto 3 20\n$addDesconto 4 15\n$show\n00:camisa:40.00\n01:bermuda:30.00\n02:bone:20.00\n03:[camisa, bone]:60.00\n04:[bermuda, bermuda]:60.00\n05:[camisa, bermuda, bone]:90.00\n06:camisa(10% OFF):36.00\n07:[camisa, bone](20% OFF):48.00\n08:[bermuda, bermuda](15% OFF):51.00\n$addPacote 7 8\n$addDesconto 9 10\n$show\n00:camisa:40.00\n01:bermuda:30.00\n02:bone:20.00\n03:[camisa, bone]:60.00\n04:[bermuda, bermuda]:60.00\n05:[camisa, bermuda, bone]:90.00\n06:camisa(10% OFF):36.00\n07:[camisa, bone](20% OFF):48.00\n08:[bermuda, bermuda](15% OFF):51.00\n09:[[camisa, bone](20% OFF), [bermuda, bermuda](15% OFF)]:99.00\n10:[[camisa, bone](20% OFF), [bermuda, bermuda](15% OFF)](10% OFF):89.10\n$end\n<<<<<<<<\n",
            "encoding": 0
        }
    ],
    "keep": [],
    "required": [],
    "draft": {}
}
